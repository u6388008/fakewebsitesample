/*! For license information please see site.js.LICENSE.txt */
!function(){var e={187:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,s,l;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):f(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=f(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return h(this,e,!0)},i.prototype.rawListeners=function(e){return h(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var i=[],s=Object.getPrototypeOf,a=i.slice,c=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},l=i.push,u=i.indexOf,d={},h=d.toString,p=d.hasOwnProperty,f=p.toString,g=f.call(Object),m={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},w=r.document,C={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,o,i=(n=n||w).createElement("script");if(i.text=e,t)for(r in C)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e}var T="3.6.3",S=function(e,t){return new S.fn.init(e,t)};function _(e){var t=!!e&&"length"in e&&e.length,n=E(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}S.fn=S.prototype={jquery:T,constructor:S,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:i.sort,splice:i.splice},S.extend=S.fn.extend=function(){var e,t,n,r,o,i,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(l&&r&&(S.isPlainObject(r)||(o=Array.isArray(r)))?(n=s[t],i=o&&!Array.isArray(n)?[]:o||S.isPlainObject(n)?n:{},o=!1,s[t]=S.extend(l,i,r)):void 0!==r&&(s[t]=r));return s},S.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=s(e))||"function"==typeof(n=p.call(t,"constructor")&&t.constructor)&&f.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(_(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?S.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,s=!n;o<i;o++)!t(e[o],o)!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,s=[];if(_(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&s.push(o);return c(s)},guid:1,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=i[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var I=function(e){var t,n,r,o,i,s,a,c,l,u,d,h,p,f,g,m,v,y,w,C="sizzle"+1*new Date,b=e.document,E=0,T=0,S=ce(),_=ce(),I=ce(),k=ce(),A=function(e,t){return e===t&&(d=!0),0},R={}.hasOwnProperty,P=[],M=P.pop,x=P.push,N=P.push,O=P.slice,q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",D="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\[[\\x20\\t\\r\\n\\f]*("+D+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+H+"*\\]",B=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",F=new RegExp(H+"+","g"),K=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),j=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),z=new RegExp(H+"|>"),W=new RegExp(B),V=new RegExp("^"+D+"$"),Y={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){h()},se=Ce((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(P=O.call(b.childNodes),b.childNodes),P[b.childNodes.length].nodeType}catch(e){N={apply:P.length?function(e,t){x.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,o){var i,a,l,u,d,f,v,y=t&&t.ownerDocument,b=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return r;if(!o&&(h(t),t=t||p,g)){if(11!==b&&(d=Z.exec(e)))if(i=d[1]){if(9===b){if(!(l=t.getElementById(i)))return r;if(l.id===i)return r.push(l),r}else if(y&&(l=y.getElementById(i))&&w(t,l)&&l.id===i)return r.push(l),r}else{if(d[2])return N.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!k[e+" "]&&(!m||!m.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===b&&(z.test(e)||j.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(re,oe):t.setAttribute("id",u=C)),a=(f=s(e)).length;a--;)f[a]=(u?"#"+u:":scope")+" "+we(f[a]);v=f.join(",")}try{if(n.cssSupportsSelector&&!CSS.supports("selector(:is("+v+"))"))throw new Error;return N.apply(r,y.querySelectorAll(v)),r}catch(t){k(e,!0)}finally{u===C&&t.removeAttribute("id")}}}return c(e.replace(K,"$1"),t,r,o)}function ce(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function le(e){return e[C]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function he(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return le((function(t){return t=+t,le((function(n,r){for(var o,i=e([],n.length,t),s=i.length;s--;)n[o=i[s]]&&(n[o]=!(r[o]=n[o]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},i=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!$.test(t||n&&n.nodeName||"HTML")},h=ae.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:b;return s!=p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,g=!i(p),b!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=ue((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.cssSupportsSelector=ue((function(){return CSS.supports("selector(*)")&&p.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(p.getElementsByClassName),n.getById=ue((function(e){return f.appendChild(e).id=C,!p.getElementsByName||!p.getElementsByName(C).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=X.test(p.querySelectorAll))&&(ue((function(e){var t;f.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+L+")"),e.querySelectorAll("[id~="+C+"-]").length||m.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=X.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",B)})),n.cssSupportsSelector||m.push(":has"),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=X.test(f.compareDocumentPosition),w=t||X.test(f.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==b&&w(b,e)?-1:t==p||t.ownerDocument==b&&w(b,t)?1:u?q(u,e)-q(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],a=[t];if(!o||!i)return e==p?-1:t==p?1:o?-1:i?1:u?q(u,e)-q(u,t):0;if(o===i)return he(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?he(s[r],a[r]):s[r]==b?-1:a[r]==b?1:0},p):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&g&&!k[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){k(t,!0)}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=p&&h(e),w(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=p&&h(e);var o=r.attrHandle[t.toLowerCase()],i=o&&R.call(r.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(re,oe)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(A),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return u=null,e},o=ae.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},r=ae.selectors={cacheLength:50,createPseudo:le,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+H+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ae.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,h,p,f,g=i!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!c&&!a,w=!1;if(m){if(i){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(w=(p=(l=(u=(d=(h=m)[C]||(h[C]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===E&&l[1])&&l[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(w=p=0)||f.pop();)if(1===h.nodeType&&++w&&h===t){u[e]=[E,p,w];break}}else if(y&&(w=p=(l=(u=(d=(h=t)[C]||(h[C]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===E&&l[1]),!1===w)for(;(h=++p&&h&&h[g]||(w=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++w||(y&&((u=(d=h[C]||(h[C]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[E,w]),h!==t)););return(w-=o)===r||w%r==0&&w/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return o[C]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?le((function(e,n){for(var r,i=o(e,t),s=i.length;s--;)e[r=q(e,i[s])]=!(n[r]=i[s])})):function(e){return o(e,0,n)}):o}},pseudos:{not:le((function(e){var t=[],n=[],r=a(e.replace(K,"$1"));return r[C]?le((function(e,t,n,o){for(var i,s=r(e,null,o,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:le((function(e){return function(t){return ae(e,t).length>0}})),contains:le((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:le((function(e){return V.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:me((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function ye(){}function we(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Ce(e,t,n){var r=t.dir,o=t.next,i=o||r,s=n&&"parentNode"===i,a=T++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,c){var l,u,d,h=[E,a];if(c){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=(d=t[C]||(t[C]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=u[i])&&l[0]===E&&l[1]===a)return h[2]=l[2];if(u[i]=h,h[2]=e(t,n,c))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Ee(e,t,n,r,o){for(var i,s=[],a=0,c=e.length,l=null!=t;a<c;a++)(i=e[a])&&(n&&!n(i,r,o)||(s.push(i),l&&t.push(a)));return s}function Te(e,t,n,r,o,i){return r&&!r[C]&&(r=Te(r)),o&&!o[C]&&(o=Te(o,i)),le((function(i,s,a,c){var l,u,d,h=[],p=[],f=s.length,g=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!i&&t?g:Ee(g,h,e,a,c),v=n?o||(i?e:f||r)?[]:s:m;if(n&&n(m,v,a,c),r)for(l=Ee(v,p),r(l,[],a,c),u=l.length;u--;)(d=l[u])&&(v[p[u]]=!(m[p[u]]=d));if(i){if(o||e){if(o){for(l=[],u=v.length;u--;)(d=v[u])&&l.push(m[u]=d);o(null,v=[],l,c)}for(u=v.length;u--;)(d=v[u])&&(l=o?q(i,d):h[u])>-1&&(i[l]=!(s[l]=d))}}else v=Ee(v===s?v.splice(f,v.length):v),o?o(null,s,v,c):N.apply(s,v)}))}function Se(e){for(var t,n,o,i=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],c=s?1:0,u=Ce((function(e){return e===t}),a,!0),d=Ce((function(e){return q(t,e)>-1}),a,!0),h=[function(e,n,r){var o=!s&&(r||n!==l)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,o}];c<i;c++)if(n=r.relative[e[c].type])h=[Ce(be(h),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[C]){for(o=++c;o<i&&!r.relative[e[o].type];o++);return Te(c>1&&be(h),c>1&&we(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(K,"$1"),n,c<o&&Se(e.slice(c,o)),o<i&&Se(e=e.slice(o)),o<i&&we(e))}h.push(n)}return be(h)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,s=ae.tokenize=function(e,t){var n,o,i,s,a,c,l,u=_[e+" "];if(u)return t?0:u.slice(0);for(a=e,c=[],l=r.preFilter;a;){for(s in n&&!(o=G.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(i=[])),n=!1,(o=j.exec(a))&&(n=o.shift(),i.push({value:n,type:o[0].replace(K," ")}),a=a.slice(n.length)),r.filter)!(o=Y[s].exec(a))||l[s]&&!(o=l[s](o))||(n=o.shift(),i.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):_(e,c).slice(0)},a=ae.compile=function(e,t){var n,o=[],i=[],a=I[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Se(t[n]))[C]?o.push(a):i.push(a);a=I(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,s,a,c,u){var d,f,m,v=0,y="0",w=i&&[],C=[],b=l,T=i||o&&r.find.TAG("*",u),S=E+=null==b?1:Math.random()||.1,_=T.length;for(u&&(l=s==p||s||u);y!==_&&null!=(d=T[y]);y++){if(o&&d){for(f=0,s||d.ownerDocument==p||(h(d),a=!g);m=e[f++];)if(m(d,s||p,a)){c.push(d);break}u&&(E=S)}n&&((d=!m&&d)&&v--,i&&w.push(d))}if(v+=y,n&&y!==v){for(f=0;m=t[f++];)m(w,C,s,a);if(i){if(v>0)for(;y--;)w[y]||C[y]||(C[y]=M.call(c));C=Ee(C)}N.apply(c,C),u&&!i&&C.length>0&&v+t.length>1&&ae.uniqueSort(c)}return u&&(E=S,l=b),w};return n?le(i):i}(i,o)),a.selector=e}return a},c=ae.select=function(e,t,n,o){var i,c,l,u,d,h="function"==typeof e&&e,p=!o&&s(e=h.selector||e);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&g&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(i=Y.needsContext.test(e)?0:c.length;i--&&(l=c[i],!r.relative[u=l.type]);)if((d=r.find[u])&&(o=d(l.matches[0].replace(te,ne),ee.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(i,1),!(e=o.length&&we(c)))return N.apply(n,o),n;break}}return(h||a(e,p))(o,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=C.split("").sort(A).join("")===C,n.detectDuplicates=!!d,h(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(L,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ae}(r);S.find=I,S.expr=I.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=I.uniqueSort,S.text=I.getText,S.isXMLDoc=I.isXML,S.contains=I.contains,S.escapeSelector=I.escape;var k=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&S(e).is(n))break;r.push(e)}return r},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},R=S.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function x(e,t,n){return v(t)?S.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?S.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?S.grep(e,(function(e){return u.call(t,e)>-1!==n})):S.filter(t,e,n)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,(function(e){return 1===e.nodeType})))},S.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(S(e).filter((function(){for(t=0;t<r;t++)if(S.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,o[t],n);return r>1?S.uniqueSort(n):n},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&R.test(e)?S(e):e||[],!1).length}});var N,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),M.test(r[1])&&S.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=w.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,N=S(w);var q=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function H(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],s="string"!=typeof e&&S(e);if(!R.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?S.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?u.call(S(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return H(e,"nextSibling")},prev:function(e){return H(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},(function(e,t){S.fn[e]=function(n,r){var o=S.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=S.filter(r,o)),this.length>1&&(L[e]||S.uniqueSort(o),q.test(e)&&o.reverse()),this.pushStack(o)}}));var D=/[^\x20\t\r\n\f]+/g;function U(e){return e}function B(e){throw e}function F(e,t,n,r){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return S.each(e.match(D)||[],(function(e,n){t[n]=!0})),t}(e):S.extend({},e);var t,n,r,o,i=[],s=[],a=-1,c=function(){for(o=o||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<i.length;)!1===i[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(a=i.length-1,s.push(n)),function t(n){S.each(n,(function(n,r){v(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==E(r)&&t(r)}))}(arguments),n&&!t&&c()),this},remove:function(){return S.each(arguments,(function(e,t){for(var n;(n=S.inArray(t,i,n))>-1;)i.splice(n,1),n<=a&&a--})),this},has:function(e){return e?S.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=s=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return S.Deferred((function(n){S.each(t,(function(t,r){var o=v(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var i=0;function s(e,t,n,o){return function(){var a=this,c=arguments,l=function(){var r,l;if(!(e<i)){if((r=n.apply(a,c))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(l)?o?l.call(r,s(i,t,U,o),s(i,t,B,o)):(i++,l.call(r,s(i,t,U,o),s(i,t,B,o),s(i,t,U,t.notifyWith))):(n!==U&&(a=void 0,c=[r]),(o||t.resolveWith)(a,c))}},u=o?l:function(){try{l()}catch(r){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(r,u.stackTrace),e+1>=i&&(n!==B&&(a=void 0,c=[r]),t.rejectWith(a,c))}};e?u():(S.Deferred.getStackHook&&(u.stackTrace=S.Deferred.getStackHook()),r.setTimeout(u))}}return S.Deferred((function(r){t[0][3].add(s(0,r,v(o)?o:U,r.notifyWith)),t[1][3].add(s(0,r,v(e)?e:U)),t[2][3].add(s(0,r,v(n)?n:B))})).promise()},promise:function(e){return null!=e?S.extend(e,o):o}},i={};return S.each(t,(function(e,r){var s=r[2],a=r[5];o[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=s.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=a.call(arguments),i=S.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?a.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(F(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||v(o[n]&&o[n].then)))return i.then();for(;n--;)F(o[n],s(n),i.reject);return i.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&K.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){r.setTimeout((function(){throw e}))};var G=S.Deferred();function j(){w.removeEventListener("DOMContentLoaded",j),r.removeEventListener("load",j),S.ready()}S.fn.ready=function(e){return G.then(e).catch((function(e){S.readyException(e)})),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||G.resolveWith(w,[S]))}}),S.ready.then=G.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?r.setTimeout(S.ready):(w.addEventListener("DOMContentLoaded",j),r.addEventListener("load",j));var z=function(e,t,n,r,o,i,s){var a=0,c=e.length,l=null==n;if("object"===E(n))for(a in o=!0,n)z(e,t,a,n[a],!0,i,s);else if(void 0!==r&&(o=!0,v(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;a<c;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return o?e:l?t.call(e):c?t(e[0],n):i},W=/^-ms-/,V=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function $(e){return e.replace(W,"ms-").replace(V,Y)}var Q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=S.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[$(t)]=n;else for(r in t)o[$(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map($):(t=$(t))in r?[t]:t.match(D)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var X=new J,Z=new J,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Z.hasData(e)||X.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),S.fn.extend({data:function(e,t){var n,r,o,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(o=Z.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=$(r.slice(5)),ne(i,r,o[r]));X.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Z.set(this,e)})):z(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Z.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,o=n.shift(),i=S._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){S.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:S.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),S.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?S.queue(this[0],e):void 0===t?this:this.each((function(){var n=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&S.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){S.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=S.Deferred(),i=this,s=this.length,a=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=X.get(i[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),o.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=w.documentElement,ae=function(e){return S.contains(e.ownerDocument,e)},ce={composed:!0};se.getRootNode&&(ae=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(ce)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===S.css(e,"display")};function ue(e,t,n,r){var o,i,s=20,a=r?function(){return r.cur()}:function(){return S.css(e,t,"")},c=a(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),u=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+c)&&oe.exec(S.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;s--;)S.style(e,t,u+l),(1-i)*(1-(i=a()/c||.5))<=0&&(s=0),u/=i;u*=2,S.style(e,t,u+l),n=n||[]}return n&&(u=+u||+c||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=o)),o}var de={};function he(e){var t,n=e.ownerDocument,r=e.nodeName,o=de[r];return o||(t=n.body.appendChild(n.createElement(r)),o=S.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),de[r]=o,o)}function pe(e,t){for(var n,r,o=[],i=0,s=e.length;i<s;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=X.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&le(r)&&(o[i]=he(r))):"none"!==n&&(o[i]="none",X.set(r,"display",n)));for(i=0;i<s;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}S.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){le(this)?S(this).show():S(this).hide()}))}});var fe,ge,me=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;fe=w.createDocumentFragment().appendChild(w.createElement("div")),(ge=w.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),fe.appendChild(ge),m.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",m.option=!!fe.lastChild;var we={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ce(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?S.merge([e],n):n}function be(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td,m.option||(we.optgroup=we.option=[1,"<select multiple='multiple'>","</select>"]);var Ee=/<|&#?\w+;/;function Te(e,t,n,r,o){for(var i,s,a,c,l,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((i=e[p])||0===i)if("object"===E(i))S.merge(h,i.nodeType?[i]:i);else if(Ee.test(i)){for(s=s||d.appendChild(t.createElement("div")),a=(ve.exec(i)||["",""])[1].toLowerCase(),c=we[a]||we._default,s.innerHTML=c[1]+S.htmlPrefilter(i)+c[2],u=c[0];u--;)s=s.lastChild;S.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(i));for(d.textContent="",p=0;i=h[p++];)if(r&&S.inArray(i,r)>-1)o&&o.push(i);else if(l=ae(i),s=Ce(d.appendChild(i),"script"),l&&be(s),n)for(u=0;i=s[u++];)ye.test(i.type||"")&&n.push(i);return d}var Se=/^([^.]*)(?:\.(.+)|)/;function _e(){return!0}function Ie(){return!1}function ke(e,t){return e===function(){try{return w.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,r,o,i){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,a,n,r,t[a],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Ie;else if(!o)return e;return 1===i&&(s=o,o=function(e){return S().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=S.guid++)),e.each((function(){S.event.add(this,t,o,r,n)}))}function Re(e,t,n){n?(X.set(e,t,!1),S.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=X.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(S.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=a.call(arguments),X.set(this,t,i),r=n(this,t),this[t](),i!==(o=X.get(this,t))||r?X.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&(X.set(this,t,{value:S.event.trigger(S.extend(i[0],S.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&S.event.add(e,t,_e)}S.event={global:{},add:function(e,t,n,r,o){var i,s,a,c,l,u,d,h,p,f,g,m=X.get(e);if(Q(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&S.find.matchesSelector(se,o),n.guid||(n.guid=S.guid++),(c=m.events)||(c=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(D)||[""]).length;l--;)p=g=(a=Se.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=S.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=S.event.special[p]||{},u=S.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&S.expr.match.needsContext.test(o),namespace:f.join(".")},i),(h=c[p])||((h=c[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),S.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,s,a,c,l,u,d,h,p,f,g,m=X.hasData(e)&&X.get(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(D)||[""]).length;l--;)if(p=g=(a=Se.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=S.event.special[p]||{},h=c[p=(r?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=h.length;i--;)u=h[i],!o&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(h.splice(i,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||S.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)S.event.remove(e,p+t[l],n,r,!0);S.isEmptyObject(c)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,s,a=new Array(arguments.length),c=S.event.fix(e),l=(X.get(this,"events")||Object.create(null))[c.type]||[],u=S.event.special[c.type]||{};for(a[0]=c,t=1;t<arguments.length;t++)a[t]=arguments[t];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(s=S.event.handlers.call(this,c,l),t=0;(o=s[t++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(r=((S.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,o,i,s,a=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(i=[],s={},n=0;n<c;n++)void 0===s[o=(r=t[n]).selector+" "]&&(s[o]=r.needsContext?S(o,this).index(l)>-1:S.find(o,this,null,[l]).length),s[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return l=this,c<t.length&&a.push({elem:l,handlers:t.slice(c)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&P(t,"input")&&Re(t,"click",_e),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&P(t,"input")&&Re(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&P(t,"input")&&X.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_e:Ie,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ie,isPropagationStopped:Ie,isImmediatePropagationStopped:Ie,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(e,t){S.event.special[e]={setup:function(){return Re(this,e,ke),!1},trigger:function(){return Re(this,e),!0},_default:function(t){return X.get(t.target,e)},delegateType:t}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||S.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),S.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ie),this.each((function(){S.event.remove(this,e,n,t)}))}});var Pe=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,o,i,s,a;if(1===t.nodeType){if(X.hasData(e)&&(a=X.get(e).events))for(o in X.remove(t,"handle events"),a)for(n=0,r=a[o].length;n<r;n++)S.event.add(t,o,a[o][n]);Z.hasData(e)&&(i=Z.access(e),s=S.extend({},i),Z.set(t,s))}}function He(e,t){var n=t.nodeName.toLowerCase();"input"===n&&me.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function De(e,t,n,r){t=c(t);var o,i,s,a,l,u,d=0,h=e.length,p=h-1,f=t[0],g=v(f);if(g||h>1&&"string"==typeof f&&!m.checkClone&&Me.test(f))return e.each((function(o){var i=e.eq(o);g&&(t[0]=f.call(this,o,i.html())),De(i,t,n,r)}));if(h&&(i=(o=Te(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=(s=S.map(Ce(o,"script"),Oe)).length;d<h;d++)l=o,d!==p&&(l=S.clone(l,!0,!0),a&&S.merge(s,Ce(l,"script"))),n.call(e[d],l,d);if(a)for(u=s[s.length-1].ownerDocument,S.map(s,qe),d=0;d<a;d++)l=s[d],ye.test(l.type||"")&&!X.access(l,"globalEval")&&S.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):b(l.textContent.replace(xe,""),l,u))}return e}function Ue(e,t,n){for(var r,o=t?S.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||S.cleanData(Ce(r)),r.parentNode&&(n&&ae(r)&&be(Ce(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,s,a=e.cloneNode(!0),c=ae(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(s=Ce(a),r=0,o=(i=Ce(e)).length;r<o;r++)He(i[r],s[r]);if(t)if(n)for(i=i||Ce(e),s=s||Ce(a),r=0,o=i.length;r<o;r++)Le(i[r],s[r]);else Le(e,a);return(s=Ce(a,"script")).length>0&&be(s,!c&&Ce(e,"script")),a},cleanData:function(e){for(var t,n,r,o=S.event.special,i=0;void 0!==(n=e[i]);i++)if(Q(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)o[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return z(this,(function(e){return void 0===e?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return De(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return De(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return De(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return De(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(Ce(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return S.clone(this,e,t)}))},html:function(e){return z(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!we[(ve.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(Ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,(function(t){var n=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(Ce(this)),n&&n.replaceChild(t,this))}),e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){S.fn[e]=function(e){for(var n,r=[],o=S(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),S(o[s])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var Be=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Fe=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ge=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},je=new RegExp(ie.join("|"),"i"),ze=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");function We(e,t,n){var r,o,i,s,a=Fe.test(t),c=e.style;return(n=n||Ke(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(ze,"$1")||void 0),""!==s||ae(e)||(s=S.style(e,t)),!m.pixelBoxStyles()&&Be.test(s)&&je.test(t)&&(r=c.width,o=c.minWidth,i=c.maxWidth,c.minWidth=c.maxWidth=c.width=s,s=n.width,c.width=r,c.minWidth=o,c.maxWidth=i)),void 0!==s?s+"":s}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(l).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,c=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),o=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),se.removeChild(l),u=null}}function t(e){return Math.round(parseFloat(e))}var n,o,i,s,a,c,l=w.createElement("div"),u=w.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,S.extend(m,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,o;return null==a&&(e=w.createElement("table"),t=w.createElement("tr"),n=w.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),o=r.getComputedStyle(t),a=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var Ye=["Webkit","Moz","ms"],$e=w.createElement("div").style,Qe={};function Je(e){var t=S.cssProps[e]||Qe[e];return t||(e in $e?e:Qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ye.length;n--;)if((e=Ye[n]+t)in $e)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Ze={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function tt(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function nt(e,t,n,r,o,i){var s="width"===t?1:0,a=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=S.css(e,n+ie[s],!0,o)),r?("content"===n&&(c-=S.css(e,"padding"+ie[s],!0,o)),"margin"!==n&&(c-=S.css(e,"border"+ie[s]+"Width",!0,o))):(c+=S.css(e,"padding"+ie[s],!0,o),"padding"!==n?c+=S.css(e,"border"+ie[s]+"Width",!0,o):a+=S.css(e,"border"+ie[s]+"Width",!0,o));return!r&&i>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-a-.5))||0),c}function rt(e,t,n){var r=Ke(e),o=(!m.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),i=o,s=We(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Be.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&o||!m.reliableTrDimensions()&&P(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===S.css(e,"boxSizing",!1,r),(i=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+nt(e,t,n||(o?"border":"content"),i,r,s)+"px"}function ot(e,t,n,r,o){return new ot.prototype.init(e,t,n,r,o)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,a=$(t),c=Fe.test(t),l=e.style;if(c||(t=Je(a)),s=S.cssHooks[t]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:l[t];"string"===(i=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=ue(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||c||(n+=o&&o[3]||(S.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var o,i,s,a=$(t);return Fe.test(t)||(t=Je(a)),(s=S.cssHooks[t]||S.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=We(e,t,r)),"normal"===o&&t in et&&(o=et[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),S.each(["height","width"],(function(e,t){S.cssHooks[t]={get:function(e,n,r){if(n)return!Xe.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?rt(e,t,r):Ge(e,Ze,(function(){return rt(e,t,r)}))},set:function(e,n,r){var o,i=Ke(e),s=!m.scrollboxSize()&&"absolute"===i.position,a=(s||r)&&"border-box"===S.css(e,"boxSizing",!1,i),c=r?nt(e,t,r,a,i):0;return a&&s&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-nt(e,t,"border",!1,i)-.5)),c&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=S.css(e,t)),tt(0,n,c)}}})),S.cssHooks.marginLeft=Ve(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(e,t){S.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ie[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(S.cssHooks[e+t].set=tt)})),S.fn.extend({css:function(e,t){return z(this,(function(e,t,n){var r,o,i={},s=0;if(Array.isArray(t)){for(r=Ke(e),o=t.length;s<o;s++)i[t[s]]=S.css(e,t[s],!1,r);return i}return void 0!==n?S.style(e,t,n):S.css(e,t)}),e,t,arguments.length>1)}}),S.Tween=ot,ot.prototype={constructor:ot,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(S.cssNumber[n]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,n=ot.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ot.propHooks._default.set(this),this}},ot.prototype.init.prototype=ot.prototype,ot.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},ot.propHooks.scrollTop=ot.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=ot.prototype.init,S.fx.step={};var it,st,at=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function lt(){st&&(!1===w.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(lt):r.setTimeout(lt,S.fx.interval),S.fx.tick())}function ut(){return r.setTimeout((function(){it=void 0})),it=Date.now()}function dt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ie[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ht(e,t,n){for(var r,o=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,s=o.length;i<s;i++)if(r=o[i].call(n,t,e))return r}function pt(e,t,n){var r,o,i=0,s=pt.prefilters.length,a=S.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var t=it||ut(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),i=0,s=l.tweens.length;i<s;i++)l.tweens[i].run(r);return a.notifyWith(e,[l,r,n]),r<1&&s?n:(s||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var r=S.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),u=l.props;for(!function(e,t){var n,r,o,i,s;for(n in e)if(o=t[r=$(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(s=S.cssHooks[r])&&"expand"in s)for(n in i=s.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(u,l.opts.specialEasing);i<s;i++)if(r=pt.prefilters[i].call(l,e,u,l.opts))return v(r.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return S.map(u,ht,l),v(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(D);for(var n,r=0,o=e.length;r<o;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,s,a,c,l,u,d="width"in t||"height"in t,h=this,p={},f=e.style,g=e.nodeType&&le(e),m=X.get(e,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,S.queue(e,"fx").length||s.empty.fire()}))}))),t)if(o=t[r],at.test(o)){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;g=!0}p[r]=m&&m[r]||S.style(e,r)}if((c=!S.isEmptyObject(t))||!S.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=m&&m.display)&&(l=X.get(e,"display")),"none"===(u=S.css(e,"display"))&&(l?u=l:(pe([e],!0),l=e.style.display||l,u=S.css(e,"display"),pe([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===S.css(e,"float")&&(c||(h.done((function(){f.display=l})),null==l&&(u=f.display,l="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),c=!1,p)c||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:l}),i&&(m.hidden=!g),g&&pe([e],!0),h.done((function(){for(r in g||pe([e]),X.remove(e,"fxshow"),p)S.style(e,r,p[r])}))),c=ht(g?m[r]:0,r,h),r in m||(m[r]=c.start,g&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=S.isEmptyObject(e),i=S.speed(t,n,r),s=function(){var t=pt(this,S.extend({},e),i);(o||X.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=S.timers,s=X.get(this);if(o)s[o]&&s[o].stop&&r(s[o]);else for(o in s)s[o]&&s[o].stop&&ct.test(o)&&r(s[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||S.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=S.timers,s=r?r.length:0;for(n.finish=!0,S.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(e,t){var n=S.fn[t];S.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,r,o)}})),S.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){S.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),it=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){st||(st=!0,lt())},S.fx.stop=function(){st=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}}))},function(){var e=w.createElement("input"),t=w.createElement("select").appendChild(w.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=w.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var ft,gt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return z(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){S.removeAttr(this,e)}))}}),S.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?S.prop(e,t,n):(1===i&&S.isXMLDoc(e)||(o=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(D);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=gt[t]||S.find.attr;gt[t]=function(e,t,r){var o,i,s=t.toLowerCase();return r||(i=gt[s],gt[s]=o,o=null!=n(e,t,r)?s:null,gt[s]=i),o}}));var mt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function yt(e){return(e.match(D)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}S.fn.extend({prop:function(e,t){return z(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[S.propFix[e]||e]}))}}),S.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&S.isXMLDoc(e)||(t=S.propFix[t]||t,o=S.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(e){var t,n,r,o,i,s;return v(e)?this.each((function(t){S(this).addClass(e.call(this,t,wt(this)))})):(t=Ct(e)).length?this.each((function(){if(r=wt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(i=0;i<t.length;i++)o=t[i],n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=yt(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,r,o,i,s;return v(e)?this.each((function(t){S(this).removeClass(e.call(this,t,wt(this)))})):arguments.length?(t=Ct(e)).length?this.each((function(){if(r=wt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(i=0;i<t.length;i++)for(o=t[i];n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");s=yt(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,o,i,s=typeof e,a="string"===s||Array.isArray(e);return v(e)?this.each((function(n){S(this).toggleClass(e.call(this,n,wt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=Ct(e),this.each((function(){if(a)for(i=S(this),o=0;o<n.length;o++)r=n[o],i.hasClass(r)?i.removeClass(r):i.addClass(r);else void 0!==e&&"boolean"!==s||((r=wt(this))&&X.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":X.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+yt(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;S.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=v(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,S(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=S.map(o,(function(e){return null==e?"":e+""}))),(t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=S.valHooks[o.type]||S.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(bt,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:yt(S.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,s="select-one"===e.type,a=s?null:[],c=s?i+1:o.length;for(r=i<0?c:s?i:0;r<c;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=S(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=S.makeArray(t),s=o.length;s--;)((r=o[s]).selected=S.inArray(S.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},m.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in r;var Et=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,o){var i,s,a,c,l,u,d,h,f=[n||w],g=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(s=h=a=n=n||w,3!==n.nodeType&&8!==n.nodeType&&!Et.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[S.expando]?e:new S.Event(g,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),d=S.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(n,t))){if(!o&&!d.noBubble&&!y(n)){for(c=d.delegateType||g,Et.test(c+g)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||w)&&f.push(a.defaultView||a.parentWindow||r)}for(i=0;(s=f[i++])&&!e.isPropagationStopped();)h=s,e.type=i>1?c:d.bindType||g,(u=(X.get(s,"events")||Object.create(null))[e.type]&&X.get(s,"handle"))&&u.apply(s,t),(u=l&&s[l])&&u.apply&&Q(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),t)||!Q(n)||l&&v(n[g])&&!y(n)&&((a=n[l])&&(n[l]=null),S.event.triggered=g,e.isPropagationStopped()&&h.addEventListener(g,Tt),n[g](),e.isPropagationStopped()&&h.removeEventListener(g,Tt),S.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each((function(){S.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),m.focusin||S.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){S.event.simulate(t,e.target,S.event.fix(e))};S.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=X.access(r,t);o||r.addEventListener(e,n,!0),X.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=X.access(r,t)-1;o?X.access(r,t,o):(r.removeEventListener(e,n,!0),X.remove(r,t))}}}));var St=r.location,_t={guid:Date.now()},It=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var kt=/\[\]$/,At=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,n,r){var o;if(Array.isArray(t))S.each(t,(function(t,o){n||kt.test(e)?r(e,o):Mt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==E(t))r(e,t);else for(o in t)Mt(e+"["+o+"]",t[o],n,r)}S.param=function(e,t){var n,r=[],o=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,(function(){o(this.name,this.value)}));else for(n in e)Mt(n,e[n],t,o);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Pt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!me.test(e))})).map((function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(e){return{name:t.name,value:e.replace(At,"\r\n")}})):{name:t.name,value:n.replace(At,"\r\n")}})).get()}});var xt=/%20/g,Nt=/#.*$/,Ot=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Dt={},Ut={},Bt="*/".concat("*"),Ft=w.createElement("a");function Kt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(D)||[];if(v(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Gt(e,t,n,r){var o={},i=e===Ut;function s(a){var c;return o[a]=!0,S.each(e[a]||[],(function(e,a){var l=a(t,n,r);return"string"!=typeof l||i||o[l]?i?!(c=l):void 0:(t.dataTypes.unshift(l),s(l),!1)})),c}return s(t.dataTypes[0])||!o["*"]&&s("*")}function jt(e,t){var n,r,o=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Ft.href=St.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,S.ajaxSettings),t):jt(S.ajaxSettings,e)},ajaxPrefilter:Kt(Dt),ajaxTransport:Kt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,i,s,a,c,l,u,d,h,p=S.ajaxSetup({},t),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?S(f):S.event,m=S.Deferred(),v=S.Callbacks("once memory"),y=p.statusCode||{},C={},b={},E="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=qt.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?i:null},setRequestHeader:function(e,t){return null==l&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,C[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||E;return n&&n.abort(t),_(0,t),this}};if(m.promise(T),p.url=((e||p.url||St.href)+"").replace(Ht,St.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(D)||[""],null==p.crossDomain){c=w.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ft.protocol+"//"+Ft.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=S.param(p.data,p.traditional)),Gt(Dt,p,t,T),l)return T;for(d in(u=S.event&&p.global)&&0==S.active++&&S.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Lt.test(p.type),o=p.url.replace(Nt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(xt,"+")):(h=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(It.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ot,"$1"),h=(It.test(o)?"&":"?")+"_="+_t.guid+++h),p.url=o+h),p.ifModified&&(S.lastModified[o]&&T.setRequestHeader("If-Modified-Since",S.lastModified[o]),S.etag[o]&&T.setRequestHeader("If-None-Match",S.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,T,p)||l))return T.abort();if(E="abort",v.add(p.complete),T.done(p.success),T.fail(p.error),n=Gt(Ut,p,t,T)){if(T.readyState=1,u&&g.trigger("ajaxSend",[T,p]),l)return T;p.async&&p.timeout>0&&(a=r.setTimeout((function(){T.abort("timeout")}),p.timeout));try{l=!1,n.send(C,_)}catch(e){if(l)throw e;_(-1,e)}}else _(-1,"No Transport");function _(e,t,s,c){var d,h,w,C,b,E=t;l||(l=!0,a&&r.clearTimeout(a),n=void 0,i=c||"",T.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(C=function(e,t,n){for(var r,o,i,s,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in a)if(a[o]&&a[o].test(r)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}s||(s=o)}i=i||s}if(i)return i!==c[0]&&c.unshift(i),n[i]}(p,T,s)),!d&&S.inArray("script",p.dataTypes)>-1&&S.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),C=function(e,t,n,r){var o,i,s,a,c,l={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=u.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(s=l[c+" "+i]||l["* "+i]))for(o in l)if((a=o.split(" "))[1]===i&&(s=l[c+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[o]:!0!==l[o]&&(i=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(p,C,T,d),d?(p.ifModified&&((b=T.getResponseHeader("Last-Modified"))&&(S.lastModified[o]=b),(b=T.getResponseHeader("etag"))&&(S.etag[o]=b)),204===e||"HEAD"===p.type?E="nocontent":304===e?E="notmodified":(E=C.state,h=C.data,d=!(w=C.error))):(w=E,!e&&E||(E="error",e<0&&(e=0))),T.status=e,T.statusText=(t||E)+"",d?m.resolveWith(f,[h,E,T]):m.rejectWith(f,[T,E,w]),T.statusCode(y),y=void 0,u&&g.trigger(d?"ajaxSuccess":"ajaxError",[T,p,d?h:w]),v.fireWith(f,[T,E]),u&&(g.trigger("ajaxComplete",[T,p]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],(function(e,t){S[t]=function(e,n,r,o){return v(n)&&(o=o||r,r=n,n=void 0),S.ajax(S.extend({url:e,type:t,dataType:o,data:n,success:r},S.isPlainObject(e)&&e))}})),S.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){S(this).wrapInner(e.call(this,t))})):this.each((function(){var t=S(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){S(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Wt=S.ajaxSettings.xhr();m.cors=!!Wt&&"withCredentials"in Wt,m.ajax=Wt=!!Wt,S.ajaxTransport((function(e){var t,n;if(m.cors||Wt&&!e.crossDomain)return{send:function(o,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),S.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),S.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=S("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),w.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Vt,Yt=[],$t=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||S.expando+"_"+_t.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",(function(e,t,n){var o,i,s,a=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($t,"$1"+o):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||S.error(o+" was not called"),s[0]},e.dataTypes[0]="json",i=r[o],r[o]=function(){s=arguments},n.always((function(){void 0===i?S(r).removeProp(o):r[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(o)),s&&v(i)&&i(s[0]),s=i=void 0})),"script"})),m.createHTMLDocument=((Vt=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,t.head.appendChild(r)):t=w),i=!n&&[],(o=M.exec(e))?[t.createElement(o[1])]:(o=Te([e],t,i),i&&i.length&&S(i).remove(),S.merge([],o.childNodes)));var r,o,i},S.fn.load=function(e,t,n){var r,o,i,s=this,a=e.indexOf(" ");return a>-1&&(r=yt(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&S.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},S.expr.pseudos.animated=function(e){return S.grep(S.timers,(function(t){return e===t.elem})).length},S.offset={setOffset:function(e,t,n){var r,o,i,s,a,c,l=S.css(e,"position"),u=S(e),d={};"static"===l&&(e.style.position="relative"),a=u.offset(),i=S.css(e,"top"),c=S.css(e,"left"),("absolute"===l||"fixed"===l)&&(i+c).indexOf("auto")>-1?(s=(r=u.position()).top,o=r.left):(s=parseFloat(i)||0,o=parseFloat(c)||0),v(t)&&(t=t.call(e,n,S.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):u.css(d)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){S.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),o.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-S.css(r,"marginTop",!0),left:t.left-o.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||se}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;S.fn[e]=function(r){return z(this,(function(e,r,o){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),S.each(["top","left"],(function(e,t){S.cssHooks[t]=Ve(m.pixelPosition,(function(e,n){if(n)return n=We(e,t),Be.test(n)?S(e).position()[t]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){S.fn[r]=function(o,i){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===i?"margin":"border");return z(this,(function(t,n,o){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?S.css(t,n,a):S.style(t,n,o,a)}),t,s?o:void 0,s)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){S.fn[t]=function(e){return this.on(t,e)}})),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){S.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Qt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=a.call(arguments,2),o=function(){return e.apply(t||this,r.concat(a.call(arguments)))},o.guid=e.guid=e.guid||S.guid++,o},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=P,S.isFunction=v,S.isWindow=y,S.camelCase=$,S.type=E,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Qt,"$1")},void 0===(n=function(){return S}.apply(t,[]))||(e.exports=n);var Jt=r.jQuery,Xt=r.$;return S.noConflict=function(e){return r.$===S&&(r.$=Xt),e&&r.jQuery===S&&(r.jQuery=Jt),S},void 0===o&&(r.jQuery=r.$=S),S}))},298:function(e){e.exports=function(e,t,n){return new Promise(((r,o)=>{const i=document.createElement("script");i.async=!0,i.src=e;for(const[e,n]of Object.entries(t||{}))i.setAttribute(e,n);i.onload=()=>{i.onerror=i.onload=null,r(i)},i.onerror=()=>{i.onerror=i.onload=null,o(new Error(`Failed to load ${e}`))};(n||document.head||document.getElementsByTagName("head")[0]).appendChild(i)}))}},658:function(){var e=function(){function e(e){this.backToTopBtn=e.querySelector("#to-top"),this.el=e,this.height=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),this.calc=this.height/100*60,this.init()}return e.prototype.init=function(){var e=this;this.backToTopBtn&&(this.backToTopBtn.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){e.height=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),e.calc=e.height/100*60,e.backToTopBtn&&(window.scrollY+window.innerHeight>e.calc?e.backToTopBtn.style.display="flex":e.backToTopBtn.style.display="none")})))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".root"));t.length&&t.forEach((function(t){new e(t)}))}))},667:function(){var e=function(){function e(e){this.cards=e.querySelectorAll(".card"),this.init(e)}return e.prototype.hideCards=function(e,t){var n;if((null==this?void 0:this.cards.length)>t){e.querySelector(".bullet-card-action").addEventListener("click",(function(){e.querySelectorAll(".card.hide").forEach((function(e){e.classList.remove("hide")})),e.querySelector(".bullet-card-action").classList.add("hide")})),e.querySelector(".bullet-card-action").classList.remove("hide");for(var r=t;r<(null===(n=null==this?void 0:this.cards)||void 0===n?void 0:n.length);r++)this.cards[r].classList.add("hide")}},e.prototype.init=function(e){this.cards&&(console.log(null==this?void 0:this.cards.length),window.matchMedia("(min-width:798px)").matches?this.hideCards(e,10):this.hideCards(e,7))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".bullet-style-card"));t.length&&t.forEach((function(t){new e(t)}))}))},14:function(){var e=function(){function e(e){this.isVariationOne=e.classList.contains("bullet-style-card-with-action")||e.classList.contains("bullet-style-card-multi-action");var t=window.matchMedia("(min-width:992px)");if(this.isVariationOne||(null==t?void 0:t.matches))this.actionButtons=e.querySelectorAll('button[type="button"]'),this.actionButtons&&this.initAction();else{if(this.cards=e.querySelectorAll(".card"),this.cards.length>4)for(var n=4;n<this.cards.length;n++)this.cards[n].classList.add("hide");this.viewMoreButton=e.querySelector(".view-more"),this.viewMoreButton&&this.initViewMore()}}return e.prototype.initAction=function(){this.actionButtons.forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-href"),n=e.getAttribute("data-target");t&&window.open(t,n||"_self")}))}))},e.prototype.initViewMore=function(){var e=this;this.viewMoreButton.addEventListener("click",(function(){console.log("test"),e.cards.forEach((function(e){e.classList.remove("hide")})),e.viewMoreButton.classList.add("hide")}))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".bullet-style-card5"));t.length&&t.forEach((function(t){new e(t)}))}))},572:function(){var e=function(){function e(e){this.CONST_WORDSPERMINUTE=200,this.statusIcon=e.querySelector(".status-detail__date"),this.readTime=e.querySelector(".status-detail__readTime"),this.init()}return e.prototype.init=function(){if(this.statusIcon){var e=this.statusIcon.dataset.startdate,t=this.statusIcon.dataset.enddate,n=Date.now();n>=Date.parse(e)&&n<=Date.parse(t)?(this.statusIcon.classList.add("status-green"),this.statusIcon.querySelector("span").textContent=this.statusIcon.dataset.greenlabel):Date.parse(e)>n?(this.statusIcon.closest(".date").querySelector(".status-date").remove(),this.statusIcon.closest(".date").querySelector(".status-detail").remove()):(this.statusIcon.classList.add("status-red"),this.statusIcon.querySelector("span").textContent=this.statusIcon.dataset.redlabel,this.statusIcon.closest(".date").querySelector(".status-date").remove())}if(this.readTime){var r=document.querySelector(".detail-page .left-section").textContent.replace(/\s\s+/g," ").split(" ").length,o=this.readTime.querySelector("span");o.textContent=o.textContent.replace("999",Math.ceil(r/this.CONST_WORDSPERMINUTE).toString())}},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".detailPageHeader__container"));t.length&&t.forEach((function(t){new e(t)}))}))},971:function(){new(function(){function e(){var e=document.querySelectorAll(".download-pdf");(null==e?void 0:e.length)>0&&this.initEventListeners()}return e.prototype.initEventListeners=function(){document.querySelectorAll(".download-pdf").forEach((function(e){var t,n,r,o=e.querySelectorAll(".collapsible-content-button button");(null===(t=e.querySelectorAll(".collapsed-tile"))||void 0===t?void 0:t.length)>0||null===(r=null===(n=e.querySelector(".view-all.collapsible-content-button"))||void 0===n?void 0:n.classList)||void 0===r||r.add("hide"),null==o||o.forEach((function(e){e.addEventListener("click",(function(e){var t,n,r,o,i=e.currentTarget,s=null==i?void 0:i.parentElement,a=null==s?void 0:s.parentElement,c=null===(t=null==s?void 0:s.classList)||void 0===t?void 0:t.contains("view-all");if(null===(n=null==s?void 0:s.classList)||void 0===n||n.add("hide"),c){var l=null==a?void 0:a.querySelector(".view-less");null===(r=null==l?void 0:l.classList)||void 0===r||r.remove("hide"),null==a||a.classList.add("show-content")}else{var u=null==a?void 0:a.querySelector(".view-all");null===(o=null==u?void 0:u.classList)||void 0===o||o.remove("hide"),null==a||a.classList.remove("show-content")}}))}))}))},e}())},529:function(){var e=function(){function e(e){this.isSideGradient=!1,this.isSideLeftGradient=!1,this.CONST_DARKBLUE="#003366",this.sideGradImage=e.dataset.sidegradimg,this.largeImage=e.dataset.largeimagemobile,this.contentBox=e.querySelector(".fullimage__content--container");var t=e.closest(".fullimage");this.isSideGradient=t.classList.contains("large-image-sidegradient"),this.isSideLeftGradient=t.classList.contains("left"),this.init(e)}return e.prototype.init=function(e){if(this.isSideGradient&&!this.isSideLeftGradient){var t="linear-gradient(to left, ".concat(this.CONST_DARKBLUE," 0%, transparent),url(").concat(this.sideGradImage,")");e.style.backgroundImage=t,this.setMobileBackground(e)}if(this.isSideLeftGradient&&this.isSideGradient){t="linear-gradient(to right, ".concat(this.CONST_DARKBLUE," 0%, transparent),url(").concat(this.sideGradImage,")");e.style.backgroundImage=t,this.setMobileBackground(e)}e.style.height=this.contentBox.offsetHeight+10+"px"},e.prototype.setMobileBackground=function(e){if(window.matchMedia("(max-width: 768px)").matches){var t="linear-gradient(to top, ".concat(this.CONST_DARKBLUE," 50%, transparent),url(").concat(this.sideGradImage,")");e.style.backgroundImage=t}},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".fullimage__container"));t.length&&t.forEach((function(t){new e(t)}))}))},744:function(){var e=function(){function e(e){this.initialState={component:null},this.initialState.component=e,this.initialState.component&&(this.initVideoEventListeners(),this.closeOverlay())}return e.prototype.closeOverlay=function(){var e,t=this;null===(e=this.initialState.component)||void 0===e||e.querySelector(".close-overlay").addEventListener("click",(function(){var e,n=t.initialState.component.querySelector(".video-overlay"),r=t.initialState.component.querySelector(".ytvideo");null===(e=null==n?void 0:n.classList)||void 0===e||e.remove("show-overlay"),r.src=""}))},e.prototype.initVideoEventListeners=function(){var e=this,t=this.initialState.component.querySelectorAll(".video-img");null==t||t.forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var n=e.initialState.component.querySelector(".video-overlay"),r=e.initialState.component.querySelector(".ytvideo"),o=t.currentTarget,i=null==o?void 0:o.getAttribute("data-video-src");n.classList.add("show-overlay"),r.src=i}))}))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".group-thumbnail-video"));(null==t?void 0:t.length)&&(null==t||t.forEach((function(t){new e(t)})))}))},173:function(){var e=function(){function e(e){var t=this;this.checkVisibiltyStatus=function(){var e,n,r=null===(e=null==t?void 0:t.component)||void 0===e?void 0:e.querySelectorAll(".list-item");(null==r?void 0:r.length)<=9?(null===(n=null==t?void 0:t.component)||void 0===n?void 0:n.querySelector(".view-more")).style.display="none":r.forEach((function(e,t){t>=9&&(null==e||e.classList.add("collapsed-tile"))}))},this.component=e,this.component&&this.initEventListeners()}return e.prototype.initEventListeners=function(){var e,t,n=this;this.checkVisibiltyStatus(),null===(t=null===(e=null==this?void 0:this.component)||void 0===e?void 0:e.querySelector(".view-more"))||void 0===t||t.addEventListener("click",(function(e){var t,r,o,i=e.currentTarget;null===(r=null===(t=n.component)||void 0===t?void 0:t.querySelectorAll(".collapsed-tile"))||void 0===r||r.forEach((function(e){var t;null===(t=null==e?void 0:e.classList)||void 0===t||t.remove("collapsed-tile")})),null===(o=null==i?void 0:i.classList)||void 0===o||o.add("hide")}))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".list-component"));t.length&&t.forEach((function(t){new e(t)}))}))},338:function(){var e=function(){function e(e){this.initialState={component:null},this.initialState.component=e,this.initialState.component&&this.initMap(this.initialState.component)}return e.prototype.initMap=function(e){var t=parseFloat(this.initialState.component.getAttribute("data-lat")),n=parseFloat(this.initialState.component.getAttribute("data-lng")),r=parseInt(this.initialState.component.getAttribute("data-zoom")),o={lat:t,lng:n},i=new google.maps.Map(document.getElementById("map"),{zoom:r,center:o,draggable:!1,fullscreenControl:!1}),s=window.location.origin+"/etc.clientlibs/bot/clientlibs/clientlib-site/resources/images/bot-map-pointer.png";new google.maps.Marker({position:o,map:i,icon:s}).addListener("click",(function(){var t=e.querySelector(".contact-maps-content");t&&(t.classList.remove("hide"),e.querySelectorAll(".item-info-contact").length>2&&e.querySelector(".info-items-container").classList.add("overflow-y"))})),e.querySelector(".map-info-close").addEventListener("click",(function(){var t=e.querySelector(".contact-maps-content");t&&t.classList.add("hide")}))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".map-direction"));t.length&&t.forEach((function(t){new e(t)}))}))},949:function(){var e=function(){function e(e){this.component=e,this.component&&(this.initVideoEventListeners(),this.closeOverlay())}return e.prototype.closeOverlay=function(){var e,t=this;null===(e=this.component)||void 0===e||e.querySelector(".close-overlay").addEventListener("click",(function(){var e,n=t.component.querySelector(".video-overlay"),r=t.component.querySelector(".ytvideo");null===(e=null==n?void 0:n.classList)||void 0===e||e.remove("show-overlay"),r.src=""}))},e.prototype.initVideoEventListeners=function(){var e,t=null===(e=this.component)||void 0===e?void 0:e.querySelector(".highlight-thumb"),n=null==t?void 0:t.getAttribute("data-video-src"),r=this.component.querySelector(".ytvideo"),o=this.component.querySelector(".video-overlay");null==t||t.addEventListener("click",(function(){var e;null===(e=null==o?void 0:o.classList)||void 0===e||e.add("show-overlay"),r.src=n}))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".single-sided-thumbnails"));(null==t?void 0:t.length)&&(null==t||t.forEach((function(t){new e(t)})))}))},357:function(){var e=function(){function e(e){this.moreContent=e.querySelector(".more-content"),this.headerMenu=document.querySelector(".header-menu"),this.initTemplate(e)}return e.prototype.initTemplate=function(e){var t=this;window.addEventListener("resize",(function(){t.resizeHeight(e)})),window.addEventListener("load",(function(){t.resizeHeight(e)}))},e.prototype.resizeHeight=function(e){var t=this;this.moreContent&&this.moreContent.addEventListener("click",(function(){var n=e.nextElementSibling;if(n&&t.headerMenu){var r=t.headerMenu.offsetHeight,o=n.getBoundingClientRect().top+window.pageYOffset-r;window.scrollTo({top:o,behavior:"smooth"})}}))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".storytellingheader"));t.length&&t.forEach((function(t){new e(t)}))}))},916:function(){var e=function(){function e(e){this.toggleClass=function(e,t){return e.classList.toggle(t)},this.target=e.querySelector("#target"),this.visible=e.querySelector(".vis"),this.accordion=e.querySelectorAll(".cont"),this.accordionContent=e.querySelector(".toolSlaWrapper__accordion__content"),this.initTemplate()}return e.prototype.initTemplate=function(){var e=this;this.target.selectedIndex=0,this.accordionContent.children[0].classList.add("vis"),this.accordionContent.children[0].classList.remove("inv"),this.target.addEventListener("change",(function(t){e.targetted=document.getElementById(t.target.value),e.allVisible=document.querySelectorAll(".vis"),e.allVisible.forEach((function(e){e.classList.add("inv"),e.classList.remove("vis")})),null!==e.visible&&(e.visible.classList.add("inv"),e.visible.classList.remove("vis")),null!==e.targetted&&(e.targetted.classList.add("vis"),e.targetted.classList.remove("inv"))})),this.accordion.forEach((function(t){return t.querySelector(".label").addEventListener("click",(function(){t.classList.contains("active")?t.classList.remove("active"):(e.accordion.forEach((function(e){return e.classList.remove("active")})),t.classList.add("active"))}))}))},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".toolSlaWrapper__accordion"));t.length&&t.forEach((function(t){new e(t)}))}))},567:function(){var e=function(){function e(e){var t=this;this.initCopyToClipboard=function(){var e,n;null===(n=null===(e=t.component)||void 0===e?void 0:e.querySelector(".copy-link"))||void 0===n||n.addEventListener("click",(function(){var e=document.createElement("input"),t=window.location.href;document.body.appendChild(e),e.value=t,e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value),document.body.removeChild(e)}))},this.isMobile=window.innerWidth<768,this.component=e,this.init()}return e.prototype.initSocialShareIcons=function(){var e,t,n,r=window.location.href,o=null===(e=this.component)||void 0===e?void 0:e.querySelector(".facebook-icon"),i=null===(t=this.component)||void 0===t?void 0:t.querySelector(".twitter-icon"),s=null===(n=this.component)||void 0===n?void 0:n.querySelector(".line-icon");o&&(o.href="https://www.facebook.com/sharer/sharer.php?u="+r),i&&(i.href="https://twitter.com/intent/tweet?url="+r),s&&(s.href="https://social-plugins.line.me/lineit/share?url="+r)},e.prototype.init=function(){var e,t,n,r,o,i=this,s=null===(e=this.component)||void 0===e?void 0:e.querySelector(".social-share-icons");this.initSocialShareIcons(),this.initCopyToClipboard(),null===(n=null===(t=this.component)||void 0===t?void 0:t.querySelector(".print-icon"))||void 0===n||n.addEventListener("click",(function(){window.print()})),null===(o=null===(r=this.component)||void 0===r?void 0:r.querySelector(".social-share"))||void 0===o||o.addEventListener("click",(function(e){e.stopPropagation();var t=s.classList.contains("active");i.isMobile&&i.toggleClass(document.body,"overlay-black",t),i.toggleClass(s,"active",t)})),document.addEventListener("click",(function(e){!e.target.closest(".social-share-icons")&&s.classList.contains("active")&&(s.classList.remove("active"),document.body.classList.remove("overlay-black"))}))},e.prototype.toggleClass=function(e,t,n){n?e.classList.remove(t):e.classList.add(t)},e}();window.addEventListener("DOMContentLoaded",(function(){var t=Array.from(document.querySelectorAll(".share-icons"));t.length&&t.forEach((function(t){new e(t)}))}))},438:function(){var e=function(){function e(e){this.container=e,this.searchButton=e.querySelector(".botton-bar.search"),this.searchContainer=e.querySelector(".block-sticky-search"),this.collections=e.querySelector(".collection"),this.accessibilityButton=e.querySelector(".accessibility"),this.searchClose=e.querySelector(".search-close"),this.plusIcon=e.querySelector(".botton-bar.plus"),this.redirectURL=e.dataset.redirectsearch,this.initTemplate()}return e.prototype._redirectToSearchPage=function(e){var t=window.location.origin+this.redirectURL+"?keyword="+e;window.location.href=t},e.prototype.initTemplate=function(){var e=this;this.handleSearch(),this.renderTags(),this.searchButton&&this.searchButton.addEventListener("click",(function(){e.searchContainer.classList.add("search_show"),document.body.classList.add("sticky-search-enabled")})),this.searchClose&&this.searchClose.addEventListener("click",(function(){e.searchContainer.classList.remove("search_show"),document.body.classList.remove("sticky-search-enabled")})),this.plusIcon&&this.plusIcon.addEventListener("click",(function(){e.plusIcon.classList.contains("active")?(e.plusIcon.classList.remove("active"),e.container.querySelector(".botton-bar-group").classList.remove("active")):(e.plusIcon.classList.add("active"),e.container.querySelector(".botton-bar-group").classList.add("active"))})),this.accessibilityButton&&this.accessibilityButton.addEventListener("click",(function(){e.handleAccessibilityClick()})),this.collections&&this.collections.addEventListener("click",(function(){e.handleCollectionClick()})),this.container&&this.container.querySelectorAll(".tags .tag").forEach((function(t){t.addEventListener("click",(function(){e.captureTagAndRedirect(t)}))}))},e.prototype.handleAccessibilityClick=function(){var e=this.accessibilityButton.dataset,t=parseInt(e.clickcount,10)||0,n=100;if(t<3?t++:t=0,e.clickcount=t.toString(),1===(t<=3?1:0))n+=5*n*t/100,document.querySelector("html").style.fontSize="".concat(n,"%");else n=100,document.querySelector("html").style.fontSize="".concat(n,"%")},e.prototype.handleCollectionClick=function(){console.log("handleCollectionClick")},e.prototype.handleSearch=function(){var e=this,t=JSON.parse(localStorage.getItem("stickySearched"))||[];this.container.querySelector(".stickySearch").addEventListener("submit",(function(n){n.preventDefault(),e.captureSearchValue(t)})),this.container.querySelector(".btn-search").addEventListener("click",(function(n){n.preventDefault(),e.captureSearchValue(t)}))},e.prototype.captureSearchValue=function(e){var t=this.container.querySelector(".serach-inputbox");""!=t.value&&(e.push(t.value),localStorage.setItem("stickySearched",JSON.stringify(e.slice(-5))),this._redirectToSearchPage(t.value),this.renderTags(),t.value="")},e.prototype.captureTagAndRedirect=function(e){var t=e.innerHTML;this._redirectToSearchPage(t)},e.prototype.renderTags=function(){for(var e=this.container.querySelector(".tags"),t="",n=0,r=JSON.parse(localStorage.getItem("stickySearched"))||[];n<r.length;n++){var o=r[n];t+='<span class="tag">'.concat(o,"</span>")}e.innerHTML=t},e}();window.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".block-sticky-botton-bar");t&&new e(t)}))},231:function(){var e=window.location.origin,t=function(){function t(e){this.component=e,this.init()}return t.prototype.init=function(){var t,n,r=null===(t=this.component)||void 0===t?void 0:t.dataset.redirectUrl;r&&(null===(n=this.component)||void 0===n||n.addEventListener("click",(function(t){t.preventDefault(),window.open("".concat(e).concat(r),"_blank")})))},t}();window.addEventListener("DOMContentLoaded",(function(){var e=Array.from(document.querySelectorAll("[data-redirect-url]"));e.length&&e.forEach((function(e){new t(e)}))}))},573:function(e,t,n){const r=n(187).EventEmitter,o=n(298),i="https://www.youtube.com/iframe_api",s={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"cued"},a=2,c=5,l=100,u=101,d=150,h=[];e.exports=class extends r{constructor(e,t){super();const n="string"==typeof e?document.querySelector(e):e;n.id?this._id=n.id:this._id=n.id="ytplayer-"+Math.random().toString(16).slice(2,8),this._opts=Object.assign({width:640,height:360,autoplay:!1,captions:void 0,controls:!0,keyboard:!0,fullscreen:!0,annotations:!0,modestBranding:!1,related:!0,timeupdateFrequency:1e3,playsInline:!0,start:0},t),this.videoId=null,this.destroyed=!1,this._api=null,this._autoplay=!1,this._player=null,this._ready=!1,this._queue=[],this._interval=null,this._startInterval=this._startInterval.bind(this),this._stopInterval=this._stopInterval.bind(this),this.on("playing",this._startInterval),this.on("unstarted",this._stopInterval),this.on("ended",this._stopInterval),this.on("paused",this._stopInterval),this.on("buffering",this._stopInterval),this._loadIframeAPI(((e,t)=>{if(e)return this._destroy(new Error("YouTube Iframe API failed to load"));this._api=t,this.videoId&&this.load(this.videoId,this._autoplay,this._start)}))}load(e,t=!1,n=0){this.destroyed||(this.videoId=e,this._autoplay=t,this._start=n,this._api&&(this._player?this._ready&&(t?this._player.loadVideoById(e,n):this._player.cueVideoById(e,n)):this._createPlayer(e)))}play(){this._ready?this._player.playVideo():this._queueCommand("play")}pause(){this._ready?this._player.pauseVideo():this._queueCommand("pause")}stop(){this._ready?this._player.stopVideo():this._queueCommand("stop")}seek(e){this._ready?this._player.seekTo(e,!0):this._queueCommand("seek",e)}setVolume(e){this._ready?this._player.setVolume(e):this._queueCommand("setVolume",e)}getVolume(){return this._ready&&this._player.getVolume()||0}mute(){this._ready?this._player.mute():this._queueCommand("mute")}unMute(){this._ready?this._player.unMute():this._queueCommand("unMute")}isMuted(){return this._ready&&this._player.isMuted()||!1}setSize(e,t){this._ready?this._player.setSize(e,t):this._queueCommand("setSize",e,t)}setPlaybackRate(e){this._ready?this._player.setPlaybackRate(e):this._queueCommand("setPlaybackRate",e)}setPlaybackQuality(e){this._ready?this._player.setPlaybackQuality(e):this._queueCommand("setPlaybackQuality",e)}getPlaybackRate(){return this._ready&&this._player.getPlaybackRate()||1}getAvailablePlaybackRates(){return this._ready&&this._player.getAvailablePlaybackRates()||[1]}getDuration(){return this._ready&&this._player.getDuration()||0}getProgress(){return this._ready&&this._player.getVideoLoadedFraction()||0}getState(){return this._ready&&s[this._player.getPlayerState()]||"unstarted"}getCurrentTime(){return this._ready&&this._player.getCurrentTime()||0}destroy(){this._destroy()}_destroy(e){this.destroyed||(this.destroyed=!0,this._player&&(this._player.stopVideo&&this._player.stopVideo(),this._player.destroy()),this.videoId=null,this._id=null,this._opts=null,this._api=null,this._player=null,this._ready=!1,this._queue=null,this._stopInterval(),this.removeListener("playing",this._startInterval),this.removeListener("paused",this._stopInterval),this.removeListener("buffering",this._stopInterval),this.removeListener("unstarted",this._stopInterval),this.removeListener("ended",this._stopInterval),e&&this.emit("error",e))}_queueCommand(e,...t){this.destroyed||this._queue.push([e,t])}_flushQueue(){for(;this._queue.length;){const e=this._queue.shift();this[e[0]].apply(this,e[1])}}_loadIframeAPI(e){if(window.YT&&"function"==typeof window.YT.Player)return e(null,window.YT);h.push(e);Array.from(document.getElementsByTagName("script")).some((e=>e.src===i))||o(i).catch((e=>{for(;h.length;){h.shift()(e)}}));const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{for("function"==typeof t&&t();h.length;){h.shift()(null,window.YT)}}}_createPlayer(e){if(this.destroyed)return;const t=this._opts;this._player=new this._api.Player(this._id,{width:t.width,height:t.height,videoId:e,host:t.host,playerVars:{autoplay:t.autoplay?1:0,cc_load_policy:null!=t.captions?!1!==t.captions?1:0:void 0,hl:null!=t.captions&&!1!==t.captions?t.captions:void 0,cc_lang_pref:null!=t.captions&&!1!==t.captions?t.captions:void 0,controls:t.controls?2:0,disablekb:t.keyboard?0:1,enablejsapi:1,fs:t.fullscreen?1:0,iv_load_policy:t.annotations?1:3,modestbranding:t.modestBranding?1:0,origin:window.location.origin,playsinline:t.playsInline?1:0,rel:t.related?1:0,wmode:"opaque",start:t.start},events:{onReady:()=>this._onReady(e),onStateChange:e=>this._onStateChange(e),onPlaybackQualityChange:e=>this._onPlaybackQualityChange(e),onPlaybackRateChange:e=>this._onPlaybackRateChange(e),onError:e=>this._onError(e)}})}_onReady(e){this.destroyed||(this._ready=!0,this.load(this.videoId,this._autoplay,this._start),this._flushQueue())}_onStateChange(e){if(this.destroyed)return;const t=s[e.data];if(!t)throw new Error("Unrecognized state change: "+e);["paused","buffering","ended"].includes(t)&&this._onTimeupdate(),this.emit(t),["unstarted","playing","cued"].includes(t)&&this._onTimeupdate()}_onPlaybackQualityChange(e){this.destroyed||this.emit("playbackQualityChange",e.data)}_onPlaybackRateChange(e){this.destroyed||this.emit("playbackRateChange",e.data)}_onError(e){if(this.destroyed)return;const t=Number(e.data);return t!==c?t===u||t===d||t===l||t===a?this.emit("unplayable",this.videoId):void this._destroy(new Error("YouTube Player Error. Unknown error code: "+t)):void 0}_onTimeupdate(){this.emit("timeupdate",this.getCurrentTime())}_startInterval(){this._interval=setInterval((()=>this._onTimeupdate()),this._opts.timeupdateFrequency)}_stopInterval(){clearInterval(this._interval),this._interval=null}}},935:function(){class e{constructor(e){this.item=e?.querySelectorAll(".cmp-accordion__item"),this.el=e,this.init()}init(){this.item.forEach((e=>{this.button=e.querySelector(".cmp-accordion__button"),this.check=this.button.classList.contains("cmp-accordion__button--expanded"),this.icon=this.button.querySelector(".cmp-accordion__icon"),this.iTag=this.icon.querySelector("i"),this.check?(this.iTag.classList.remove("icon-ic-cricle-plus"),this.iTag.classList.add("icon-ic-cricle-minus")):(this.iTag.classList.remove("icon-ic-cricle-minus"),this.iTag.classList.add("icon-ic-cricle-plus")),e.addEventListener("click",(()=>{this.button=e.querySelector(".cmp-accordion__button"),this.check=this.button.classList.contains("cmp-accordion__button--expanded"),this.icon=this.button.querySelector(".cmp-accordion__icon"),this.iTag=this.icon.querySelector("i"),this.check?(this.iTag.classList.remove("icon-ic-cricle-plus"),this.iTag.classList.add("icon-ic-cricle-minus")):(this.iTag.classList.remove("icon-ic-cricle-minus"),this.iTag.classList.add("icon-ic-cricle-plus"))}))}))}}window.addEventListener("DOMContentLoaded",(()=>{const t=Array.from(document.querySelectorAll(".bot-accordion"));t?.length&&t?.forEach((t=>{new e(t)}))}))},466:function(){class e{constructor(e){this.disclaimer_init(e)}disclaimer_init(e){const t=e.querySelector(".disclaimer_content-heading"),n=e.querySelector(".disclaimer_content"),r=e.querySelector(".addIcon");t&&n&&r&&t.addEventListener("click",(function(){n.classList.toggle("expanded"),r.classList.toggle("icon-ic-cricle-plus"),r.classList.toggle("icon-ic-cricle-minus")}))}}window.addEventListener("DOMContentLoaded",(()=>{const t=Array.from(document.querySelectorAll(".block-calculator-disclaimer"));t.length&&t.forEach((t=>{new e(t)}))}))},829:function(){class e{constructor(e){this.component=e,this.card=e?.querySelector(".card"),this.headerMenu=document.querySelector(".header-menu"),this.component&&this.initCarousel(e)}initCarousel(e){this.headerMenu&&(this.card.style.top=this.headerMenu.offsetHeight+15+"px",e.style.minHeight=this.card.offsetHeight+this.headerMenu.offsetHeight+60+"px"),e.style.height=this.card.offsetHeight}}window.addEventListener("DOMContentLoaded",(()=>{const t=Array.from(document.querySelectorAll(".errorpage-wrapper"));t?.length&&t?.forEach((t=>{new e(t)}))}))},356:function(){!function(){"use strict";var e='[data-cmp-is="helloworld"]',t='[data-cmp-hook-helloworld="property"]',n='[data-cmp-hook-helloworld="model"]';function r(e){e&&e.element&&function(e){e.element.removeAttribute("data-cmp-is");var r=e.element.querySelectorAll(t);r=1==r.length?r[0].textContent:null;var o=e.element.querySelectorAll(n);o=1==o.length?o[0].textContent:null,console&&console.log&&console.log("HelloWorld component JavaScript example","\nText property:\n",r,"\nModel message:\n",o)}(e)}function o(){for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)new r({element:t[n]});var o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i=document.querySelector("body");new o((function(t){t.forEach((function(t){var n=[].slice.call(t.addedNodes);n.length>0&&n.forEach((function(t){t.querySelectorAll&&[].slice.call(t.querySelectorAll(e)).forEach((function(e){new r({element:e})}))}))}))})).observe(i,{subtree:!0,childList:!0,characterData:!0})}"loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)}()},498:function(){class e{constructor(e){this.rightContainer=e.querySelector(".single-side-thumbnail-right"),this.rightThumbnailCards=this.rightContainer.querySelectorAll(".list"),this.init()}init(){this.rightThumbnailCards&&this.rightThumbnailCards.forEach(((e,t)=>{t>9&&e.classList.add("hidden"),t>=9&&e.classList.add("borderNone")}))}}window.addEventListener("DOMContentLoaded",(()=>{const t=Array.from(document.querySelectorAll(".single-side-thumbnail-container"));t?.length&&t?.forEach((t=>{new e(t)}))}))},202:function(){class e{constructor(e){this.table=e.querySelector("table"),this.innerDiv=e.querySelector(".inner-div"),this.initTable(e)}initTable(e){this.table.addEventListener("scroll",(function(){this.handScroll=e.querySelector(".handscroll"),this.handScroll.style.display="none"})),this.innerDiv.addEventListener("scroll",(function(){this.handScroll=e.querySelector(".handscroll"),this.handScroll.style.display="none"})),window.addEventListener("resize",(()=>{this.resizeHeight(e)})),window.addEventListener("load",(()=>{this.resizeHeight(e)}))}resizeHeight(e){this.innerDiv.scrollWidth>this.innerDiv.clientWidth?(this.handScroll=e.querySelector(".handscroll"),this.handScroll.style.display="block"):(this.handScroll=e.querySelector(".handscroll"),this.handScroll.style.display="none")}}window.addEventListener("DOMContentLoaded",(()=>{const t=Array.from(document.querySelectorAll(".table.table-container"));t.length&&t.forEach((t=>{new e(t)}))}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(658);var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function s(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}var a,c,l,u,d,h={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},p=[h.OPENID_SCOPE,h.PROFILE_SCOPE,h.OFFLINE_ACCESS_SCOPE],f=s(p,[h.EMAIL_SCOPE]);!function(e){e.CONTENT_TYPE="Content-Type",e.RETRY_AFTER="Retry-After",e.CCS_HEADER="X-AnchorMailbox",e.WWWAuthenticate="WWW-Authenticate",e.AuthenticationInfo="Authentication-Info",e.X_MS_REQUEST_ID="x-ms-request-id",e.X_MS_HTTP_VERSION="x-ms-httpver"}(a||(a={})),function(e){e.ID_TOKEN="idtoken",e.CLIENT_INFO="client.info",e.ADAL_ID_TOKEN="adal.idtoken",e.ERROR="error",e.ERROR_DESC="error.description",e.ACTIVE_ACCOUNT="active-account",e.ACTIVE_ACCOUNT_FILTERS="active-account-filters"}(c||(c={})),function(e){e.COMMON="common",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers"}(l||(l={})),function(e){e.CLIENT_ID="client_id",e.REDIRECT_URI="redirect_uri",e.RESPONSE_TYPE="response_type",e.RESPONSE_MODE="response_mode",e.GRANT_TYPE="grant_type",e.CLAIMS="claims",e.SCOPE="scope",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.REFRESH_TOKEN="refresh_token",e.EXPIRES_IN="expires_in",e.STATE="state",e.NONCE="nonce",e.PROMPT="prompt",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info",e.CODE="code",e.CODE_CHALLENGE="code_challenge",e.CODE_CHALLENGE_METHOD="code_challenge_method",e.CODE_VERIFIER="code_verifier",e.CLIENT_REQUEST_ID="client-request-id",e.X_CLIENT_SKU="x-client-SKU",e.X_CLIENT_VER="x-client-VER",e.X_CLIENT_OS="x-client-OS",e.X_CLIENT_CPU="x-client-CPU",e.X_CLIENT_CURR_TELEM="x-client-current-telemetry",e.X_CLIENT_LAST_TELEM="x-client-last-telemetry",e.X_MS_LIB_CAPABILITY="x-ms-lib-capability",e.X_APP_NAME="x-app-name",e.X_APP_VER="x-app-ver",e.POST_LOGOUT_URI="post_logout_redirect_uri",e.ID_TOKEN_HINT="id_token_hint",e.DEVICE_CODE="device_code",e.CLIENT_SECRET="client_secret",e.CLIENT_ASSERTION="client_assertion",e.CLIENT_ASSERTION_TYPE="client_assertion_type",e.TOKEN_TYPE="token_type",e.REQ_CNF="req_cnf",e.OBO_ASSERTION="assertion",e.REQUESTED_TOKEN_USE="requested_token_use",e.ON_BEHALF_OF="on_behalf_of",e.FOCI="foci",e.CCS_HEADER="X-AnchorMailbox",e.RETURN_SPA_CODE="return_spa_code",e.NATIVE_BROKER="nativebroker",e.LOGOUT_HINT="logout_hint"}(u||(u={})),function(e){e.ACCESS_TOKEN="access_token",e.XMS_CC="xms_cc"}(d||(d={}));var g,m={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"};!function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ID_TOKEN="id_token",e.DOMAIN_HINT="domain_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(g||(g={}));var v,y,w,C,b,E,T={PLAIN:"plain",S256:"S256"};!function(e){e.QUERY="query",e.FRAGMENT="fragment",e.FORM_POST="form_post"}(v||(v={})),function(e){e.IMPLICIT_GRANT="implicit",e.AUTHORIZATION_CODE_GRANT="authorization_code",e.CLIENT_CREDENTIALS_GRANT="client_credentials",e.RESOURCE_OWNER_PASSWORD_GRANT="password",e.REFRESH_TOKEN_GRANT="refresh_token",e.DEVICE_CODE_GRANT="device_code",e.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(y||(y={})),function(e){e.MSSTS_ACCOUNT_TYPE="MSSTS",e.ADFS_ACCOUNT_TYPE="ADFS",e.MSAV1_ACCOUNT_TYPE="MSA",e.GENERIC_ACCOUNT_TYPE="Generic"}(w||(w={})),function(e){e.CACHE_KEY_SEPARATOR="-",e.CLIENT_INFO_SEPARATOR="."}(C||(C={})),function(e){e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",e.REFRESH_TOKEN="RefreshToken"}(b||(b={})),function(e){e[e.ADFS=1001]="ADFS",e[e.MSA=1002]="MSA",e[e.MSSTS=1003]="MSSTS",e[e.GENERIC=1004]="GENERIC",e[e.ACCESS_TOKEN=2001]="ACCESS_TOKEN",e[e.REFRESH_TOKEN=2002]="REFRESH_TOKEN",e[e.ID_TOKEN=2003]="ID_TOKEN",e[e.APP_METADATA=3001]="APP_METADATA",e[e.UNDEFINED=9999]="UNDEFINED"}(E||(E={}));var S,_="appmetadata",I="1",k="authority-metadata",A=86400;!function(e){e.CONFIG="config",e.CACHE="cache",e.NETWORK="network",e.HARDCODED_VALUES="hardcoded_values"}(S||(S={}));var R,P={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"};!function(e){e.BEARER="Bearer",e.POP="pop",e.SSH="ssh-cert"}(R||(R={}));var M,x,N,O,q,L,H=60,D=3600,U="throttling",B="retry-after, h429",F="invalid_grant",K="client_mismatch";!function(e){e.username="username",e.password="password"}(M||(M={})),function(e){e[e.httpSuccess=200]="httpSuccess",e[e.httpBadRequest=400]="httpBadRequest"}(x||(x={})),function(e){e.FAILED_AUTO_DETECTION="1",e.INTERNAL_CACHE="2",e.ENVIRONMENT_VARIABLE="3",e.IMDS="4"}(N||(N={})),function(e){e.CONFIGURED_MATCHES_DETECTED="1",e.CONFIGURED_NO_AUTO_DETECTION="2",e.CONFIGURED_NOT_DETECTED="3",e.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",e.AUTO_DETECTION_REQUESTED_FAILED="5"}(O||(O={})),function(e){e.NO_CACHE_HIT="0",e.FORCE_REFRESH="1",e.NO_CACHED_ACCESS_TOKEN="2",e.CACHED_ACCESS_TOKEN_EXPIRED="3",e.REFRESH_CACHED_ACCESS_TOKEN="4"}(q||(q={})),function(e){e.Jwt="JWT",e.Jwk="JWK",e.Pop="pop"}(L||(L={}));var G,j={code:"unexpected_error",desc:"Unexpected error in authentication."},z={code:"post_request_failed",desc:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},W=function(e){function n(t,r,o){var i=this,s=r?t+": "+r:t;return i=e.call(this,s)||this,Object.setPrototypeOf(i,n.prototype),i.errorCode=t||h.EMPTY_STRING,i.errorMessage=r||h.EMPTY_STRING,i.subError=o||h.EMPTY_STRING,i.name="AuthError",i}return t(n,e),n.prototype.setCorrelationId=function(e){this.correlationId=e},n.createUnexpectedError=function(e){return new n(j.code,j.desc+": "+e)},n.createPostRequestFailed=function(e){return new n(z.code,z.desc+": "+e)},n}(Error),V={code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},Y={code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},$={code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},Q={code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},J={code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},X={code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},Z={code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},ee={code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},te={code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},ne={code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},re={code:"state_not_found",desc:"State not found"},oe={code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},ie={code:"nonce_not_found",desc:"nonce not found"},se={code:"auth_time_not_found",desc:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information."},ae={code:"max_age_transpired",desc:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication."},ce={code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},le={code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},ue={code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},de={code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},he={code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},pe={code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},fe={code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},ge={code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},me={code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},ve={code:"device_code_expired",desc:"Device code is expired."},ye={code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},we={code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},Ce={code:"invalid_cache_record",desc:"Cache record object was null or undefined."},be={code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},Ee={code:"no_account_found",desc:"No account found in cache for given key."},Te={code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},Se={code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},_e={code:"invalid_cache_type",desc:"Invalid cache type"},Ie={code:"unexpected_account_type",desc:"Unexpected account type."},ke={code:"unexpected_credential_type",desc:"Unexpected credential type."},Ae={code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},Re={code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},Pe={code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},Me={code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},xe={code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},Ne={code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},Oe={code:"binding_key_not_removed",desc:"Could not remove the credential's binding key from storage."},qe={code:"end_session_endpoint_not_supported",desc:"Provided authority does not support logout."},Le={code:"key_id_missing",desc:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key."},He={code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},De={code:"user_canceled",desc:"User canceled the flow."},Ue=function(e){function n(t,r){var o=e.call(this,t,r)||this;return o.name="ClientAuthError",Object.setPrototypeOf(o,n.prototype),o}return t(n,e),n.createClientInfoDecodingError=function(e){return new n(V.code,V.desc+" Failed with error: "+e)},n.createClientInfoEmptyError=function(){return new n(Y.code,""+Y.desc)},n.createTokenParsingError=function(e){return new n($.code,$.desc+" Failed with error: "+e)},n.createTokenNullOrEmptyError=function(e){return new n(Q.code,Q.desc+" Raw Token Value: "+e)},n.createEndpointDiscoveryIncompleteError=function(e){return new n(J.code,J.desc+" Detail: "+e)},n.createNetworkError=function(e,t){return new n(X.code,X.desc+" | Fetch client threw: "+t+" | Attempted to reach: "+e.split("?")[0])},n.createUnableToGetOpenidConfigError=function(e){return new n(Z.code,Z.desc+" Attempted to retrieve endpoints from: "+e)},n.createHashNotDeserializedError=function(e){return new n(ee.code,ee.desc+" Given Object: "+e)},n.createInvalidStateError=function(e,t){return new n(te.code,te.desc+" Invalid State: "+e+", Root Err: "+t)},n.createStateMismatchError=function(){return new n(ne.code,ne.desc)},n.createStateNotFoundError=function(e){return new n(re.code,re.desc+":  "+e)},n.createNonceMismatchError=function(){return new n(oe.code,oe.desc)},n.createAuthTimeNotFoundError=function(){return new n(se.code,se.desc)},n.createMaxAgeTranspiredError=function(){return new n(ae.code,ae.desc)},n.createNonceNotFoundError=function(e){return new n(ie.code,ie.desc+":  "+e)},n.createMultipleMatchingTokensInCacheError=function(){return new n(ce.code,ce.desc+".")},n.createMultipleMatchingAccountsInCacheError=function(){return new n(le.code,le.desc)},n.createMultipleMatchingAppMetadataInCacheError=function(){return new n(ue.code,ue.desc)},n.createTokenRequestCannotBeMadeError=function(){return new n(de.code,de.desc)},n.createAppendEmptyScopeToSetError=function(e){return new n(he.code,he.desc+" Given Scope: "+e)},n.createRemoveEmptyScopeFromSetError=function(e){return new n(pe.code,pe.desc+" Given Scope: "+e)},n.createAppendScopeSetError=function(e){return new n(fe.code,fe.desc+" Detail Error: "+e)},n.createEmptyInputScopeSetError=function(){return new n(ge.code,""+ge.desc)},n.createDeviceCodeCancelledError=function(){return new n(me.code,""+me.desc)},n.createDeviceCodeExpiredError=function(){return new n(ve.code,""+ve.desc)},n.createDeviceCodeUnknownError=function(){return new n(ye.code,""+ye.desc)},n.createNoAccountInSilentRequestError=function(){return new n(we.code,""+we.desc)},n.createNullOrUndefinedCacheRecord=function(){return new n(Ce.code,Ce.desc)},n.createInvalidCacheEnvironmentError=function(){return new n(be.code,be.desc)},n.createNoAccountFoundError=function(){return new n(Ee.code,Ee.desc)},n.createCachePluginError=function(){return new n(Te.code,""+Te.desc)},n.createNoCryptoObjectError=function(e){return new n(Se.code,""+Se.desc+e)},n.createInvalidCacheTypeError=function(){return new n(_e.code,""+_e.desc)},n.createUnexpectedAccountTypeError=function(){return new n(Ie.code,""+Ie.desc)},n.createUnexpectedCredentialTypeError=function(){return new n(ke.code,""+ke.desc)},n.createInvalidAssertionError=function(){return new n(Ae.code,""+Ae.desc)},n.createInvalidCredentialError=function(){return new n(Re.code,""+Re.desc)},n.createRefreshRequiredError=function(){return new n(Pe.code,Pe.desc)},n.createUserTimeoutReachedError=function(){return new n(Me.code,Me.desc)},n.createTokenClaimsRequiredError=function(){return new n(xe.code,xe.desc)},n.createNoAuthCodeInServerResponseError=function(){return new n(Ne.code,Ne.desc)},n.createBindingKeyNotRemovedError=function(){return new n(Oe.code,Oe.desc)},n.createLogoutNotSupportedError=function(){return new n(qe.code,qe.desc)},n.createKeyIdMissingError=function(){return new n(Le.code,Le.desc)},n.createNoNetworkConnectivityError=function(){return new n(He.code,He.desc)},n.createUserCanceledError=function(){return new n(De.code,De.desc)},n}(W),Be=function(){function e(){}return e.decodeAuthToken=function(t){if(e.isEmpty(t))throw Ue.createTokenNullOrEmptyError(t);var n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw Ue.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:n[1],JWSPayload:n[2],JWSSig:n[3]}},e.isEmpty=function(e){return void 0===e||!e||0===e.length},e.isEmptyObj=function(t){if(t&&!e.isEmpty(t))try{var n=JSON.parse(t);return 0===Object.keys(n).length}catch(e){}return!0},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},e.queryStringToObject=function(e){var t={},n=e.split("&"),r=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return n.forEach((function(e){if(e.trim()){var n=e.split(/=(.+)/g,2),o=n[0],i=n[1];o&&i&&(t[r(o)]=r(i))}})),t},e.trimArrayEntries=function(e){return e.map((function(e){return e.trim()}))},e.removeEmptyStringsFromArray=function(t){return t.filter((function(t){return!e.isEmpty(t)}))},e.jsonParseHelper=function(e){try{return JSON.parse(e)}catch(e){return null}},e.matchPattern=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},e}();!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(G||(G={}));var Fe=function(){function e(t,n,r){this.level=G.Info;var o=t||e.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||function(){},this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level="number"==typeof o.logLevel?o.logLevel:G.Info,this.correlationId=o.correlationId||h.EMPTY_STRING,this.packageName=n||h.EMPTY_STRING,this.packageVersion=r||h.EMPTY_STRING}return e.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:G.Info}},e.prototype.clone=function(t,n,r){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,n)},e.prototype.logMessage=function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var n=(new Date).toUTCString(),r=(Be.isEmpty(t.correlationId)?Be.isEmpty(this.correlationId)?"["+n+"]":"["+n+"] : ["+this.correlationId+"]":"["+n+"] : ["+t.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+G[t.logLevel]+" - "+e;this.executeCallback(t.logLevel,r,t.containsPii||!1)}},e.prototype.executeCallback=function(e,t,n){this.localCallback&&this.localCallback(e,t,n)},e.prototype.error=function(e,t){this.logMessage(e,{logLevel:G.Error,containsPii:!1,correlationId:t||h.EMPTY_STRING})},e.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:G.Error,containsPii:!0,correlationId:t||h.EMPTY_STRING})},e.prototype.warning=function(e,t){this.logMessage(e,{logLevel:G.Warning,containsPii:!1,correlationId:t||h.EMPTY_STRING})},e.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:G.Warning,containsPii:!0,correlationId:t||h.EMPTY_STRING})},e.prototype.info=function(e,t){this.logMessage(e,{logLevel:G.Info,containsPii:!1,correlationId:t||h.EMPTY_STRING})},e.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:G.Info,containsPii:!0,correlationId:t||h.EMPTY_STRING})},e.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:G.Verbose,containsPii:!1,correlationId:t||h.EMPTY_STRING})},e.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:G.Verbose,containsPii:!0,correlationId:t||h.EMPTY_STRING})},e.prototype.trace=function(e,t){this.logMessage(e,{logLevel:G.Trace,containsPii:!1,correlationId:t||h.EMPTY_STRING})},e.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:G.Trace,containsPii:!0,correlationId:t||h.EMPTY_STRING})},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},e}(),Ke=function(e,t){return Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ke(e,t)};function Ge(e,t){function n(){this.constructor=e}Ke(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var je,ze,We=function(){return We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},We.apply(this,arguments)};function Ve(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Ye(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function $e(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function Qe(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Je(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qe(arguments[t]));return e}!function(e){e.AcquireTokenByCode="acquireTokenByCode",e.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",e.AcquireTokenSilent="acquireTokenSilent",e.AcquireTokenSilentAsync="acquireTokenSilentAsync",e.AcquireTokenPopup="acquireTokenPopup",e.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",e.CryptoOptsSignJwt="cryptoOptsSignJwt",e.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",e.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",e.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",e.SsoSilent="ssoSilent",e.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",e.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",e.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",e.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",e.BrokerHandhshake="brokerHandshake",e.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",e.AcquireTokenByBroker="acquireTokenByBroker",e.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",e.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",e.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",e.RefreshTokenClientAcquireTokenByRefreshToken="refreshTokenClientAcquireTokenByRefreshToken",e.RefreshTokenClientCreateTokenRequestBody="refreshTokenClientCreateTokenRequestBody",e.AcquireTokenFromCache="acquireTokenFromCache",e.AcquireTokenBySilentIframe="acquireTokenBySilentIframe",e.InitializeBaseRequest="initializeBaseRequest",e.InitializeSilentRequest="initializeSilentRequest",e.InitializeClientApplication="initializeClientApplication",e.SilentIframeClientTokenHelper="silentIframeClientTokenHelper",e.SilentHandlerInitiateAuthRequest="silentHandlerInitiateAuthRequest",e.SilentHandlerMonitorIframeForHash="silentHandlerMonitorIframeForHash",e.SilentHandlerLoadFrame="silentHandlerLoadFrame",e.StandardInteractionClientCreateAuthCodeClient="standardInteractionClientCreateAuthCodeClient",e.StandardInteractionClientGetClientConfiguration="standardInteractionClientGetClientConfiguration",e.StandardInteractionClientInitializeAuthorizationRequest="standardInteractionClientInitializeAuthorizationRequest",e.StandardInteractionClientInitializeAuthorizationCodeRequest="standardInteractionClientInitializeAuthorizationCodeRequest",e.GetAuthCodeUrl="getAuthCodeUrl",e.HandleCodeResponseFromServer="handleCodeResponseFromServer",e.HandleCodeResponseFromHash="handleCodeResponseFromHash",e.UpdateTokenEndpointAuthority="updateTokenEndpointAuthority",e.AuthClientAcquireToken="authClientAcquireToken",e.AuthClientExecuteTokenRequest="authClientExecuteTokenRequest",e.AuthClientCreateTokenRequestBody="authClientCreateTokenRequestBody",e.AuthClientCreateQueryString="authClientCreateQueryString",e.PopTokenGenerateCnf="popTokenGenerateCnf",e.PopTokenGenerateKid="popTokenGenerateKid",e.HandleServerTokenResponse="handleServerTokenResponse",e.AuthorityFactoryCreateDiscoveredInstance="authorityFactoryCreateDiscoveredInstance",e.AuthorityResolveEndpointsAsync="authorityResolveEndpointsAsync",e.AuthorityGetCloudDiscoveryMetadataFromNetwork="authorityGetCloudDiscoveryMetadataFromNetwork",e.AuthorityUpdateCloudDiscoveryMetadata="authorityUpdateCloudDiscoveryMetadata",e.AuthorityGetEndpointMetadataFromNetwork="authorityGetEndpointMetadataFromNetwork",e.AuthorityUpdateEndpointMetadata="authorityUpdateEndpointMetadata",e.AuthorityUpdateMetadataWithRegionalInformation="authorityUpdateMetadataWithRegionalInformation",e.RegionDiscoveryDetectRegion="regionDiscoveryDetectRegion",e.RegionDiscoveryGetRegionFromIMDS="regionDiscoveryGetRegionFromIMDS",e.RegionDiscoveryGetCurrentVersion="regionDiscoveryGetCurrentVersion",e.AcquireTokenByCodeAsync="acquireTokenByCodeAsync",e.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",e.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",e.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",e.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",e.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken",e.NativeMessageHandlerHandshake="nativeMessageHandlerHandshake"}(je||(je={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(ze||(ze={}));var Xe,Ze,et,tt,nt,rt,ot,it,st,at=new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status"]),ct=function(e){function n(t,r,o){var i=e.call(this,t,r,o)||this;return i.name="ServerError",Object.setPrototypeOf(i,n.prototype),i}return t(n,e),n}(W),lt=["interaction_required","consent_required","login_required"],ut=["message_only","additional_action","basic_action","user_password_expired","consent_required"],dt={code:"no_tokens_found",desc:"No refresh token found in the cache. Please sign-in."},ht={code:"native_account_unavailable",desc:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."},pt=function(e){function n(t,r,o,i,s,a,c){var l=e.call(this,t,r,o)||this;return Object.setPrototypeOf(l,n.prototype),l.timestamp=i||h.EMPTY_STRING,l.traceId=s||h.EMPTY_STRING,l.correlationId=a||h.EMPTY_STRING,l.claims=c||h.EMPTY_STRING,l.name="InteractionRequiredAuthError",l}return t(n,e),n.isInteractionRequiredError=function(e,t,n){var r=!!e&&lt.indexOf(e)>-1,o=!!n&&ut.indexOf(n)>-1,i=!!t&&lt.some((function(e){return t.indexOf(e)>-1}));return r||i||o},n.createNoTokensFoundError=function(){return new n(dt.code,dt.desc)},n.createNativeAccountUnavailableError=function(){return new n(ht.code,ht.desc)},n}(W),ft="invalid_grant",gt=483,mt=600,vt="msal",yt=30,wt="msal.js.browser",Ct="53ee284d-920a-4b59-9d30-a60315b26836",bt="ppnbnpeolgkicgegkbkbjmhlideopiji",Et="MATS";!function(e){e.HandshakeRequest="Handshake",e.HandshakeResponse="HandshakeResponse",e.GetToken="GetToken",e.Response="Response"}(Xe||(Xe={})),function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.MemoryStorage="memoryStorage"}(Ze||(Ze={})),function(e){e.GET="GET",e.POST="POST"}(et||(et={})),function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",e.SESSION_STATE="session.state",e.REQUEST_STATE="request.state",e.NONCE_IDTOKEN="nonce.id_token",e.ORIGIN_URI="request.origin",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.REQUEST_PARAMS="request.params",e.SCOPES="scopes",e.INTERACTION_STATUS_KEY="interaction.status",e.CCS_CREDENTIAL="ccs.credential",e.CORRELATION_ID="request.correlationId",e.NATIVE_REQUEST="request.native",e.REDIRECT_CONTEXT="request.redirect.context"}(tt||(tt={})),function(e){e.ACCOUNT_KEYS="msal.account.keys",e.TOKEN_KEYS="msal.token.keys"}(nt||(nt={})),function(e){e.WRAPPER_SKU="wrapper.sku",e.WRAPPER_VER="wrapper.version"}(rt||(rt={})),function(e){e[e.acquireTokenRedirect=861]="acquireTokenRedirect",e[e.acquireTokenPopup=862]="acquireTokenPopup",e[e.ssoSilent=863]="ssoSilent",e[e.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",e[e.handleRedirectPromise=865]="handleRedirectPromise",e[e.acquireTokenByCode=866]="acquireTokenByCode",e[e.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",e[e.logout=961]="logout",e[e.logoutPopup=962]="logoutPopup"}(ot||(ot={})),function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(it||(it={})),function(e){e.Startup="startup",e.Login="login",e.Logout="logout",e.AcquireToken="acquireToken",e.SsoSilent="ssoSilent",e.HandleRedirect="handleRedirect",e.None="none"}(st||(st={}));var Tt,St={scopes:p},_t="jwk";!function(e){e.React="@azure/msal-react",e.Angular="@azure/msal-angular"}(Tt||(Tt={}));var It,kt="msal.db";!function(e){e[e.Default=0]="Default",e[e.AccessToken=1]="AccessToken",e[e.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",e[e.RefreshToken=3]="RefreshToken",e[e.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",e[e.Skip=5]="Skip"}(It||(It={}));var At,Rt={code:"missing_kid_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided."},Pt={code:"missing_alg_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."},Mt=function(e){function n(t,r){var o=e.call(this,t,r)||this;return o.name="JoseHeaderError",Object.setPrototypeOf(o,n.prototype),o}return t(n,e),n.createMissingKidError=function(){return new n(Rt.code,Rt.desc)},n.createMissingAlgError=function(){return new n(Pt.code,Pt.desc)},n}(W),xt=function(){function e(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}return e.getShrHeaderString=function(t){if(!t.kid)throw Mt.createMissingKidError();if(!t.alg)throw Mt.createMissingAlgError();var n=new e({typ:t.typ||L.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(n)},e}(),Nt=function(){function e(){}return e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e}(),Ot=function(){function e(e){this.cryptoObj=e}return e.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,Nt.decimalToHex(e[0])+Nt.decimalToHex(e[1])+Nt.decimalToHex(e[2])+Nt.decimalToHex(e[3])+"-"+Nt.decimalToHex(e[4])+Nt.decimalToHex(e[5])+"-"+Nt.decimalToHex(e[6])+Nt.decimalToHex(e[7])+"-"+Nt.decimalToHex(e[8])+Nt.decimalToHex(e[9])+"-"+Nt.decimalToHex(e[10])+Nt.decimalToHex(e[11])+Nt.decimalToHex(e[12])+Nt.decimalToHex(e[13])+Nt.decimalToHex(e[14])+Nt.decimalToHex(e[15])}catch(e){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n="0123456789abcdef",r=0,o=h.EMPTY_STRING,i=0;i<36;i++)"-"!==t[i]&&"4"!==t[i]&&(r=16*Math.random()|0),"x"===t[i]?o+=n[r]:"y"===t[i]?(r&=3,o+=n[r|=8]):o+=t[i];return o}},e.prototype.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e}(),qt=function(){function e(){}return e.stringToUtf8Arr=function(e){for(var t,n=0,r=e.length,o=0;o<r;o++)n+=(t=e.charCodeAt(o))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var i=new Uint8Array(n),s=0,a=0;s<n;a++)(t=e.charCodeAt(a))<128?i[s++]=t:t<2048?(i[s++]=192+(t>>>6),i[s++]=128+(63&t)):t<65536?(i[s++]=224+(t>>>12),i[s++]=128+(t>>>6&63),i[s++]=128+(63&t)):t<2097152?(i[s++]=240+(t>>>18),i[s++]=128+(t>>>12&63),i[s++]=128+(t>>>6&63),i[s++]=128+(63&t)):t<67108864?(i[s++]=248+(t>>>24),i[s++]=128+(t>>>18&63),i[s++]=128+(t>>>12&63),i[s++]=128+(t>>>6&63),i[s++]=128+(63&t)):(i[s++]=252+(t>>>30),i[s++]=128+(t>>>24&63),i[s++]=128+(t>>>18&63),i[s++]=128+(t>>>12&63),i[s++]=128+(t>>>6&63),i[s++]=128+(63&t));return i},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return t},e.utf8ArrToString=function(e){for(var t=h.EMPTY_STRING,n=void 0,r=e.length,o=0;o<r;o++)n=e[o],t+=String.fromCharCode(n>251&&n<254&&o+5<r?1073741824*(n-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>247&&n<252&&o+4<r?(n-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>239&&n<248&&o+3<r?(n-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>223&&n<240&&o+2<r?(n-224<<12)+(e[++o]-128<<6)+e[++o]-128:n>191&&n<224&&o+1<r?(n-192<<6)+e[++o]-128:n);return t},e.getSortedObjectString=function(e){return JSON.stringify(e,Object.keys(e).sort())},e}(),Lt=function(){function e(){}return e.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,h.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},e.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,h.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.encode=function(e){var t=qt.stringToUtf8Arr(e);return this.base64EncArr(t)},e.prototype.base64EncArr=function(e){for(var t=(3-e.length%3)%3,n=h.EMPTY_STRING,r=void 0,o=e.length,i=0,s=0;s<o;s++)r=s%3,i|=e[s]<<(16>>>r&24),2!==r&&e.length-s!=1||(n+=String.fromCharCode(this.uint6ToB64(i>>>18&63),this.uint6ToB64(i>>>12&63),this.uint6ToB64(i>>>6&63),this.uint6ToB64(63&i)),i=0);return 0===t?n:n.substring(0,n.length-t)+(1===t?"=":"==")},e.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},e}(),Ht=function(){function e(){}return e.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}var n=this.base64DecToArr(t);return qt.utf8ArrToString(n)},e.prototype.base64DecToArr=function(e,t){for(var n=e.replace(/[^A-Za-z0-9\+\/]/g,h.EMPTY_STRING),r=n.length,o=t?Math.ceil((3*r+1>>>2)/t)*t:3*r+1>>>2,i=new Uint8Array(o),s=void 0,a=void 0,c=0,l=0,u=0;u<r;u++)if(a=3&u,c|=this.b64ToUint6(n.charCodeAt(u))<<18-6*a,3===a||r-u==1){for(s=0;s<3&&l<o;s++,l++)i[l]=c>>>(16>>>s&24)&255;c=0}return i},e.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},e}(),Dt={code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},Ut={code:"crypto_nonexistent",desc:"The crypto object or function is not available."},Bt={code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},Ft={code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},Kt={code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors."},Gt={code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},jt={code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors."},zt={code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},Wt={code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},Vt={code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},Yt={code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},$t={code:"empty_window_error",desc:"window.open returned null or undefined window object."},Qt={code:"user_cancelled",desc:"User cancelled the flow."},Jt={code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},Xt={code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},Zt={code:"redirect_in_iframe",desc:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},en={code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},tn={code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},nn={code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},rn={code:"silent_logout_unsupported",desc:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead."},on={code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},sn={code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'."},an={code:"no_token_request_cache_error",desc:"No token request found in cache."},cn={code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},ln={code:"no_cached_authority_error",desc:"No cached authority found."},un={code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},dn={code:"invalid_cache_type",desc:"Invalid cache type"},hn={code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},pn={code:"database_not_open",desc:"Database is not open!"},fn={code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},gn={code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},mn={code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},vn={code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."},yn={code:"unable_to_load_token",desc:"Error loading token to cache."},wn={code:"crypto_key_not_found",desc:"Cryptographic Key or Keypair not found in browser storage."},Cn={code:"auth_code_required",desc:"An authorization code must be provided (as the `code` property on the request) to this flow."},bn={code:"auth_code_or_nativeAccountId_required",desc:"An authorization code or nativeAccountId must be provided to this flow."},En={code:"spa_code_and_nativeAccountId_present",desc:"Request cannot contain both spa code and native account id."},Tn={code:"database_unavailable",desc:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts."},Sn={code:"unable_to_acquire_token_from_native_platform",desc:"Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors."},_n={code:"native_handshake_timeout",desc:"Timed out while attempting to establish connection to browser extension"},In={code:"native_extension_not_installed",desc:"Native extension is not installed. If you think this is a mistake call the initialize function."},kn={code:"native_connection_not_established",desc:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors."},An={code:"native_broker_called_before_initialize",desc:"You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors."},Rn={code:"native_prompt_not_supported",desc:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow."},Pn=function(e){function t(n,r){var o=e.call(this,n,r)||this;return Object.setPrototypeOf(o,t.prototype),o.name="BrowserAuthError",o}return Ge(t,e),t.createPkceNotGeneratedError=function(e){return new t(Dt.code,Dt.desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(Ut.code,Ut.desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(Bt.code,Bt.desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(Ft.code,Ft.desc)},t.createEmptyHashError=function(e){return new t(Kt.code,Kt.desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(Gt.code,Gt.desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(jt.code,jt.desc)},t.createUnableToParseStateError=function(){return new t(zt.code,zt.desc)},t.createStateInteractionTypeMismatchError=function(){return new t(Wt.code,Wt.desc)},t.createInteractionInProgressError=function(){return new t(Vt.code,Vt.desc)},t.createPopupWindowError=function(e){var n=Yt.desc;return n=Be.isEmpty(e)?n:n+" Details: "+e,new t(Yt.code,n)},t.createEmptyWindowCreatedError=function(){return new t($t.code,$t.desc)},t.createUserCancelledError=function(){return new t(Qt.code,Qt.desc)},t.createMonitorPopupTimeoutError=function(){return new t(Jt.code,Jt.desc)},t.createMonitorIframeTimeoutError=function(){return new t(Xt.code,Xt.desc)},t.createRedirectInIframeError=function(e){return new t(Zt.code,Zt.desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(en.code,en.desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(tn.code,tn.desc)},t.createIframeClosedPrematurelyError=function(){return new t(nn.code,nn.desc)},t.createSilentLogoutUnsupportedError=function(){return new t(rn.code,rn.desc)},t.createNoAccountError=function(){return new t(on.code,on.desc)},t.createSilentPromptValueError=function(e){return new t(sn.code,sn.desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(cn.code,cn.desc)},t.createNoTokenRequestCacheError=function(){return new t(an.code,an.desc)},t.createAuthRequestNotSetError=function(){return new t(un.code,un.desc)},t.createNoCachedAuthorityError=function(){return new t(ln.code,ln.desc)},t.createInvalidCacheTypeError=function(){return new t(dn.code,""+dn.desc)},t.createNonBrowserEnvironmentError=function(){return new t(hn.code,hn.desc)},t.createDatabaseNotOpenError=function(){return new t(pn.code,pn.desc)},t.createNoNetworkConnectivityError=function(){return new t(fn.code,fn.desc)},t.createPostRequestFailedError=function(e,n){return new t(gn.code,gn.desc+" | Network client threw: "+e+" | Attempted to reach: "+n.split("?")[0])},t.createGetRequestFailedError=function(e,n){return new t(mn.code,mn.desc+" | Network client threw: "+e+" | Attempted to reach: "+n.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(vn.code,vn.desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(yn.code,yn.desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(wn.code,wn.desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(Cn.code,Cn.desc)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(bn.code,bn.desc)},t.createSpaCodeAndNativeAccountIdPresentError=function(){return new t(En.code,En.desc)},t.createDatabaseUnavailableError=function(){return new t(Tn.code,Tn.desc)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(Sn.code,Sn.desc)},t.createNativeHandshakeTimeoutError=function(){return new t(_n.code,_n.desc)},t.createNativeExtensionNotInstalledError=function(){return new t(In.code,In.desc)},t.createNativeConnectionNotEstablishedError=function(){return new t(kn.code,kn.desc)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(An.code,An.desc)},t.createNativePromptParameterNotSupportedError=function(){return new t(Rn.code,Rn.desc)},t}(W),Mn=function(){function e(e){this.base64Encode=new Lt,this.cryptoObj=e}return e.prototype.generateCodes=function(){return Ye(this,void 0,void 0,(function(){var e,t;return $e(this,(function(n){switch(n.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=n.sent(),[2,{verifier:e,challenge:t}]}}))}))},e.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(e){throw Pn.createPkceNotGeneratedError(e)}},e.prototype.generateCodeChallengeFromVerifier=function(e){return Ye(this,void 0,void 0,(function(){var t,n;return $e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=r.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw n=r.sent(),Pn.createPkceNotGeneratedError(n);case 3:return[2]}}))}))},e}(),xn=function(){function e(){}return e.prototype.getRandomValues=function(e){return window.crypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){return[2,window.crypto.subtle.generateKey(e,t,n)]}))}))},e.prototype.exportKey=function(e){return Ye(this,void 0,void 0,(function(){return $e(this,(function(t){return[2,window.crypto.subtle.exportKey(_t,e)]}))}))},e.prototype.importKey=function(e,t,n,r){return Ye(this,void 0,void 0,(function(){return $e(this,(function(o){return[2,window.crypto.subtle.importKey(_t,e,t,n,r)]}))}))},e.prototype.sign=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){return[2,window.crypto.subtle.sign(e,t,n)]}))}))},e.prototype.digest=function(e,t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return[2,window.crypto.subtle.digest(e,t)]}))}))},e}(),Nn=function(){function e(){}return e.prototype.initPrng=function(e){return window.msrCrypto.initPrng(Je(e))},e.prototype.getRandomValues=function(e){return window.msrCrypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){return[2,window.msrCrypto.subtle.generateKey(e,t,n)]}))}))},e.prototype.exportKey=function(e){return Ye(this,void 0,void 0,(function(){return $e(this,(function(t){return[2,window.msrCrypto.subtle.exportKey(_t,e)]}))}))},e.prototype.importKey=function(e,t,n,r){return Ye(this,void 0,void 0,(function(){return $e(this,(function(o){return[2,window.msrCrypto.subtle.importKey(_t,e,t,n,r)]}))}))},e.prototype.sign=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){return[2,window.msrCrypto.subtle.sign(e,t,n)]}))}))},e.prototype.digest=function(e,t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return[2,window.msrCrypto.subtle.digest(e,t)]}))}))},e}(),On=function(){function e(){}return e.prototype.getRandomValues=function(e){return window.msCrypto.getRandomValues(e)},e.prototype.generateKey=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){return[2,new Promise((function(r,o){var i=window.msCrypto.subtle.generateKey(e,t,n);i.addEventListener("complete",(function(e){r(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.exportKey=function(e){return Ye(this,void 0,void 0,(function(){return $e(this,(function(t){return[2,new Promise((function(t,n){var r=window.msCrypto.subtle.exportKey(_t,e);r.addEventListener("complete",(function(e){var r=e.target.result,o=qt.utf8ArrToString(new Uint8Array(r)).replace(/\r/g,h.EMPTY_STRING).replace(/\n/g,h.EMPTY_STRING).replace(/\t/g,h.EMPTY_STRING).split(" ").join(h.EMPTY_STRING).replace("\0",h.EMPTY_STRING);try{t(JSON.parse(o))}catch(e){n(e)}})),r.addEventListener("error",(function(e){n(e)}))}))]}))}))},e.prototype.importKey=function(e,t,n,r){return Ye(this,void 0,void 0,(function(){var o,i;return $e(this,(function(s){return o=qt.getSortedObjectString(e),i=qt.stringToArrayBuffer(o),[2,new Promise((function(e,o){var s=window.msCrypto.subtle.importKey(_t,i,t,n,r);s.addEventListener("complete",(function(t){e(t.target.result)})),s.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.sign=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){return[2,new Promise((function(r,o){var i=window.msCrypto.subtle.sign(e,t,n);i.addEventListener("complete",(function(e){r(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.digest=function(e,t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return[2,new Promise((function(n,r){var o=window.msCrypto.subtle.digest(e,t.buffer);o.addEventListener("complete",(function(e){n(e.target.result)})),o.addEventListener("error",(function(e){r(e)}))}))]}))}))},e}(),qn={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},Ln={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},Hn={code:"storage_not_supported",desc:"Given storage configuration option was not supported."},Dn={code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},Un={code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},Bn={code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},Fn={code:"entropy_not_provided",desc:"The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option."},Kn=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="BrowserConfigurationAuthError",Object.setPrototypeOf(o,t.prototype),o}return Ge(t,e),t.createRedirectUriEmptyError=function(){return new t(qn.code,qn.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Ln.code,Ln.desc)},t.createStorageNotSupportedError=function(e){return new t(Hn.code,Hn.desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(Dn.code,Dn.desc)},t.createStubPcaInstanceCalledError=function(){return new t(Un.code,Un.desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(Bn.code,Bn.desc)},t.createEntropyNotProvided=function(){return new t(Fn.code,Fn.desc)},t}(W),Gn="SHA-256",jn=new Uint8Array([1,0,1]),zn=function(){function e(e,t){var n,r;if(this.logger=e,this.cryptoOptions=t,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new xn;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new On;else{if(!this.hasMsrCrypto()||!(null===(n=this.cryptoOptions)||void 0===n?void 0:n.useMsrCrypto))throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),Pn.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new Nn}if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),!(null===(r=this.cryptoOptions)||void 0===r?void 0:r.entropy))throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),Kn.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:Gn,modulusLength:2048,publicExponent:jn}}return e.prototype.hasIECrypto=function(){return"msCrypto"in window},e.prototype.hasBrowserCrypto=function(){return"crypto"in window},e.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},e.prototype.sha256Digest=function(e){return Ye(this,void 0,void 0,(function(){var t;return $e(this,(function(n){return t=qt.stringToUtf8Arr(e),[2,this.subtleCrypto.digest({name:Gn},t)]}))}))},e.prototype.getRandomValues=function(e){return this.subtleCrypto.getRandomValues(e)},e.prototype.generateKeyPair=function(e,t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,e,t)]}))}))},e.prototype.exportJwk=function(e){return Ye(this,void 0,void 0,(function(){return $e(this,(function(t){return[2,this.subtleCrypto.exportKey(e)]}))}))},e.prototype.importJwk=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){return[2,this.subtleCrypto.importKey(e,this.keygenAlgorithmOptions,t,n)]}))}))},e.prototype.sign=function(e,t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,e,t)]}))}))},e}(),Wn=function(){function e(){this.dbName=kt,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return e.prototype.open=function(){return Ye(this,void 0,void 0,(function(){var e=this;return $e(this,(function(t){return[2,new Promise((function(t,n){var r=window.indexedDB.open(e.dbName,e.version);r.addEventListener("upgradeneeded",(function(t){t.target.result.createObjectStore(e.tableName)})),r.addEventListener("success",(function(n){var r=n;e.db=r.target.result,e.dbOpen=!0,t()})),r.addEventListener("error",(function(){return n(Pn.createDatabaseUnavailableError())}))}))]}))}))},e.prototype.closeConnection=function(){var e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)},e.prototype.validateDbIsOpen=function(){return Ye(this,void 0,void 0,(function(){return $e(this,(function(e){switch(e.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,e.sent()];case 2:return[2]}}))}))},e.prototype.getItem=function(e){return Ye(this,void 0,void 0,(function(){var t=this;return $e(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(Pn.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);o.addEventListener("success",(function(e){var r=e;t.closeConnection(),n(r.target.result)})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.setItem=function(e,t){return Ye(this,void 0,void 0,(function(){var n=this;return $e(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,o){if(!n.db)return o(Pn.createDatabaseNotOpenError());var i=n.db.transaction([n.tableName],"readwrite").objectStore(n.tableName).put(t,e);i.addEventListener("success",(function(){n.closeConnection(),r()})),i.addEventListener("error",(function(e){n.closeConnection(),o(e)}))}))]}}))}))},e.prototype.removeItem=function(e){return Ye(this,void 0,void 0,(function(){var t=this;return $e(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(Pn.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);o.addEventListener("success",(function(){t.closeConnection(),n()})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.getKeys=function(){return Ye(this,void 0,void 0,(function(){var e=this;return $e(this,(function(t){switch(t.label){case 0:return[4,this.validateDbIsOpen()];case 1:return t.sent(),[2,new Promise((function(t,n){if(!e.db)return n(Pn.createDatabaseNotOpenError());var r=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();r.addEventListener("success",(function(n){var r=n;e.closeConnection(),t(r.target.result)})),r.addEventListener("error",(function(t){e.closeConnection(),n(t)}))}))]}}))}))},e.prototype.containsKey=function(e){return Ye(this,void 0,void 0,(function(){var t=this;return $e(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(Pn.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);o.addEventListener("success",(function(e){var r=e;t.closeConnection(),n(1===r.target.result)})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.deleteDatabase=function(){return Ye(this,void 0,void 0,(function(){return $e(this,(function(e){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise((function(e,t){var n=window.indexedDB.deleteDatabase(kt);n.addEventListener("success",(function(){return e(!0)})),n.addEventListener("blocked",(function(){return e(!0)})),n.addEventListener("error",(function(){return t(!1)}))}))]}))}))},e}(),Vn=function(){function e(){this.cache=new Map}return e.prototype.getItem=function(e){return this.cache.get(e)||null},e.prototype.setItem=function(e,t){this.cache.set(e,t)},e.prototype.removeItem=function(e){this.cache.delete(e)},e.prototype.getKeys=function(){var e=[];return this.cache.forEach((function(t,n){e.push(n)})),e},e.prototype.containsKey=function(e){return this.cache.has(e)},e.prototype.clear=function(){this.cache.clear()},e}(),Yn=function(){function e(e,t){this.inMemoryCache=new Vn,this.indexedDBCache=new Wn,this.logger=e,this.storeName=t}return e.prototype.handleDatabaseAccessError=function(e){if(!(e instanceof Pn&&e.errorCode===Tn.code))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},e.prototype.getItem=function(e){return Ye(this,void 0,void 0,(function(){var t,n;return $e(this,(function(r){switch(r.label){case 0:if(t=this.inMemoryCache.getItem(e))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(e)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2,t]}}))}))},e.prototype.setItem=function(e,t){return Ye(this,void 0,void 0,(function(){var n;return $e(this,(function(r){switch(r.label){case 0:this.inMemoryCache.setItem(e,t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(e,t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2]}}))}))},e.prototype.removeItem=function(e){return Ye(this,void 0,void 0,(function(){var t;return $e(this,(function(n){switch(n.label){case 0:this.inMemoryCache.removeItem(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}}))}))},e.prototype.getKeys=function(){return Ye(this,void 0,void 0,(function(){var e,t;return $e(this,(function(n){switch(n.label){case 0:if(0!==(e=this.inMemoryCache.getKeys()).length)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,n.sent()];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2,e]}}))}))},e.prototype.containsKey=function(e){return Ye(this,void 0,void 0,(function(){var t,n;return $e(this,(function(r){switch(r.label){case 0:if(t=this.inMemoryCache.containsKey(e))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(e)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2,t]}}))}))},e.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},e.prototype.clearPersistent=function(){return Ye(this,void 0,void 0,(function(){var e,t;return $e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return(e=n.sent())&&this.logger.verbose("Persistent keystore deleted"),[2,e];case 2:return t=n.sent(),this.handleDatabaseAccessError(t),[2,!1];case 3:return[2]}}))}))},e}();!function(e){e.asymmetricKeys="asymmetricKeys",e.symmetricKeys="symmetricKeys"}(At||(At={}));var $n,Qn=function(){function e(e){this.logger=e,this.asymmetricKeys=new Yn(this.logger,At.asymmetricKeys),this.symmetricKeys=new Yn(this.logger,At.symmetricKeys)}return e.prototype.clear=function(){return Ye(this,void 0,void 0,(function(){var e;return $e(this,(function(t){switch(t.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return t.sent(),[2,!0];case 3:return(e=t.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+e.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}}))}))},e}(),Jn=function(){function e(e,t,n){this.logger=e,this.browserCrypto=new zn(this.logger,n),this.b64Encode=new Lt,this.b64Decode=new Ht,this.guidGenerator=new Ot(this.browserCrypto),this.pkceGenerator=new Mn(this.browserCrypto),this.cache=new Qn(this.logger),this.performanceClient=t}return e.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},e.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},e.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},e.prototype.generatePkceCodes=function(){return Ye(this,void 0,void 0,(function(){return $e(this,(function(e){return[2,this.pkceGenerator.generateCodes()]}))}))},e.prototype.getPublicKeyThumbprint=function(t){var n;return Ye(this,void 0,void 0,(function(){var r,o,i,s,a,c,l,u;return $e(this,(function(d){switch(d.label){case 0:return r=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(je.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(e.EXTRACTABLE,e.POP_KEY_USAGES)];case 1:return o=d.sent(),[4,this.browserCrypto.exportJwk(o.publicKey)];case 2:return i=d.sent(),s={e:i.e,kty:i.kty,n:i.n},a=qt.getSortedObjectString(s),[4,this.hashString(a)];case 3:return c=d.sent(),[4,this.browserCrypto.exportJwk(o.privateKey)];case 4:return l=d.sent(),[4,this.browserCrypto.importJwk(l,!1,["sign"])];case 5:return u=d.sent(),[4,this.cache.asymmetricKeys.setItem(c,{privateKey:u,publicKey:o.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return d.sent(),r&&r.endMeasurement({success:!0}),[2,c]}}))}))},e.prototype.removeTokenBindingKey=function(e){return Ye(this,void 0,void 0,(function(){return $e(this,(function(t){switch(t.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(e)];case 1:return t.sent(),[4,this.cache.asymmetricKeys.containsKey(e)];case 2:return[2,!t.sent()]}}))}))},e.prototype.clearKeystore=function(){return Ye(this,void 0,void 0,(function(){return $e(this,(function(e){switch(e.label){case 0:return[4,this.cache.clear()];case 1:return[2,e.sent()]}}))}))},e.prototype.signJwt=function(e,t,n){var r;return Ye(this,void 0,void 0,(function(){var o,i,s,a,c,l,u,d,h,p,f,g,m;return $e(this,(function(v){switch(v.label){case 0:return o=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement(je.CryptoOptsSignJwt,n),[4,this.cache.asymmetricKeys.getItem(t)];case 1:if(!(i=v.sent()))throw Pn.createSigningKeyNotFoundInStorageError(t);return[4,this.browserCrypto.exportJwk(i.publicKey)];case 2:return s=v.sent(),a=qt.getSortedObjectString(s),c=this.b64Encode.urlEncode(JSON.stringify({kid:t})),l=xt.getShrHeaderString({kid:c,alg:s.alg}),u=this.b64Encode.urlEncode(l),e.cnf={jwk:JSON.parse(a)},d=this.b64Encode.urlEncode(JSON.stringify(e)),h=u+"."+d,p=qt.stringToArrayBuffer(h),[4,this.browserCrypto.sign(i.privateKey,p)];case 3:return f=v.sent(),g=this.b64Encode.urlEncodeArr(new Uint8Array(f)),m=h+"."+g,o&&o.endMeasurement({success:!0}),[2,m]}}))}))},e.prototype.hashString=function(e){return Ye(this,void 0,void 0,(function(){var t,n;return $e(this,(function(r){switch(r.label){case 0:return[4,this.browserCrypto.sha256Digest(e)];case 1:return t=r.sent(),n=new Uint8Array(t),[2,this.b64Encode.urlEncodeArr(n)]}}))}))},e.POP_KEY_USAGES=["sign","verify"],e.EXTRACTABLE=!0,e}(),Xn=function(){function e(e,t,n,r,o,i){this.authority=t,this.libraryName=r,this.libraryVersion=o,this.applicationTelemetry=i,this.clientId=e,this.logger=n,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map}return e.prototype.startPerformanceMeasurement=function(e,t){return{}},e.prototype.startPerformanceMeasuremeant=function(e,t){return{}},e.prototype.getIntFields=function(){return at},e.prototype.getPreQueueTime=function(e,t){var n=this.preQueueTimeByCorrelationId.get(t);if(n){if(n.name===e)return n.time;this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue time found for "+e+", unable to add queue measurement")}else this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: "+t+", unable to add queue measurement")},e.prototype.calculateQueuedTime=function(e,t){return e<1?(this.logger.trace("PerformanceClient: preQueueTime should be a positive integer and not "+e),0):t<1?(this.logger.trace("PerformanceClient: currentTime should be a positive integer and not "+t),0):t<e?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):t-e},e.prototype.addQueueMeasurement=function(e,t,n,r){if(t){if(0===n)this.logger.trace("PerformanceClient.addQueueMeasurement: queue time provided for "+e+" is "+n);else if(!n)return void this.logger.trace("PerformanceClient.addQueueMeasurement: no queue time provided for "+e);var o={eventName:e,queueTime:n,manuallyCompleted:r},i=this.queueMeasurements.get(t);if(i)i.push(o),this.queueMeasurements.set(t,i);else{this.logger.trace("PerformanceClient.addQueueMeasurement: adding correlationId "+t+" to queue measurements");var s=[o];this.queueMeasurements.set(t,s)}this.preQueueTimeByCorrelationId.delete(t)}else this.logger.trace("PerformanceClient.addQueueMeasurement: correlationId not provided for "+e+", cannot add queue measurement")},e.prototype.startMeasurement=function(e,t){var n,o,i=this,s=t||this.generateId();t||this.logger.info("PerformanceClient: No correlation id provided for "+e+", generating",s),this.logger.trace("PerformanceClient: Performance measurement started for "+e,s);var a=this.startPerformanceMeasuremeant(e,s);a.startMeasurement();var c={eventId:this.generateId(),status:ze.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:e,startTimeMs:Date.now(),correlationId:s,appName:null===(n=this.applicationTelemetry)||void 0===n?void 0:n.appName,appVersion:null===(o=this.applicationTelemetry)||void 0===o?void 0:o.appVersion};return this.cacheEventByCorrelationId(c),{endMeasurement:function(e){return i.endMeasurement(r(r({},c),e),a)},discardMeasurement:function(){return i.discardMeasurements(c.correlationId)},addStaticFields:function(e){return i.addStaticFields(e,c.correlationId)},increment:function(e){return i.increment(e,c.correlationId)},measurement:a,event:c}},e.prototype.endMeasurement=function(e,t){var n,o,i=this,s=this.eventsByCorrelationId.get(e.correlationId);if(!s)return this.logger.trace("PerformanceClient: Measurement not found for "+e.eventId,e.correlationId),null;var a=e.eventId===s.eventId,c={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0};a?(c=this.getQueueInfo(e.correlationId),this.discardCache(s.correlationId)):null===(n=s.incompleteSubMeasurements)||void 0===n||n.delete(e.eventId),null==t||t.endMeasurement();var l=null==t?void 0:t.flushMeasurement();if(!l)return this.logger.trace("PerformanceClient: Performance measurement not taken",s.correlationId),null;if(this.logger.trace("PerformanceClient: Performance measurement ended for "+e.name+": "+l+" ms",e.correlationId),!a)return s[e.name+"DurationMs"]=Math.floor(l),r({},s);var u=r(r({},s),e),d=0;return null===(o=u.incompleteSubMeasurements)||void 0===o||o.forEach((function(t){i.logger.trace("PerformanceClient: Incomplete submeasurement "+t.name+" found for "+e.name,u.correlationId),d++})),u.incompleteSubMeasurements=void 0,u=r(r({},u),{durationMs:Math.round(l),queuedTimeMs:c.totalQueueTime,queuedCount:c.totalQueueCount,queuedManuallyCompletedCount:c.manuallyCompletedCount,status:ze.Completed,incompleteSubsCount:d}),this.truncateIntegralFields(u,this.getIntFields()),this.emitEvents([u],e.correlationId),u},e.prototype.addStaticFields=function(e,t){this.logger.trace("PerformanceClient: Updating static fields");var n=this.eventsByCorrelationId.get(t);n?this.eventsByCorrelationId.set(t,r(r({},n),e)):this.logger.trace("PerformanceClient: Event not found for",t)},e.prototype.increment=function(e,t){this.logger.trace("PerformanceClient: Updating counters");var n=this.eventsByCorrelationId.get(t);if(n)for(var r in e)n.hasOwnProperty(r)||(n[r]=0),n[r]+=e[r];else this.logger.trace("PerformanceClient: Event not found for",t)},e.prototype.cacheEventByCorrelationId=function(e){var t=this.eventsByCorrelationId.get(e.correlationId);t?(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" added/updated",e.correlationId),t.incompleteSubMeasurements=t.incompleteSubMeasurements||new Map,t.incompleteSubMeasurements.set(e.eventId,{name:e.name,startTimeMs:e.startTimeMs})):(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" started",e.correlationId),this.eventsByCorrelationId.set(e.correlationId,r({},e)))},e.prototype.getQueueInfo=function(e){var t=this.queueMeasurements.get(e);t||this.logger.trace("PerformanceClient: no queue measurements found for for correlationId: "+e);var n=0,r=0,o=0;return null==t||t.forEach((function(e){n+=e.queueTime,r++,o+=e.manuallyCompleted?1:0})),{totalQueueTime:n,totalQueueCount:r,manuallyCompletedCount:o}},e.prototype.discardMeasurements=function(e){this.logger.trace("PerformanceClient: Performance measurements discarded",e),this.eventsByCorrelationId.delete(e)},e.prototype.discardCache=function(e){this.discardMeasurements(e),this.logger.trace("PerformanceClient: QueueMeasurements discarded",e),this.queueMeasurements.delete(e),this.logger.trace("PerformanceClient: Pre-queue times discarded",e),this.preQueueTimeByCorrelationId.delete(e)},e.prototype.addPerformanceCallback=function(e){var t=this.generateId();return this.callbacks.set(t,e),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+t),t},e.prototype.removePerformanceCallback=function(e){var t=this.callbacks.delete(e);return t?this.logger.verbose("PerformanceClient: Performance callback "+e+" removed."):this.logger.verbose("PerformanceClient: Performance callback "+e+" not removed."),t},e.prototype.emitEvents=function(e,t){var n=this;this.logger.verbose("PerformanceClient: Emitting performance events",t),this.callbacks.forEach((function(r,o){n.logger.trace("PerformanceClient: Emitting event to callback "+o,t),r.apply(null,[e])}))},e.prototype.truncateIntegralFields=function(e,t){t.forEach((function(t){t in e&&"number"==typeof e[t]&&(e[t]=Math.floor(e[t]))}))},e}(),Zn=function(){function e(){}return e.prototype.startMeasurement=function(){},e.prototype.endMeasurement=function(){},e.prototype.flushMeasurement=function(){return null},e}(),er=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.generateId=function(){return"callback-id"},n.prototype.startPerformanceMeasuremeant=function(){return new Zn},n.prototype.startPerformanceMeasurement=function(){return new Zn},n.prototype.calculateQueuedTime=function(e,t){return 0},n.prototype.addQueueMeasurement=function(e,t,n){},n.prototype.setPreQueueTime=function(e,t){},n}(Xn),tr={createNewGuid:function(){throw W.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw W.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw W.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Crypto interface - generatePkceCodes() has not been implemented",W.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")}))}))},getPublicKeyThumbprint:function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Crypto interface - getPublicKeyThumbprint() has not been implemented",W.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")}))}))},removeTokenBindingKey:function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Crypto interface - removeTokenBindingKey() has not been implemented",W.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")}))}))},clearKeystore:function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Crypto interface - clearKeystore() has not been implemented",W.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")}))}))},signJwt:function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Crypto interface - signJwt() has not been implemented",W.createUnexpectedError("Crypto interface - signJwt() has not been implemented")}))}))},hashString:function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Crypto interface - hashString() has not been implemented",W.createUnexpectedError("Crypto interface - hashString() has not been implemented")}))}))}},nr=function(){function e(){}return e.prototype.generateAccountId=function(){return e.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},e.prototype.generateCredentialId=function(){return e.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},e.prototype.generateTarget=function(){return e.generateTargetForCacheKey(this.target)},e.prototype.generateCredentialKey=function(){return e.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},e.prototype.generateType=function(){switch(this.credentialType){case b.ID_TOKEN:return E.ID_TOKEN;case b.ACCESS_TOKEN:case b.ACCESS_TOKEN_WITH_AUTH_SCHEME:return E.ACCESS_TOKEN;case b.REFRESH_TOKEN:return E.REFRESH_TOKEN;default:throw Ue.createUnexpectedCredentialTypeError()}},e.generateCredentialCacheKey=function(e,t,n,r,o,i,s,a,c){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(n,r,o,s),this.generateTargetForCacheKey(i),this.generateClaimsHashForCacheKey(c),this.generateSchemeForCacheKey(a)].join(C.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateAccountIdForCacheKey=function(e,t){return[e,t].join(C.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateCredentialIdForCacheKey=function(e,t,n,r){return[e,e===b.REFRESH_TOKEN&&r||t,n||h.EMPTY_STRING].join(C.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateTargetForCacheKey=function(e){return(e||h.EMPTY_STRING).toLowerCase()},e.generateClaimsHashForCacheKey=function(e){return(e||h.EMPTY_STRING).toLowerCase()},e.generateSchemeForCacheKey=function(e){return e&&e.toLowerCase()!==R.BEARER.toLowerCase()?e.toLowerCase():h.EMPTY_STRING},e}(),rr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.createIdTokenEntity=function(e,t,r,o,i){var s=new n;return s.credentialType=b.ID_TOKEN,s.homeAccountId=e,s.environment=t,s.clientId=o,s.secret=r,s.realm=i,s},n.isIdTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===b.ID_TOKEN)},n}(nr),or={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},ir={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},sr={code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},ar={code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},cr={code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},lr={code:"empty_url_error",desc:"URL was empty or null."},ur={code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},dr={code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},hr={code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},pr={code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},fr={code:"token_request_empty",desc:"Token request was empty and not found in cache."},gr={code:"logout_request_empty",desc:"The logout request was null or undefined."},mr={code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},vr={code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},yr={code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},wr={code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},Cr={code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},br={code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},Er={code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},Tr={code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},Sr={code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},_r={code:"invalid_authentication_header",desc:"Invalid authentication header provided"},Ir=function(e){function n(t,r){var o=e.call(this,t,r)||this;return o.name="ClientConfigurationError",Object.setPrototypeOf(o,n.prototype),o}return t(n,e),n.createRedirectUriEmptyError=function(){return new n(or.code,or.desc)},n.createPostLogoutRedirectUriEmptyError=function(){return new n(ir.code,ir.desc)},n.createClaimsRequestParsingError=function(e){return new n(sr.code,sr.desc+" Given value: "+e)},n.createInsecureAuthorityUriError=function(e){return new n(ar.code,ar.desc+" Given URI: "+e)},n.createUrlParseError=function(e){return new n(cr.code,cr.desc+" Given Error: "+e)},n.createUrlEmptyError=function(){return new n(lr.code,lr.desc)},n.createEmptyScopesArrayError=function(){return new n(ur.code,""+ur.desc)},n.createClientIdSingleScopeError=function(e){return new n(dr.code,dr.desc+" Given Scopes: "+e)},n.createInvalidPromptError=function(e){return new n(hr.code,hr.desc+" Given value: "+e)},n.createInvalidClaimsRequestError=function(){return new n(pr.code,pr.desc)},n.createEmptyLogoutRequestError=function(){return new n(gr.code,gr.desc)},n.createEmptyTokenRequestError=function(){return new n(fr.code,fr.desc)},n.createInvalidCodeChallengeMethodError=function(){return new n(mr.code,mr.desc)},n.createInvalidCodeChallengeParamsError=function(){return new n(vr.code,vr.desc)},n.createInvalidCloudDiscoveryMetadataError=function(){return new n(yr.code,yr.desc)},n.createInvalidAuthorityMetadataError=function(){return new n(wr.code,wr.desc)},n.createUntrustedAuthorityError=function(){return new n(Cr.code,Cr.desc)},n.createInvalidAzureCloudInstanceError=function(){return new n(br.code,br.desc)},n.createMissingSshJwkError=function(){return new n(Er.code,Er.desc)},n.createMissingSshKidError=function(){return new n(Tr.code,Tr.desc)},n.createMissingNonceAuthenticationHeadersError=function(){return new n(Sr.code,Sr.desc)},n.createInvalidAuthenticationHeaderError=function(e,t){return new n(_r.code,_r.desc+". Invalid header: "+e+". Details: "+t)},n}(Ue),kr=function(){function e(e){var t=this,n=e?Be.trimArrayEntries(s(e)):[],r=n?Be.removeEmptyStringsFromArray(n):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach((function(e){return t.scopes.add(e)}))}return e.fromString=function(t){return new e((t||h.EMPTY_STRING).split(" "))},e.createSearchScopes=function(t){var n=new e(t);return n.containsOnlyOIDCScopes()?n.removeScope(h.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n},e.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw Ir.createEmptyScopesArrayError()},e.prototype.containsScope=function(t){var n=new e(this.printScopesLowerCase().split(" "));return!Be.isEmpty(t)&&n.scopes.has(t.toLowerCase())},e.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((function(e){return t.containsScope(e)})))},e.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return f.forEach((function(n){e.containsScope(n)&&(t+=1)})),this.scopes.size===t},e.prototype.appendScope=function(e){Be.isEmpty(e)||this.scopes.add(e.trim())},e.prototype.appendScopes=function(e){var t=this;try{e.forEach((function(e){return t.appendScope(e)}))}catch(e){throw Ue.createAppendScopeSetError(e)}},e.prototype.removeScope=function(e){if(Be.isEmpty(e))throw Ue.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},e.prototype.removeOIDCScopes=function(){var e=this;f.forEach((function(t){e.scopes.delete(t)}))},e.prototype.unionScopeSets=function(e){if(!e)throw Ue.createEmptyInputScopeSetError();var t=new Set;return e.scopes.forEach((function(e){return t.add(e.toLowerCase())})),this.scopes.forEach((function(e){return t.add(e.toLowerCase())})),t},e.prototype.intersectingScopeSets=function(e){if(!e)throw Ue.createEmptyInputScopeSetError();e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n},e.prototype.getScopeCount=function(){return this.scopes.size},e.prototype.asArray=function(){var e=[];return this.scopes.forEach((function(t){return e.push(t)})),e},e.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):h.EMPTY_STRING},e.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},e}();function Ar(e,t){if(Be.isEmpty(e))throw Ue.createClientInfoEmptyError();try{var n=t.base64Decode(e);return JSON.parse(n)}catch(e){throw Ue.createClientInfoDecodingError(e.message)}}function Rr(e){if(Be.isEmpty(e))throw Ue.createClientInfoDecodingError("Home account ID was empty.");var t=e.split(C.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?h.EMPTY_STRING:t[1]}}!function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs",e[e.Dsts=2]="Dsts"}($n||($n={}));var Pr,Mr=function(){function e(){}return e.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(C.CACHE_KEY_SEPARATOR).toLowerCase()},e.prototype.generateAccountKey=function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},e.prototype.generateType=function(){switch(this.authorityType){case w.ADFS_ACCOUNT_TYPE:return E.ADFS;case w.MSAV1_ACCOUNT_TYPE:return E.MSA;case w.MSSTS_ACCOUNT_TYPE:return E.MSSTS;case w.GENERIC_ACCOUNT_TYPE:return E.GENERIC;default:throw Ue.createUnexpectedAccountTypeError()}},e.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},e.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||h.EMPTY_STRING,e.tenantId||h.EMPTY_STRING].join(C.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAccount=function(t,n,r,o,i,s,a,c){var l,u,d,p,f,g,m=new e;m.authorityType=w.MSSTS_ACCOUNT_TYPE,m.clientInfo=t,m.homeAccountId=n,m.nativeAccountId=c;var v=a||o&&o.getPreferredCache();if(!v)throw Ue.createInvalidCacheEnvironmentError();if(m.environment=v,m.realm=(null===(l=null==r?void 0:r.claims)||void 0===l?void 0:l.tid)||h.EMPTY_STRING,r){m.idTokenClaims=r.claims,m.localAccountId=(null===(u=null==r?void 0:r.claims)||void 0===u?void 0:u.oid)||(null===(d=null==r?void 0:r.claims)||void 0===d?void 0:d.sub)||h.EMPTY_STRING;var y=null===(p=null==r?void 0:r.claims)||void 0===p?void 0:p.preferred_username,C=(null===(f=null==r?void 0:r.claims)||void 0===f?void 0:f.emails)?r.claims.emails[0]:null;m.username=y||C||h.EMPTY_STRING,m.name=null===(g=null==r?void 0:r.claims)||void 0===g?void 0:g.name}return m.cloudGraphHostName=i,m.msGraphHost=s,m},e.createGenericAccount=function(t,n,r,o,i,s){var a,c,l,u,d=new e;d.authorityType=r&&r.authorityType===$n.Adfs?w.ADFS_ACCOUNT_TYPE:w.GENERIC_ACCOUNT_TYPE,d.homeAccountId=t,d.realm=h.EMPTY_STRING;var p=s||r&&r.getPreferredCache();if(!p)throw Ue.createInvalidCacheEnvironmentError();return n&&(d.localAccountId=(null===(a=null==n?void 0:n.claims)||void 0===a?void 0:a.oid)||(null===(c=null==n?void 0:n.claims)||void 0===c?void 0:c.sub)||h.EMPTY_STRING,d.username=(null===(l=null==n?void 0:n.claims)||void 0===l?void 0:l.upn)||h.EMPTY_STRING,d.name=(null===(u=null==n?void 0:n.claims)||void 0===u?void 0:u.name)||h.EMPTY_STRING,d.idTokenClaims=null==n?void 0:n.claims),d.environment=p,d.cloudGraphHostName=o,d.msGraphHost=i,d},e.generateHomeAccountId=function(e,t,n,r,o){var i,s=(null===(i=null==o?void 0:o.claims)||void 0===i?void 0:i.sub)?o.claims.sub:h.EMPTY_STRING;if(t===$n.Adfs||t===$n.Dsts)return s;if(e)try{var a=Ar(e,r);if(!Be.isEmpty(a.uid)&&!Be.isEmpty(a.utid))return""+a.uid+C.CLIENT_INFO_SEPARATOR+a.utid}catch(e){}return n.verbose("No client info in response"),s},e.isAccountEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))},e.accountInfoIsEqual=function(e,t,n){if(!e||!t)return!1;var r=!0;if(n){var o=e.idTokenClaims||{},i=t.idTokenClaims||{};r=o.iat===i.iat&&o.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r},e}(),xr=function(){function e(t,n){if(Be.isEmpty(t))throw Ue.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=e.extractTokenClaims(t,n)}return e.extractTokenClaims=function(e,t){var n=Be.decodeAuthToken(e);try{var r=n.JWSPayload,o=t.base64Decode(r);return JSON.parse(o)}catch(e){throw Ue.createTokenParsingError(e)}},e.checkMaxAge=function(e,t){if(0===t||Date.now()-3e5>e+t)throw Ue.createMaxAgeTranspiredError()},e}(),Nr="@azure/msal-common",Or="12.0.0",qr=function(){function e(e,t,n){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(Nr,Or)}return e.prototype.getAllAccounts=function(){var e=this,t=this.getAccountKeys();if(t.length<1)return[];var n=t.reduce((function(t,n){var r=e.getAccount(n);return r?(t.push(r),t):t}),[]);return n.length<1?[]:n.map((function(t){return e.getAccountInfoFromEntity(t)}))},e.prototype.getAccountInfoFilteredBy=function(e){var t=this.getAccountsFilteredBy(e);return t.length>0?this.getAccountInfoFromEntity(t[0]):null},e.prototype.getAccountInfoFromEntity=function(e){var t=e.getAccountInfo(),n=this.getIdToken(t);return n&&(t.idToken=n.secret,t.idTokenClaims=new xr(n.secret,this.cryptoImpl).claims),t},e.prototype.saveCacheRecord=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:if(!e)throw Ue.createNullOrUndefinedCacheRecord();return e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken?[4,this.saveAccessToken(e.accessToken)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata),[2]}}))}))},e.prototype.saveAccessToken=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o,s=this;return i(this,(function(i){switch(i.label){case 0:return t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),r=kr.fromString(e.target),o=[],n.accessToken.forEach((function(e){if(s.accessTokenKeyMatchesFilter(e,t,!1)){var n=s.getAccessTokenCredential(e);if(n&&s.credentialMatchesFilter(n,t))kr.fromString(n.target).intersectingScopeSets(r)&&o.push(s.removeAccessToken(e))}})),[4,Promise.all(o)];case 1:return i.sent(),this.setAccessTokenCredential(e),[2]}}))}))},e.prototype.getAccountsFilteredBy=function(e){var t=this,n=this.getAccountKeys(),r=[];return n.forEach((function(n){if(t.isAccountKey(n,e.homeAccountId,e.realm)){var o=t.getAccount(n);o&&(e.homeAccountId&&!t.matchHomeAccountId(o,e.homeAccountId)||e.localAccountId&&!t.matchLocalAccountId(o,e.localAccountId)||e.username&&!t.matchUsername(o,e.username)||e.environment&&!t.matchEnvironment(o,e.environment)||e.realm&&!t.matchRealm(o,e.realm)||e.nativeAccountId&&!t.matchNativeAccountId(o,e.nativeAccountId)||r.push(o))}})),r},e.prototype.isAccountKey=function(e,t,n){return!(e.split(C.CACHE_KEY_SEPARATOR).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))},e.prototype.isCredentialKey=function(e){if(e.split(C.CACHE_KEY_SEPARATOR).length<6)return!1;var t=e.toLowerCase();if(-1===t.indexOf(b.ID_TOKEN.toLowerCase())&&-1===t.indexOf(b.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(b.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(b.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(b.REFRESH_TOKEN.toLowerCase())>-1){var n=""+b.REFRESH_TOKEN+C.CACHE_KEY_SEPARATOR+this.clientId+C.CACHE_KEY_SEPARATOR,r=""+b.REFRESH_TOKEN+C.CACHE_KEY_SEPARATOR+I+C.CACHE_KEY_SEPARATOR;if(-1===t.indexOf(n.toLowerCase())&&-1===t.indexOf(r.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0},e.prototype.credentialMatchesFilter=function(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"==typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===b.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===R.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0},e.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},e.prototype.getAppMetadataFilteredByInternal=function(e,t){var n=this,r=this.getKeys(),o={};return r.forEach((function(r){if(n.isAppMetadata(r)){var i=n.getAppMetadata(r);i&&(e&&!n.matchEnvironment(i,e)||t&&!n.matchClientId(i,t)||(o[r]=i))}})),o},e.prototype.getAuthorityMetadataByAlias=function(e){var t=this,n=this.getAuthorityMetadataKeys(),r=null;return n.forEach((function(n){if(t.isAuthorityMetadata(n)&&-1!==n.indexOf(t.clientId)){var o=t.getAuthorityMetadata(n);o&&-1!==o.aliases.indexOf(e)&&(r=o)}})),r},e.prototype.removeAllAccounts=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){switch(r.label){case 0:return e=this.getAccountKeys(),t=[],e.forEach((function(e){t.push(n.removeAccount(e))})),[4,Promise.all(t)];case 1:return r.sent(),[2]}}))}))},e.prototype.removeAccount=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:if(!(t=this.getAccount(e)))throw Ue.createNoAccountFoundError();return[4,this.removeAccountContext(t)];case 1:return n.sent(),this.removeItem(e),[2]}}))}))},e.prototype.removeAccountContext=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o=this;return i(this,(function(i){switch(i.label){case 0:return t=this.getTokenKeys(),n=e.generateAccountId(),r=[],t.idToken.forEach((function(e){0===e.indexOf(n)&&o.removeIdToken(e)})),t.accessToken.forEach((function(e){0===e.indexOf(n)&&r.push(o.removeAccessToken(e))})),t.refreshToken.forEach((function(e){0===e.indexOf(n)&&o.removeRefreshToken(e)})),[4,Promise.all(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.removeAccessToken=function(e){return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:if(!(t=this.getAccessTokenCredential(e)))return[2];if(t.credentialType.toLowerCase()!==b.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==R.POP)return[3,4];if(!(n=t.keyId))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(n)];case 2:return r.sent(),[3,4];case 3:throw r.sent(),Ue.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(e)]}}))}))},e.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach((function(t){e.isAppMetadata(t)&&e.removeItem(t)})),!0},e.prototype.readCacheRecord=function(e,t,n){var r=this.getTokenKeys(),o=this.readAccountFromCache(e),i=this.getIdToken(e,r),s=this.getAccessToken(e,t,r),a=this.getRefreshToken(e,!1,r),c=this.readAppMetadataFromCache(n);return o&&i&&(o.idTokenClaims=new xr(i.secret,this.cryptoImpl).claims),{account:o,idToken:i,accessToken:s,refreshToken:a,appMetadata:c}},e.prototype.readAccountFromCache=function(e){var t=Mr.generateAccountCacheKey(e);return this.getAccount(t)},e.prototype.getIdToken=function(e,t){this.commonLogger.trace("CacheManager - getIdToken called");var n={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:b.ID_TOKEN,clientId:this.clientId,realm:e.tenantId},r=this.getIdTokensByFilter(n,t),o=r.length;if(o<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(o>1)throw Ue.createMultipleMatchingTokensInCacheError();return this.commonLogger.info("CacheManager:getIdToken - Returning id token"),r[0]},e.prototype.getIdTokensByFilter=function(e,t){var n=this,o=t&&t.idToken||this.getTokenKeys().idToken,i=[];return o.forEach((function(t){if(n.idTokenKeyMatchesFilter(t,r({clientId:n.clientId},e))){var o=n.getIdTokenCredential(t);o&&n.credentialMatchesFilter(o,e)&&i.push(o)}})),i},e.prototype.idTokenKeyMatchesFilter=function(e,t){var n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))},e.prototype.removeIdToken=function(e){this.removeItem(e)},e.prototype.removeRefreshToken=function(e){this.removeItem(e)},e.prototype.getAccessToken=function(e,t,n){var r=this;this.commonLogger.trace("CacheManager - getAccessToken called");var o=kr.createSearchScopes(t.scopes),i=t.authenticationScheme||R.BEARER,s=i&&i.toLowerCase()!==R.BEARER.toLowerCase()?b.ACCESS_TOKEN_WITH_AUTH_SCHEME:b.ACCESS_TOKEN,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:s,clientId:this.clientId,realm:e.tenantId,target:o,tokenType:i,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},c=n&&n.accessToken||this.getTokenKeys().accessToken,l=[];c.forEach((function(e){if(r.accessTokenKeyMatchesFilter(e,a,!0)){var t=r.getAccessTokenCredential(e);t&&r.credentialMatchesFilter(t,a)&&l.push(t)}}));var u=l.length;if(u<1)return this.commonLogger.info("CacheManager:getAccessToken - No token found"),null;if(u>1)throw Ue.createMultipleMatchingTokensInCacheError();return this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),l[0]},e.prototype.accessTokenKeyMatchesFilter=function(e,t,n){var r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target)for(var o=t.target.asArray(),i=0;i<o.length;i++){if(n&&!r.includes(o[i].toLowerCase()))return!1;if(!n&&r.includes(o[i].toLowerCase()))return!0}return!0},e.prototype.getAccessTokensByFilter=function(e){var t=this,n=this.getTokenKeys(),r=[];return n.accessToken.forEach((function(n){if(t.accessTokenKeyMatchesFilter(n,e,!0)){var o=t.getAccessTokenCredential(n);o&&t.credentialMatchesFilter(o,e)&&r.push(o)}})),r},e.prototype.getRefreshToken=function(e,t,n){var r=this;this.commonLogger.trace("CacheManager - getRefreshToken called");var o=t?I:void 0,i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:b.REFRESH_TOKEN,clientId:this.clientId,familyId:o},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,a=[];return s.forEach((function(e){if(r.refreshTokenKeyMatchesFilter(e,i)){var t=r.getRefreshTokenCredential(e);t&&r.credentialMatchesFilter(t,i)&&a.push(t)}})),a.length<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),a[0])},e.prototype.refreshTokenKeyMatchesFilter=function(e,t){var n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))},e.prototype.readAppMetadataFromCache=function(e){var t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((function(e){return n[e]})),o=r.length;if(o<1)return null;if(o>1)throw Ue.createMultipleMatchingAppMetadataInCacheError();return r[0]},e.prototype.isAppMetadataFOCI=function(e){var t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==I)},e.prototype.matchHomeAccountId=function(e,t){return!("string"!=typeof e.homeAccountId||t!==e.homeAccountId)},e.prototype.matchLocalAccountId=function(e,t){return!("string"!=typeof e.localAccountId||t!==e.localAccountId)},e.prototype.matchUsername=function(e,t){return!("string"!=typeof e.username||t.toLowerCase()!==e.username.toLowerCase())},e.prototype.matchUserAssertionHash=function(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)},e.prototype.matchEnvironment=function(e,t){var n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)},e.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},e.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},e.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},e.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},e.prototype.matchNativeAccountId=function(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)},e.prototype.matchTarget=function(e,t){return!(e.credentialType!==b.ACCESS_TOKEN&&e.credentialType!==b.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)&&kr.fromString(e.target).containsScopeSet(t)},e.prototype.matchTokenType=function(e,t){return!(!e.tokenType||e.tokenType!==t)},e.prototype.matchKeyId=function(e,t){return!(!e.keyId||e.keyId!==t)},e.prototype.isAppMetadata=function(e){return-1!==e.indexOf(_)},e.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf(k)},e.prototype.generateAuthorityMetadataCacheKey=function(e){return k+"-"+this.clientId+"-"+e},e.toObject=function(e,t){for(var n in t)e[n]=t[n];return e},e}(),Lr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.setAccount=function(){throw W.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},n.prototype.getAccount=function(){throw W.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},n.prototype.setIdTokenCredential=function(){throw W.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},n.prototype.getIdTokenCredential=function(){throw W.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},n.prototype.setAccessTokenCredential=function(){throw W.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},n.prototype.getAccessTokenCredential=function(){throw W.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},n.prototype.setRefreshTokenCredential=function(){throw W.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},n.prototype.getRefreshTokenCredential=function(){throw W.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},n.prototype.setAppMetadata=function(){throw W.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},n.prototype.getAppMetadata=function(){throw W.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},n.prototype.setServerTelemetry=function(){throw W.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},n.prototype.getServerTelemetry=function(){throw W.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},n.prototype.setAuthorityMetadata=function(){throw W.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},n.prototype.getAuthorityMetadata=function(){throw W.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},n.prototype.getAuthorityMetadataKeys=function(){throw W.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},n.prototype.setThrottlingCache=function(){throw W.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},n.prototype.getThrottlingCache=function(){throw W.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},n.prototype.removeItem=function(){throw W.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},n.prototype.containsKey=function(){throw W.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},n.prototype.getKeys=function(){throw W.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},n.prototype.getAccountKeys=function(){throw W.createUnexpectedError("Storage interface - getAccountKeys() has not been implemented for the cacheStorage interface.")},n.prototype.getTokenKeys=function(){throw W.createUnexpectedError("Storage interface - getTokenKeys() has not been implemented for the cacheStorage interface.")},n.prototype.clear=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Storage interface - clear() has not been implemented for the cacheStorage interface.",W.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")}))}))},n.prototype.updateCredentialCacheKey=function(){throw W.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},n}(qr),Hr=function(){function e(){}return e.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},e.isTokenExpired=function(t,n){var r=Number(t)||0;return e.nowSeconds()+n>r},e.wasClockTurnedBack=function(t){return Number(t)>e.nowSeconds()},e.delay=function(e,t){return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))},e}(),Dr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.createAccessTokenEntity=function(e,t,r,o,i,s,a,c,l,u,d,h,p,f,g){var m,v,y=new n;y.homeAccountId=e,y.credentialType=b.ACCESS_TOKEN,y.secret=r;var w=Hr.nowSeconds();if(y.cachedAt=w.toString(),y.expiresOn=a.toString(),y.extendedExpiresOn=c.toString(),u&&(y.refreshOn=u.toString()),y.environment=t,y.clientId=o,y.realm=i,y.target=s,y.userAssertionHash=h,y.tokenType=Be.isEmpty(d)?R.BEARER:d,f&&(y.requestedClaims=f,y.requestedClaimsHash=g),(null===(m=y.tokenType)||void 0===m?void 0:m.toLowerCase())!==R.BEARER.toLowerCase())switch(y.credentialType=b.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case R.POP:var C=xr.extractTokenClaims(r,l);if(!(null===(v=null==C?void 0:C.cnf)||void 0===v?void 0:v.kid))throw Ue.createTokenClaimsRequiredError();y.keyId=C.cnf.kid;break;case R.SSH:y.keyId=p}return y},n.isAccessTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===b.ACCESS_TOKEN||e.credentialType===b.ACCESS_TOKEN_WITH_AUTH_SCHEME))},n}(nr),Ur=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.createRefreshTokenEntity=function(e,t,r,o,i,s){var a=new n;return a.clientId=o,a.credentialType=b.REFRESH_TOKEN,a.environment=t,a.homeAccountId=e,a.secret=r,a.userAssertionHash=s,i&&(a.familyId=i),a},n.isRefreshTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===b.REFRESH_TOKEN)},n}(nr),Br=function(){function e(){}return e.prototype.generateAppMetadataKey=function(){return e.generateAppMetadataCacheKey(this.environment,this.clientId)},e.generateAppMetadataCacheKey=function(e,t){return[_,e,t].join(C.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAppMetadataEntity=function(t,n,r){var o=new e;return o.clientId=t,o.environment=n,r&&(o.familyId=r),o},e.isAppMetadataEntity=function(e,t){return!!t&&(0===e.indexOf(_)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"))},e}(),Fr=function(){function e(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return e.isServerTelemetryEntity=function(e,t){var n=0===e.indexOf(P.CACHE_KEY),r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r},e}(),Kr=function(){function e(){this.expiresAt=Hr.nowSeconds()+A}return e.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},e.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t,this.jwks_uri=e.jwks_uri},e.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},e.prototype.resetExpiresAt=function(){this.expiresAt=Hr.nowSeconds()+A},e.prototype.isExpired=function(){return this.expiresAt<=Hr.nowSeconds()},e.isAuthorityMetadataEntity=function(e,t){return!!t&&(0===e.indexOf(k)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"))},e}(),Gr=function(){function e(){}return e.isThrottlingEntity=function(e,t){var n=!1;e&&(n=0===e.indexOf(U));var r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r},e}(),jr=function(){function e(){}return e.setRequestState=function(t,n,r){var o=e.generateLibraryState(t,r);return Be.isEmpty(n)?o:""+o+h.RESOURCE_DELIM+n},e.generateLibraryState=function(e,t){if(!e)throw Ue.createNoCryptoObjectError("generateLibraryState");var n={id:e.createNewGuid()};t&&(n.meta=t);var r=JSON.stringify(n);return e.base64Encode(r)},e.parseRequestState=function(e,t){if(!e)throw Ue.createNoCryptoObjectError("parseRequestState");if(Be.isEmpty(t))throw Ue.createInvalidStateError(t,"Null, undefined or empty state");try{var n=t.split(h.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(h.RESOURCE_DELIM):h.EMPTY_STRING,i=e.base64Decode(r),s=JSON.parse(i);return{userRequestState:Be.isEmpty(o)?h.EMPTY_STRING:o,libraryState:s}}catch(e){throw Ue.createInvalidStateError(t,e)}},e}();!function(e){e.HOME_ACCOUNT_ID="home_account_id",e.UPN="UPN"}(Pr||(Pr={}));var zr,Wr,Vr=function(){function e(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return e.prototype.validateWindowStorage=function(e){if(e!==Ze.LocalStorage&&e!==Ze.SessionStorage)throw Kn.createStorageNotSupportedError(e);if(!!!window[e])throw Kn.createStorageNotSupportedError(e)},e.prototype.getItem=function(e){return this.windowStorage.getItem(e)},e.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},e.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(this.windowStorage)},e.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},e}(),Yr=function(){function e(t){if(this._urlString=t,Be.isEmpty(this._urlString))throw Ir.createUrlEmptyError();Be.isEmpty(this.getHash())&&(this._urlString=e.canonicalizeUri(t))}return Object.defineProperty(e.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),e.canonicalizeUri=function(e){if(e){var t=e.toLowerCase();return Be.endsWith(t,"?")?t=t.slice(0,-1):Be.endsWith(t,"?/")&&(t=t.slice(0,-2)),Be.endsWith(t,"/")||(t+="/"),t}return e},e.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(e){throw Ir.createUrlParseError(e)}if(!e.HostNameAndPort||!e.PathSegments)throw Ir.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Ir.createInsecureAuthorityUriError(this.urlString)},e.appendQueryString=function(e,t){return Be.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},e.removeHashFromUrl=function(t){return e.canonicalizeUri(t.split("#")[0])},e.prototype.replaceTenantPath=function(t){var n=this.getUrlComponents(),r=n.PathSegments;return!t||0===r.length||r[0]!==l.COMMON&&r[0]!==l.ORGANIZATIONS||(r[0]=t),e.constructAuthorityUriFromObject(n)},e.prototype.getHash=function(){return e.parseHash(this.urlString)},e.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Ir.createUrlParseError("Given url string: "+this.urlString);var n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},r=n.AbsolutePath.split("/");return r=r.filter((function(e){return e&&e.length>0})),n.PathSegments=r,!Be.isEmpty(n.QueryString)&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n},e.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw Ir.createUrlParseError("Given url string: "+e);return n[2]},e.getAbsoluteUrl=function(t,n){if(t[0]===h.FORWARD_SLASH){var r=new e(n).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+t}return t},e.parseHash=function(e){var t=e.indexOf("#"),n=e.indexOf("#/");return n>-1?e.substring(n+2):t>-1?e.substring(t+1):h.EMPTY_STRING},e.parseQueryString=function(e){var t=e.indexOf("?"),n=e.indexOf("/?");return n>-1?e.substring(n+2):t>-1?e.substring(t+1):h.EMPTY_STRING},e.constructAuthorityUriFromObject=function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},e.getDeserializedHash=function(t){if(Be.isEmpty(t))return{};var n=e.parseHash(t),r=Be.queryStringToObject(Be.isEmpty(n)?t:n);if(!r)throw Ue.createHashNotDeserializedError(JSON.stringify(r));return r},e.getDeserializedQueryString=function(t){if(Be.isEmpty(t))return{};var n=e.parseQueryString(t),r=Be.queryStringToObject(Be.isEmpty(n)?t:n);if(!r)throw Ue.createHashNotDeserializedError(JSON.stringify(r));return r},e.hashContainsKnownProperties=function(t){if(Be.isEmpty(t)||t.indexOf("=")<0)return!1;var n=e.getDeserializedHash(t);return!!(n.code||n.error_description||n.error||n.state)},e}(),$r=function(){function e(){}return e.extractBrowserRequestState=function(e,t){if(Be.isEmpty(t))return null;try{return jr.parseRequestState(e,t).libraryState.meta}catch(e){throw Ue.createInvalidStateError(t,e)}},e.parseServerResponseFromHash=function(e){if(!e)return{};var t=new Yr(e);return Yr.getDeserializedHash(t.getHash())},e}(),Qr=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o)||this;return i.COOKIE_LIFE_MULTIPLIER=864e5,i.cacheConfig=n,i.logger=o,i.internalStorage=new Vn,i.browserStorage=i.setupBrowserStorage(i.cacheConfig.cacheLocation),i.temporaryCacheStorage=i.setupTemporaryCacheStorage(i.cacheConfig.cacheLocation),n.cacheMigrationEnabled&&(i.migrateCacheEntries(),i.createKeyMaps()),i}return Ge(t,e),t.prototype.setupBrowserStorage=function(e){switch(e){case Ze.LocalStorage:case Ze.SessionStorage:try{return new Vr(e)}catch(e){this.logger.verbose(e);break}}return this.cacheConfig.cacheLocation=Ze.MemoryStorage,new Vn},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case Ze.LocalStorage:case Ze.SessionStorage:try{return new Vr(Ze.SessionStorage)}catch(e){return this.logger.verbose(e),this.internalStorage}case Ze.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,t=h.CACHE_PREFIX+"."+c.ID_TOKEN,n=h.CACHE_PREFIX+"."+c.CLIENT_INFO,r=h.CACHE_PREFIX+"."+c.ERROR,o=h.CACHE_PREFIX+"."+c.ERROR_DESC,i=[this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r),this.browserStorage.getItem(o)];[c.ID_TOKEN,c.CLIENT_INFO,c.ERROR,c.ERROR_DESC].forEach((function(t,n){return e.migrateCacheEntry(t,i[n])}))},t.prototype.migrateCacheEntry=function(e,t){t&&this.setTemporaryCache(e,t,!0)},t.prototype.createKeyMaps=function(){var e=this;this.logger.trace("BrowserCacheManager - createKeyMaps called.");var t=this.getItem(nt.ACCOUNT_KEYS),n=this.getItem(nt.TOKEN_KEYS+"."+this.clientId);t&&n?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach((function(t){var n;if(e.isCredentialKey(t)&&(n=e.getItem(t))){var r=e.validateAndParseJson(n);if(r&&r.hasOwnProperty("credentialType"))switch(r.credentialType){case b.ID_TOKEN:if(rr.isIdTokenEntity(r)){e.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - idToken with key: "+t+" found, saving key to token key map");var o=qr.toObject(new rr,r),i=e.updateCredentialCacheKey(t,o);return void e.addTokenKey(i,b.ID_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed idToken validation on key: "+t);break;case b.ACCESS_TOKEN:case b.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(Dr.isAccessTokenEntity(r)){e.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - accessToken with key: "+t+" found, saving key to token key map");var s=qr.toObject(new Dr,r);i=e.updateCredentialCacheKey(t,s);return void e.addTokenKey(i,b.ACCESS_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed accessToken validation on key: "+t);break;case b.REFRESH_TOKEN:if(Ur.isRefreshTokenEntity(r)){e.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - refreshToken with key: "+t+" found, saving key to token key map");var a=qr.toObject(new Ur,r);i=e.updateCredentialCacheKey(t,a);return void e.addTokenKey(i,b.REFRESH_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: "+t)}}if(e.isAccountKey(t)&&(n=e.getItem(t))){var c=e.validateAndParseJson(n);c&&Mr.isAccountEntity(c)&&(e.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - account with key: "+t+" found, saving key to account key map"),e.addAccountKeyToMap(t))}}))},t.prototype.validateAndParseJson=function(e){try{var t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(e){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,t){this.browserStorage.setItem(e,t)},t.prototype.getAccount=function(e){this.logger.trace("BrowserCacheManager.getAccount called");var t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;var n=this.validateAndParseJson(t);return n&&Mr.isAccountEntity(n)?qr.toObject(new Mr,n):(this.removeAccountKeyFromMap(e),null)},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)},t.prototype.getAccountKeys=function(){this.logger.trace("BrowserCacheManager.getAccountKeys called");var e=this.getItem(nt.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])},t.prototype.addAccountKeyToMap=function(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: "+e);var t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(nt.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")},t.prototype.removeAccountKeyFromMap=function(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: "+e);var t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(nt.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")},t.prototype.removeAccount=function(t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return e.prototype.removeAccount.call(this,t),this.removeAccountKeyFromMap(t),[2]}))}))},t.prototype.removeIdToken=function(t){e.prototype.removeIdToken.call(this,t),this.removeTokenKey(t,b.ID_TOKEN)},t.prototype.removeAccessToken=function(t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return e.prototype.removeAccessToken.call(this,t),this.removeTokenKey(t,b.ACCESS_TOKEN),[2]}))}))},t.prototype.removeRefreshToken=function(t){e.prototype.removeRefreshToken.call(this,t),this.removeTokenKey(t,b.REFRESH_TOKEN)},t.prototype.getTokenKeys=function(){this.logger.trace("BrowserCacheManager.getTokenKeys called");var e=this.getItem(nt.TOKEN_KEYS+"."+this.clientId);if(e){var t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}},t.prototype.addTokenKey=function(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");var n=this.getTokenKeys();switch(t){case b.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case b.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case b.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: "+t),Ue.createUnexpectedCredentialTypeError()}this.setItem(nt.TOKEN_KEYS+"."+this.clientId,JSON.stringify(n))},t.prototype.removeTokenKey=function(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");var n=this.getTokenKeys();switch(t){case b.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: "+e+" from map");var r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case b.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: "+e+" from map");var o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.idToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case b.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: "+e+" from map");var i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: "+t),Ue.createUnexpectedCredentialTypeError()}this.setItem(nt.TOKEN_KEYS+"."+this.clientId,JSON.stringify(n))},t.prototype.getIdTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,b.ID_TOKEN),null;var n=this.validateAndParseJson(t);return n&&rr.isIdTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),qr.toObject(new rr,n)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,b.ID_TOKEN),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,b.ID_TOKEN)},t.prototype.getAccessTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,b.ACCESS_TOKEN),null;var n=this.validateAndParseJson(t);return n&&Dr.isAccessTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),qr.toObject(new Dr,n)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,b.ACCESS_TOKEN),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,b.ACCESS_TOKEN)},t.prototype.getRefreshTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,b.REFRESH_TOKEN),null;var n=this.validateAndParseJson(t);return n&&Ur.isRefreshTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),qr.toObject(new Ur,n)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,b.REFRESH_TOKEN),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,b.REFRESH_TOKEN)},t.prototype.getAppMetadata=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Br.isAppMetadataEntity(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),qr.toObject(new Br,n)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var t=e.generateAppMetadataKey();this.setItem(t,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Fr.isServerTelemetryEntity(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),qr.toObject(new Fr,n)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))},t.prototype.getAuthorityMetadata=function(e){var t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Kr.isAuthorityMetadataEntity(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),qr.toObject(new Kr,n)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter((function(t){return e.isAuthorityMetadata(t)}))},t.prototype.setWrapperMetadata=function(e,t){this.internalStorage.setItem(rt.WRAPPER_SKU,e),this.internalStorage.setItem(rt.WRAPPER_VER,t)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(rt.WRAPPER_SKU)||h.EMPTY_STRING,this.internalStorage.getItem(rt.WRAPPER_VER)||h.EMPTY_STRING]},t.prototype.setAuthorityMetadata=function(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(c.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");var n=this.generateCacheKey(c.ACTIVE_ACCOUNT),r=this.getItem(n);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;var o=this.getAccountInfoByFilter({localAccountId:r})[0]||null;return o?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(o),o):null}var i=this.validateAndParseJson(t);return i?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)},t.prototype.setActiveAccount=function(e){var t=this.generateCacheKey(c.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(c.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");var r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)},t.prototype.getAccountInfoByFilter=function(e){var t=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+t.length+" accounts found"),t.filter((function(t){return(!e.username||e.username.toLowerCase()===t.username.toLowerCase())&&((!e.homeAccountId||e.homeAccountId===t.homeAccountId)&&((!e.localAccountId||e.localAccountId===t.localAccountId)&&((!e.tenantId||e.tenantId===t.tenantId)&&(!e.environment||e.environment===t.environment))))}))},t.prototype.getAccountInfoByHints=function(e,t){var n=this.getAllAccounts().filter((function(n){if(t){var r=n.idTokenClaims&&n.idTokenClaims.sid;return t===r}return!!e&&e===n.username}));if(1===n.length)return n[0];if(n.length>1)throw Ue.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Gr.isThrottlingEntity(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),qr.toObject(new Gr,n)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))},t.prototype.getTemporaryCache=function(e,t){var n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var r=this.getItemCookie(n);if(r)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),r}var o=this.temporaryCacheStorage.getItem(n);if(!o){if(this.cacheConfig.cacheLocation===Ze.LocalStorage){var i=this.browserStorage.getItem(n);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o},t.prototype.setTemporaryCache=function(e,t,n){var r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))},t.prototype.removeItem=function(e){this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return Je(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return Ye(this,void 0,void 0,(function(){var e=this;return $e(this,(function(t){switch(t.label){case 0:return[4,this.removeAllAccounts()];case 1:return t.sent(),this.removeAppMetadata(),this.getKeys().forEach((function(t){!e.browserStorage.containsKey(t)&&!e.temporaryCacheStorage.containsKey(t)||-1===t.indexOf(h.CACHE_PREFIX)&&-1===t.indexOf(e.clientId)||e.removeItem(t)})),this.internalStorage.clear(),[2]}}))}))},t.prototype.setItemCookie=function(e,t,n){var r=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;SameSite=Lax;";n&&(r+="expires="+this.getCookieExpirationTime(n)+";");this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r},t.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return h.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var e=this,t=h.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach((function(n){for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t)){var r=n.split("=")[0];e.clearItemCookie(r)}}))},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,h.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):Be.startsWith(e,h.CACHE_PREFIX)||Be.startsWith(e,c.ADAL_ID_TOKEN)?e:h.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var t=jr.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(tt.AUTHORITY+"."+t)},t.prototype.generateNonceKey=function(e){var t=jr.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(tt.NONCE_IDTOKEN+"."+t)},t.prototype.generateStateKey=function(e){var t=jr.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(tt.REQUEST_STATE+"."+t)},t.prototype.getCachedAuthority=function(e){var t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;var r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)},t.prototype.updateCacheEntries=function(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);var s=this.generateNonceKey(e);this.setTemporaryCache(s,t,!1);var a=this.generateAuthorityKey(e);if(this.setTemporaryCache(a,n,!1),o){var c={credential:o.homeAccountId,type:Pr.HOME_ACCOUNT_ID};this.setTemporaryCache(tt.CCS_CREDENTIAL,JSON.stringify(c),!0)}else if(!Be.isEmpty(r)){c={credential:r,type:Pr.UPN};this.setTemporaryCache(tt.CCS_CREDENTIAL,JSON.stringify(c),!0)}},t.prototype.resetRequestCache=function(e){var t=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),Be.isEmpty(e)||this.getKeys().forEach((function(n){-1!==n.indexOf(e)&&t.removeItem(n)})),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(tt.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(tt.ORIGIN_URI)),this.removeItem(this.generateCacheKey(tt.URL_HASH)),this.removeItem(this.generateCacheKey(tt.CORRELATION_ID)),this.removeItem(this.generateCacheKey(tt.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(tt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+n),this.resetRequestCache(n||h.EMPTY_STRING)}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var t=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach((function(n){if(-1!==n.indexOf(tt.REQUEST_STATE)){var r=t.temporaryCacheStorage.getItem(n);if(r){var o=$r.extractBrowserRequestState(t.cryptoImpl,r);o&&o.interactionType===e&&(t.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+r),t.resetRequestCache(r))}}})),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var n=t.base64Encode(JSON.stringify(e));this.setTemporaryCache(tt.REQUEST_PARAMS,n,!0)},t.prototype.getCachedRequest=function(e,t){this.logger.trace("BrowserCacheManager.getCachedRequest called");var n=this.getTemporaryCache(tt.REQUEST_PARAMS,!0);if(!n)throw Pn.createNoTokenRequestCacheError();var r=this.validateAndParseJson(t.base64Decode(n));if(!r)throw Pn.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(tt.REQUEST_PARAMS)),Be.isEmpty(r.authority)){var o=this.generateAuthorityKey(e),i=this.getTemporaryCache(o);if(!i)throw Pn.createNoCachedAuthorityError();r.authority=i}return r},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(tt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;var t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)},t.prototype.isInteractionInProgress=function(e){var t=this.getInteractionInProgress();return e?t===this.clientId:!!t},t.prototype.getInteractionInProgress=function(){var e=h.CACHE_PREFIX+"."+tt.INTERACTION_STATUS_KEY;return this.getTemporaryCache(e,!1)},t.prototype.setInteractionInProgress=function(e){var t=h.CACHE_PREFIX+"."+tt.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw Pn.createInteractionInProgressError();this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeItem(t)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(c.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(c.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var t=this.getTemporaryCache(c.ID_TOKEN,!0);t&&(this.removeItem(this.generateCacheKey(c.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var n=t||e;if(n){var r=new xr(n,this.cryptoImpl);if(r.claims&&r.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),r.claims.preferred_username;if(r.claims&&r.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),r.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,t){var n=t.generateCredentialKey();if(e!==n){var r=this.getItem(e);if(r)return this.removeItem(e),this.setItem(n,r),this.logger.verbose("Updated an outdated "+t.credentialType+" cache key"),n;this.logger.error("Attempted to update an outdated "+t.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(tt.REDIRECT_CONTEXT,!0)},t.prototype.setRedirectRequestContext=function(e){this.setTemporaryCache(tt.REDIRECT_CONTEXT,e,!0)},t}(qr);!function(e){e.AAD="AAD",e.OIDC="OIDC"}(zr||(zr={})),function(e){e[e.None=0]="None",e.AzurePublic="https://login.microsoftonline.com",e.AzurePpe="https://login.windows-ppe.net",e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureUsGovernment="https://login.microsoftonline.us"}(Wr||(Wr={}));var Jr={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Xr={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:G.Info,correlationId:h.EMPTY_STRING},Zr={sendGetRequestAsync:function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Network interface - sendGetRequestAsync() has not been implemented",W.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")}))}))},sendPostRequestAsync:function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){throw"Network interface - sendPostRequestAsync() has not been implemented",W.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")}))}))}},eo={sku:h.SKU,version:Or,cpu:h.EMPTY_STRING,os:h.EMPTY_STRING},to={clientSecret:h.EMPTY_STRING,clientAssertion:void 0},no={azureCloudInstance:Wr.None,tenant:""+h.DEFAULT_COMMON_TENANT},ro={application:{appName:"",appVersion:""}};var oo={sendGetRequestAsync:function(){return Promise.reject(W.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(W.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},io=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return Ye(this,void 0,void 0,(function(){var n,r,o;return $e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,fetch(e,{method:et.GET,headers:this.getFetchHeaders(t)})];case 1:return n=i.sent(),[3,3];case 2:throw r=i.sent(),window.navigator.onLine?Pn.createGetRequestFailedError(r,e):Pn.createNoNetworkConnectivityError();case 3:return i.trys.push([3,5,,6]),o={headers:this.getHeaderDict(n.headers)},[4,n.json()];case 4:return[2,(o.body=i.sent(),o.status=n.status,o)];case 5:throw i.sent(),Pn.createFailedToParseNetworkResponseError(e);case 6:return[2]}}))}))},e.prototype.sendPostRequestAsync=function(e,t){return Ye(this,void 0,void 0,(function(){var n,r,o,i;return $e(this,(function(s){switch(s.label){case 0:n=t&&t.body||h.EMPTY_STRING,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(e,{method:et.POST,headers:this.getFetchHeaders(t),body:n})];case 2:return r=s.sent(),[3,4];case 3:throw o=s.sent(),window.navigator.onLine?Pn.createPostRequestFailedError(o,e):Pn.createNoNetworkConnectivityError();case 4:return s.trys.push([4,6,,7]),i={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 5:return[2,(i.body=s.sent(),i.status=r.status,i)];case 6:throw s.sent(),Pn.createFailedToParseNetworkResponseError(e);case 7:return[2]}}))}))},e.prototype.getFetchHeaders=function(e){var t=new Headers;if(!e||!e.headers)return t;var n=e.headers;return Object.keys(n).forEach((function(e){t.append(e,n[e])})),t},e.prototype.getHeaderDict=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},e}(),so=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return[2,this.sendRequestAsync(e,et.GET,t)]}))}))},e.prototype.sendPostRequestAsync=function(e,t){return Ye(this,void 0,void 0,(function(){return $e(this,(function(n){return[2,this.sendRequestAsync(e,et.POST,t)]}))}))},e.prototype.sendRequestAsync=function(e,t,n){var r=this;return new Promise((function(o,i){var s=new XMLHttpRequest;if(s.open(t,e,!0),r.setXhrHeaders(s,n),s.onload=function(){(s.status<200||s.status>=300)&&(t===et.POST?i(Pn.createPostRequestFailedError("Failed with status "+s.status,e)):i(Pn.createGetRequestFailedError("Failed with status "+s.status,e)));try{var n=JSON.parse(s.responseText),a={headers:r.getHeaderDict(s),body:n,status:s.status};o(a)}catch(t){i(Pn.createFailedToParseNetworkResponseError(e))}},s.onerror=function(){window.navigator.onLine?t===et.POST?i(Pn.createPostRequestFailedError("Failed with status "+s.status,e)):i(Pn.createGetRequestFailedError("Failed with status "+s.status,e)):i(Pn.createNoNetworkConnectivityError())},t===et.POST&&n&&n.body)s.send(n.body);else{if(t!==et.GET)throw Pn.createHttpMethodNotImplementedError(t);s.send()}}))},e.prototype.setXhrHeaders=function(e,t){if(t&&t.headers){var n=t.headers;Object.keys(n).forEach((function(t){e.setRequestHeader(t,n[t])}))}},e.prototype.getHeaderDict=function(e){var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};return t.forEach((function(e){var t=e.split(": "),r=t.shift(),o=t.join(": ");r&&o&&(n[r]=o)})),n},e}(),ao=function(){function e(){}return e.clearHash=function(e){e.location.hash=h.EMPTY_STRING,"function"==typeof e.history.replaceState&&e.history.replaceState(null,h.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},e.replaceHash=function(e){var t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):h.EMPTY_STRING},e.isInIframe=function(){return window.parent!==window},e.isInPopup=function(){return"undefined"!=typeof window&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(vt+".")},e.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},e.getHomepage=function(){var e=new Yr(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},e.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new io:new so},e.blockReloadInHiddenIframes=function(){if(Yr.hashContainsKnownProperties(window.location.hash)&&e.isInIframe())throw Pn.createBlockReloadInHiddenIframeError()},e.blockRedirectInIframe=function(t,n){var r=e.isInIframe();if(t===it.Redirect&&r&&!n)throw Pn.createRedirectInIframeError(r)},e.blockAcquireTokenInPopups=function(){if(e.isInPopup())throw Pn.createBlockAcquireTokenInPopupsError()},e.blockNonBrowserEnvironment=function(e){if(!e)throw Pn.createNonBrowserEnvironmentError()},e.blockNativeBrokerCalledBeforeInitialized=function(e,t){if(e&&!t)throw Pn.createNativeBrokerCalledBeforeInitialize()},e.detectIEOrEdge=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("Edge/");return t>0||n>0||r>0},e}(),co=function(){function e(){}return e.prototype.navigateInternal=function(t,n){return e.defaultNavigateWindow(t,n)},e.prototype.navigateExternal=function(t,n){return e.defaultNavigateWindow(t,n)},e.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((function(e){setTimeout((function(){e(!0)}),t.timeout)}))},e}(),lo=6e3;var uo,ho="@azure/msal-browser",po="2.35.0";!function(e){e.INITIALIZE_START="msal:initializeStart",e.INITIALIZE_END="msal:initializeEnd",e.ACCOUNT_ADDED="msal:accountAdded",e.ACCOUNT_REMOVED="msal:accountRemoved",e.LOGIN_START="msal:loginStart",e.LOGIN_SUCCESS="msal:loginSuccess",e.LOGIN_FAILURE="msal:loginFailure",e.ACQUIRE_TOKEN_START="msal:acquireTokenStart",e.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",e.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",e.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",e.SSO_SILENT_START="msal:ssoSilentStart",e.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",e.SSO_SILENT_FAILURE="msal:ssoSilentFailure",e.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",e.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",e.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",e.HANDLE_REDIRECT_START="msal:handleRedirectStart",e.HANDLE_REDIRECT_END="msal:handleRedirectEnd",e.POPUP_OPENED="msal:popupOpened",e.LOGOUT_START="msal:logoutStart",e.LOGOUT_SUCCESS="msal:logoutSuccess",e.LOGOUT_FAILURE="msal:logoutFailure",e.LOGOUT_END="msal:logoutEnd"}(uo||(uo={}));var fo,go=function(){function e(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return e.prototype.addEventCallback=function(e){if("undefined"!=typeof window){var t=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t}return null},e.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},e.prototype.enableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},e.prototype.disableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},e.prototype.emitEvent=function(e,t,n,r){var o=this;if("undefined"!=typeof window){var i={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach((function(t,n){o.logger.verbose("Emitting event to callback "+n+": "+e),t.apply(null,[i])}))}},e.prototype.handleAccountCacheChange=function(e){try{var t=e.newValue||e.oldValue;if(!t)return;var n=JSON.parse(t);if("object"!=typeof n||!Mr.isAccountEntity(n))return;var r=qr.toObject(new Mr,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(uo.ACCOUNT_ADDED,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(uo.ACCOUNT_REMOVED,void 0,r))}catch(e){return}},e}(),mo=function(){function e(){}return e.generateThrottlingStorageKey=function(e){return U+"."+JSON.stringify(e)},e.preProcess=function(t,n){var r,o=e.generateThrottlingStorageKey(n),i=t.getThrottlingCache(o);if(i){if(i.throttleTime<Date.now())return void t.removeItem(o);throw new ct((null===(r=i.errorCodes)||void 0===r?void 0:r.join(" "))||h.EMPTY_STRING,i.errorMessage,i.subError)}},e.postProcess=function(t,n,r){if(e.checkResponseStatus(r)||e.checkResponseForRetryAfter(r)){var o={throttleTime:e.calculateThrottleTime(parseInt(r.headers[a.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(e.generateThrottlingStorageKey(n),o)}},e.checkResponseStatus=function(e){return 429===e.status||e.status>=500&&e.status<600},e.checkResponseForRetryAfter=function(e){return!!e.headers&&(e.headers.hasOwnProperty(a.RETRY_AFTER)&&(e.status<200||e.status>=300))},e.calculateThrottleTime=function(e){var t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||H),n+D))},e.removeThrottle=function(e,t,n,r){var o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},i=this.generateThrottlingStorageKey(o);e.removeItem(i)},e}(),vo=function(){function e(e,t){this.networkClient=e,this.cacheManager=t}return e.prototype.sendPostRequest=function(e,t,n){return o(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:mo.preProcess(this.cacheManager,e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,n)];case 2:return r=i.sent(),[3,4];case 3:throw(o=i.sent())instanceof W?o:Ue.createNetworkError(t,o);case 4:return mo.postProcess(this.cacheManager,e,r),[2,r]}}))}))},e}(),yo=function(){function e(){}return e.validateRedirectUri=function(e){if(Be.isEmpty(e))throw Ir.createRedirectUriEmptyError()},e.validatePrompt=function(e){var t=[];for(var n in m)t.push(m[n]);if(t.indexOf(e)<0)throw Ir.createInvalidPromptError(e)},e.validateClaims=function(e){try{JSON.parse(e)}catch(e){throw Ir.createInvalidClaimsRequestError()}},e.validateCodeChallengeParams=function(e,t){if(Be.isEmpty(e)||Be.isEmpty(t))throw Ir.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},e.validateCodeChallengeMethod=function(e){if([T.PLAIN,T.S256].indexOf(e)<0)throw Ir.createInvalidCodeChallengeMethodError()},e.sanitizeEQParams=function(e,t){return e?(t.forEach((function(t,n){e[n]&&delete e[n]})),Object.fromEntries(Object.entries(e).filter((function(e){return""!==e[1]})))):{}},e}(),wo=function(){function e(){this.parameters=new Map}return e.prototype.addResponseTypeCode=function(){this.parameters.set(u.RESPONSE_TYPE,encodeURIComponent(h.CODE_RESPONSE_TYPE))},e.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(u.RESPONSE_TYPE,encodeURIComponent(h.TOKEN_RESPONSE_TYPE+" "+h.ID_TOKEN_RESPONSE_TYPE))},e.prototype.addResponseMode=function(e){this.parameters.set(u.RESPONSE_MODE,encodeURIComponent(e||v.QUERY))},e.prototype.addNativeBroker=function(){this.parameters.set(u.NATIVE_BROKER,encodeURIComponent("1"))},e.prototype.addScopes=function(e,t){void 0===t&&(t=!0);var n=t?s(e||[],p):e||[],r=new kr(n);this.parameters.set(u.SCOPE,encodeURIComponent(r.printScopes()))},e.prototype.addClientId=function(e){this.parameters.set(u.CLIENT_ID,encodeURIComponent(e))},e.prototype.addRedirectUri=function(e){yo.validateRedirectUri(e),this.parameters.set(u.REDIRECT_URI,encodeURIComponent(e))},e.prototype.addPostLogoutRedirectUri=function(e){yo.validateRedirectUri(e),this.parameters.set(u.POST_LOGOUT_URI,encodeURIComponent(e))},e.prototype.addIdTokenHint=function(e){this.parameters.set(u.ID_TOKEN_HINT,encodeURIComponent(e))},e.prototype.addDomainHint=function(e){this.parameters.set(g.DOMAIN_HINT,encodeURIComponent(e))},e.prototype.addLoginHint=function(e){this.parameters.set(g.LOGIN_HINT,encodeURIComponent(e))},e.prototype.addCcsUpn=function(e){this.parameters.set(a.CCS_HEADER,encodeURIComponent("UPN:"+e))},e.prototype.addCcsOid=function(e){this.parameters.set(a.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},e.prototype.addSid=function(e){this.parameters.set(g.SID,encodeURIComponent(e))},e.prototype.addClaims=function(e,t){var n=this.addClientCapabilitiesToClaims(e,t);yo.validateClaims(n),this.parameters.set(u.CLAIMS,encodeURIComponent(n))},e.prototype.addCorrelationId=function(e){this.parameters.set(u.CLIENT_REQUEST_ID,encodeURIComponent(e))},e.prototype.addLibraryInfo=function(e){this.parameters.set(u.X_CLIENT_SKU,e.sku),this.parameters.set(u.X_CLIENT_VER,e.version),e.os&&this.parameters.set(u.X_CLIENT_OS,e.os),e.cpu&&this.parameters.set(u.X_CLIENT_CPU,e.cpu)},e.prototype.addApplicationTelemetry=function(e){(null==e?void 0:e.appName)&&this.parameters.set(u.X_APP_NAME,e.appName),(null==e?void 0:e.appVersion)&&this.parameters.set(u.X_APP_VER,e.appVersion)},e.prototype.addPrompt=function(e){yo.validatePrompt(e),this.parameters.set(""+u.PROMPT,encodeURIComponent(e))},e.prototype.addState=function(e){Be.isEmpty(e)||this.parameters.set(u.STATE,encodeURIComponent(e))},e.prototype.addNonce=function(e){this.parameters.set(u.NONCE,encodeURIComponent(e))},e.prototype.addCodeChallengeParams=function(e,t){if(yo.validateCodeChallengeParams(e,t),!e||!t)throw Ir.createInvalidCodeChallengeParamsError();this.parameters.set(u.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(u.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},e.prototype.addAuthorizationCode=function(e){this.parameters.set(u.CODE,encodeURIComponent(e))},e.prototype.addDeviceCode=function(e){this.parameters.set(u.DEVICE_CODE,encodeURIComponent(e))},e.prototype.addRefreshToken=function(e){this.parameters.set(u.REFRESH_TOKEN,encodeURIComponent(e))},e.prototype.addCodeVerifier=function(e){this.parameters.set(u.CODE_VERIFIER,encodeURIComponent(e))},e.prototype.addClientSecret=function(e){this.parameters.set(u.CLIENT_SECRET,encodeURIComponent(e))},e.prototype.addClientAssertion=function(e){Be.isEmpty(e)||this.parameters.set(u.CLIENT_ASSERTION,encodeURIComponent(e))},e.prototype.addClientAssertionType=function(e){Be.isEmpty(e)||this.parameters.set(u.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},e.prototype.addOboAssertion=function(e){this.parameters.set(u.OBO_ASSERTION,encodeURIComponent(e))},e.prototype.addRequestTokenUse=function(e){this.parameters.set(u.REQUESTED_TOKEN_USE,encodeURIComponent(e))},e.prototype.addGrantType=function(e){this.parameters.set(u.GRANT_TYPE,encodeURIComponent(e))},e.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},e.prototype.addExtraQueryParameters=function(e){var t=this,n=yo.sanitizeEQParams(e,this.parameters);Object.keys(n).forEach((function(n){t.parameters.set(n,e[n])}))},e.prototype.addClientCapabilitiesToClaims=function(e,t){var n;if(e)try{n=JSON.parse(e)}catch(e){throw Ir.createInvalidClaimsRequestError()}else n={};return t&&t.length>0&&(n.hasOwnProperty(d.ACCESS_TOKEN)||(n[d.ACCESS_TOKEN]={}),n[d.ACCESS_TOKEN][d.XMS_CC]={values:t}),JSON.stringify(n)},e.prototype.addUsername=function(e){this.parameters.set(M.username,encodeURIComponent(e))},e.prototype.addPassword=function(e){this.parameters.set(M.password,encodeURIComponent(e))},e.prototype.addPopToken=function(e){Be.isEmpty(e)||(this.parameters.set(u.TOKEN_TYPE,R.POP),this.parameters.set(u.REQ_CNF,encodeURIComponent(e)))},e.prototype.addSshJwk=function(e){Be.isEmpty(e)||(this.parameters.set(u.TOKEN_TYPE,R.SSH),this.parameters.set(u.REQ_CNF,encodeURIComponent(e)))},e.prototype.addServerTelemetry=function(e){this.parameters.set(u.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(u.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},e.prototype.addThrottling=function(){this.parameters.set(u.X_MS_LIB_CAPABILITY,B)},e.prototype.addLogoutHint=function(e){this.parameters.set(u.LOGOUT_HINT,encodeURIComponent(e))},e.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach((function(t,n){e.push(n+"="+t)})),e.join("&")},e}(),Co=function(){function e(e,t){var n,o,i,s,a,c,l,u,d,h,p,f,g,m,v;this.config=(i=(n=e).authOptions,s=n.systemOptions,a=n.loggerOptions,c=n.storageInterface,l=n.networkInterface,u=n.cryptoInterface,d=n.clientCredentials,h=n.libraryInfo,p=n.telemetry,f=n.serverTelemetryManager,g=n.persistencePlugin,m=n.serializableCache,v=r(r({},Xr),a),{authOptions:(o=i,r({clientCapabilities:[],azureCloudOptions:no,skipAuthorityMetadataCache:!1},o)),systemOptions:r(r({},Jr),s),loggerOptions:v,storageInterface:c||new Lr(i.clientId,tr,new Fe(v)),networkInterface:l||Zr,cryptoInterface:u||tr,clientCredentials:d||to,libraryInfo:r(r({},eo),h),telemetry:r(r({},ro),p),serverTelemetryManager:f||null,persistencePlugin:g||null,serializableCache:m||null}),this.logger=new Fe(this.config.loggerOptions,Nr,Or),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new vo(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}return e.prototype.createTokenRequestHeaders=function(e){var t={};if(t[a.CONTENT_TYPE]=h.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Pr.HOME_ACCOUNT_ID:try{var n=Rr(e.credential);t[a.CCS_HEADER]="Oid:"+n.uid+"@"+n.utid}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Pr.UPN:t[a.CCS_HEADER]="UPN: "+e.credential}return t},e.prototype.executePostToTokenEndpoint=function(e,t,n,r){return o(this,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return[4,this.networkManager.sendPostRequest(r,e,{body:t,headers:n})];case 1:return o=i.sent(),this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,o]}}))}))},e.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw Ue.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},e.prototype.createTokenQueryParameters=function(e){var t=new wo;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},e}(),bo=function(e,t,n,r,o){this.account=e||null,this.idToken=t||null,this.accessToken=n||null,this.refreshToken=r||null,this.appMetadata=o||null};!function(e){e.SW="sw",e.UHW="uhw"}(fo||(fo={}));var Eo=function(){function e(e,t){this.cryptoUtils=e,this.performanceClient=t}return e.prototype.generateCnf=function(e){var t,n;return o(this,void 0,void 0,(function(){var r,o,s;return i(this,(function(i){switch(i.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.PopTokenGenerateCnf,e.correlationId),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(je.PopTokenGenerateKid,e.correlationId),[4,this.generateKid(e)];case 1:return r=i.sent(),o=this.cryptoUtils.base64Encode(JSON.stringify(r)),s={kid:r.kid,reqCnfString:o},[4,this.cryptoUtils.hashString(o)];case 2:return[2,(s.reqCnfHash=i.sent(),s)]}}))}))},e.prototype.generateKid=function(e){var t;return o(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.PopTokenGenerateKid,e.correlationId),[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return[2,{kid:n.sent(),xms_ksl:fo.SW}]}}))}))},e.prototype.signPopToken=function(e,t,n){return o(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.signPayload(e,t,n)]}))}))},e.prototype.signPayload=function(e,t,n,s){return o(this,void 0,void 0,(function(){var o,a,c,l,u,d;return i(this,(function(i){switch(i.label){case 0:return o=n.resourceRequestMethod,a=n.resourceRequestUri,c=n.shrClaims,l=n.shrNonce,u=a?new Yr(a):void 0,d=null==u?void 0:u.getUrlComponents(),[4,this.cryptoUtils.signJwt(r({at:e,ts:Hr.nowSeconds(),m:null==o?void 0:o.toUpperCase(),u:null==d?void 0:d.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:null==d?void 0:d.AbsolutePath,q:(null==d?void 0:d.QueryString)?[[],d.QueryString]:void 0,client_claims:c||void 0},s),t,n.correlationId)];case 1:return[2,i.sent()]}}))}))},e}(),To=function(){function e(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(e.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),e}(),So=function(){function e(e,t,n,r,o,i,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=s}return e.prototype.validateServerAuthorizationCodeResponse=function(e,t,n){if(!e.state||!t)throw e.state?Ue.createStateNotFoundError("Cached State"):Ue.createStateNotFoundError("Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw Ue.createStateMismatchError();if(e.error||e.error_description||e.suberror){if(pt.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new pt(e.error||h.EMPTY_STRING,e.error_description,e.suberror,e.timestamp||h.EMPTY_STRING,e.trace_id||h.EMPTY_STRING,e.correlation_id||h.EMPTY_STRING,e.claims||h.EMPTY_STRING);throw new ct(e.error||h.EMPTY_STRING,e.error_description,e.suberror)}e.client_info&&Ar(e.client_info,n)},e.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(pt.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new pt(e.error,e.error_description,e.suberror,e.timestamp||h.EMPTY_STRING,e.trace_id||h.EMPTY_STRING,e.correlation_id||h.EMPTY_STRING,e.claims||h.EMPTY_STRING);var t=e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id;throw new ct(e.error,t,e.suberror)}},e.prototype.handleServerTokenResponse=function(t,n,r,s,a,c,l,u,d){var p;return o(this,void 0,void 0,(function(){var o,f,g,m,v,y;return i(this,(function(i){switch(i.label){case 0:if(null===(p=this.performanceClient)||void 0===p||p.addQueueMeasurement(je.HandleServerTokenResponse,t.correlation_id),t.id_token){if(o=new xr(t.id_token||h.EMPTY_STRING,this.cryptoObj),a&&!Be.isEmpty(a.nonce)&&o.claims.nonce!==a.nonce)throw Ue.createNonceMismatchError();if(s.maxAge||0===s.maxAge){if(!(f=o.claims.auth_time))throw Ue.createAuthTimeNotFoundError();xr.checkMaxAge(f,s.maxAge)}}this.homeAccountIdentifier=Mr.generateHomeAccountId(t.client_info||h.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,o),a&&a.state&&(g=jr.parseRequestState(this.cryptoObj,a.state)),t.key_id=t.key_id||s.sshKid||void 0,m=this.generateCacheRecord(t,n,r,s,o,c,a),i.label=1;case 1:return i.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),v=new To(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(v)]):[3,3];case 2:i.sent(),i.label=3;case 3:return!l||u||!m.account||(y=m.account.generateAccountKey(),this.cacheStorage.getAccount(y))?[4,this.cacheStorage.saveCacheRecord(m)]:(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,e.generateAuthenticationResult(this.cryptoObj,n,m,!1,s,o,g,void 0,d)]);case 4:return i.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&v?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(v)]):[3,7];case 6:i.sent(),i.label=7;case 7:return[7];case 8:return[2,e.generateAuthenticationResult(this.cryptoObj,n,m,!1,s,o,g,t,d)]}}))}))},e.prototype.generateCacheRecord=function(e,t,n,r,o,i,s){var a,c,l=t.getPreferredCache();if(Be.isEmpty(l))throw Ue.createInvalidCacheEnvironmentError();!Be.isEmpty(e.id_token)&&o&&(a=rr.createIdTokenEntity(this.homeAccountIdentifier,l,e.id_token||h.EMPTY_STRING,this.clientId,o.claims.tid||h.EMPTY_STRING),c=this.generateAccountEntity(e,o,t,s));var u=null;if(!Be.isEmpty(e.access_token)){var d=e.scope?kr.fromString(e.scope):new kr(r.scopes||[]),p=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,f=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,g=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,m=n+p,v=m+f,y=g&&g>0?n+g:void 0;u=Dr.createAccessTokenEntity(this.homeAccountIdentifier,l,e.access_token||h.EMPTY_STRING,this.clientId,o?o.claims.tid||h.EMPTY_STRING:t.tenant,d.printScopes(),m,v,this.cryptoObj,y,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}var w=null;Be.isEmpty(e.refresh_token)||(w=Ur.createRefreshTokenEntity(this.homeAccountIdentifier,l,e.refresh_token||h.EMPTY_STRING,this.clientId,e.foci,i));var C=null;return Be.isEmpty(e.foci)||(C=Br.createAppMetadataEntity(this.clientId,l,e.foci)),new bo(c,a,u,w,C)},e.prototype.generateAccountEntity=function(e,t,n,r){var o=n.authorityType,i=r?r.cloud_graph_host_name:h.EMPTY_STRING,s=r?r.msgraph_host:h.EMPTY_STRING;if(o===$n.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),Mr.createGenericAccount(this.homeAccountIdentifier,t,n,i,s);if(Be.isEmpty(e.client_info)&&"AAD"===n.protocolMode)throw Ue.createClientInfoEmptyError();return e.client_info?Mr.createAccount(e.client_info,this.homeAccountIdentifier,t,n,i,s):Mr.createGenericAccount(this.homeAccountIdentifier,t,n,i,s)},e.generateAuthenticationResult=function(e,t,n,r,s,a,c,l,u){var d,p,f;return o(this,void 0,void 0,(function(){var o,g,m,v,y,w,C,b,E,T,S;return i(this,(function(i){switch(i.label){case 0:if(o=h.EMPTY_STRING,g=[],m=null,y=h.EMPTY_STRING,!n.accessToken)return[3,4];if(n.accessToken.tokenType!==R.POP)return[3,2];if(w=new Eo(e),C=n.accessToken,b=C.secret,!(E=C.keyId))throw Ue.createKeyIdMissingError();return[4,w.signPopToken(b,E,s)];case 1:return o=i.sent(),[3,3];case 2:o=n.accessToken.secret,i.label=3;case 3:g=kr.fromString(n.accessToken.target).asArray(),m=new Date(1e3*Number(n.accessToken.expiresOn)),v=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),i.label=4;case 4:return n.appMetadata&&(y=n.appMetadata.familyId===I?I:h.EMPTY_STRING),T=(null==a?void 0:a.claims.oid)||(null==a?void 0:a.claims.sub)||h.EMPTY_STRING,S=(null==a?void 0:a.claims.tid)||h.EMPTY_STRING,(null==l?void 0:l.spa_accountid)&&n.account&&(n.account.nativeAccountId=null==l?void 0:l.spa_accountid),[2,{authority:t.canonicalAuthority,uniqueId:T,tenantId:S,scopes:g,account:n.account?n.account.getAccountInfo():null,idToken:a?a.rawToken:h.EMPTY_STRING,idTokenClaims:a?a.claims:{},accessToken:o,fromCache:r,expiresOn:m,correlationId:s.correlationId,requestId:u||h.EMPTY_STRING,extExpiresOn:v,familyId:y,tokenType:(null===(d=n.accessToken)||void 0===d?void 0:d.tokenType)||h.EMPTY_STRING,state:c?c.userRequestState:h.EMPTY_STRING,cloudGraphHostName:(null===(p=n.account)||void 0===p?void 0:p.cloudGraphHostName)||h.EMPTY_STRING,msGraphHost:(null===(f=n.account)||void 0===f?void 0:f.msGraphHost)||h.EMPTY_STRING,code:null==l?void 0:l.spa_code,fromNativeBroker:!1}]}}))}))},e}(),_o=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.includeRedirectUri=!0,r}return t(n,e),n.prototype.getAuthCodeUrl=function(e){var t,n;return o(this,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.GetAuthCodeUrl,e.correlationId),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(je.AuthClientCreateQueryString,e.correlationId),[4,this.createAuthCodeUrlQueryString(e)];case 1:return r=o.sent(),[2,Yr.appendQueryString(this.authority.authorizationEndpoint,r)]}}))}))},n.prototype.acquireToken=function(e,t){var n,r,s,c,l,u;return o(this,void 0,void 0,(function(){var o,d,h,p,f,g,m=this;return i(this,(function(i){switch(i.label){case 0:if(!e||!e.code)throw Ue.createTokenRequestCannotBeMadeError();return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(je.AuthClientAcquireToken,e.correlationId),o=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement("AuthCodeClientAcquireToken",e.correlationId),this.logger.info("in acquireToken call in auth-code client"),d=Hr.nowSeconds(),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(je.AuthClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(this.authority,e)];case 1:return h=i.sent(),p=null===(c=h.headers)||void 0===c?void 0:c[a.X_MS_REQUEST_ID],(f=null===(l=h.headers)||void 0===l?void 0:l[a.X_MS_HTTP_VERSION])&&(null==o||o.addStaticFields({httpVerAuthority:f})),(g=new So(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient)).validateTokenResponse(h.body),null===(u=this.performanceClient)||void 0===u||u.setPreQueueTime(je.HandleServerTokenResponse,e.correlationId),[2,g.handleServerTokenResponse(h.body,this.authority,d,e,t,void 0,void 0,void 0,p).then((function(e){return null==o||o.endMeasurement({success:!0}),e})).catch((function(t){throw m.logger.verbose("Error in fetching token in ACC",e.correlationId),null==o||o.endMeasurement({errorCode:t.errorCode,subErrorCode:t.subError,success:!1}),t}))]}}))}))},n.prototype.handleFragmentResponse=function(e,t){var n=new So(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),o=new Yr(e),i=Yr.getDeserializedHash(o.getHash());if(n.validateServerAuthorizationCodeResponse(i,t,this.cryptoUtils),!i.code)throw Ue.createNoAuthCodeInServerResponseError();return r(r({},i),{code:i.code})},n.prototype.getLogoutUri=function(e){if(!e)throw Ir.createEmptyLogoutRequestError();var t=this.createLogoutUrlQueryString(e);return Yr.appendQueryString(this.authority.endSessionEndpoint,t)},n.prototype.executeTokenRequest=function(e,t){var n,r;return o(this,void 0,void 0,(function(){var o,s,a,c,l,u,d;return i(this,(function(i){switch(i.label){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(je.AuthClientExecuteTokenRequest,t.correlationId),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(je.AuthClientCreateTokenRequestBody,t.correlationId),o=this.createTokenQueryParameters(t),s=Yr.appendQueryString(e.tokenEndpoint,o),[4,this.createTokenRequestBody(t)];case 1:if(a=i.sent(),c=void 0,t.clientInfo)try{l=Ar(t.clientInfo,this.cryptoUtils),c={credential:""+l.uid+C.CLIENT_INFO_SEPARATOR+l.utid,type:Pr.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}return u=this.createTokenRequestHeaders(c||t.ccsCredential),d={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},[2,this.executePostToTokenEndpoint(s,a,u,d)]}}))}))},n.prototype.createTokenRequestBody=function(e){var t,n;return o(this,void 0,void 0,(function(){var r,o,s,a,c,l,d,h;return i(this,(function(i){switch(i.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.AuthClientCreateTokenRequestBody,e.correlationId),(r=new wo).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):yo.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(o=this.config.clientCredentials.clientAssertion,r.addClientAssertion(o.assertion),r.addClientAssertionType(o.assertionType)),r.addGrantType(y.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme!==R.POP?[3,2]:(s=new Eo(this.cryptoUtils,this.performanceClient),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(je.PopTokenGenerateCnf,e.correlationId),[4,s.generateCnf(e)]);case 1:return a=i.sent(),r.addPopToken(a.reqCnfString),[3,3];case 2:if(e.authenticationScheme===R.SSH){if(!e.sshJwk)throw Ir.createMissingSshJwkError();r.addSshJwk(e.sshJwk)}i.label=3;case 3:if(c=e.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(c),(!Be.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),l=void 0,e.clientInfo)try{d=Ar(e.clientInfo,this.cryptoUtils),l={credential:""+d.uid+C.CLIENT_INFO_SEPARATOR+d.utid,type:Pr.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}else l=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&l)switch(l.type){case Pr.HOME_ACCOUNT_ID:try{d=Rr(l.credential),r.addCcsOid(d)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Pr.UPN:r.addCcsUpn(l.credential)}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[u.RETURN_SPA_CODE]||r.addExtraQueryParameters(((h={})[u.RETURN_SPA_CODE]="1",h)),[2,r.createQueryString()]}}))}))},n.prototype.createAuthCodeUrlQueryString=function(e){var t;return o(this,void 0,void 0,(function(){var n,r,o,a,c,l,u;return i(this,(function(i){switch(i.label){case 0:if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.AuthClientCreateQueryString,e.correlationId),(n=new wo).addClientId(this.config.authOptions.clientId),r=s(e.scopes||[],e.extraScopesToConsent||[]),n.addScopes(r),n.addRedirectUri(e.redirectUri),o=e.correlationId||this.config.cryptoInterface.createNewGuid(),n.addCorrelationId(o),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&n.addDomainHint(e.domainHint),e.prompt!==m.SELECT_ACCOUNT)if(e.sid&&e.prompt===m.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid);else if(e.account){if(a=this.extractAccountSid(e.account),c=this.extractLoginHint(e.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(c);try{l=Rr(e.account.homeAccountId),n.addCcsOid(l)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===m.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(a);try{l=Rr(e.account.homeAccountId),n.addCcsOid(l)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username);try{l=Rr(e.account.homeAccountId),n.addCcsOid(l)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(!Be.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&n.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker?(n.addNativeBroker(),e.authenticationScheme!==R.POP?[3,2]:[4,new Eo(this.cryptoUtils).generateCnf(e)]):[3,2];case 1:u=i.sent(),n.addPopToken(u.reqCnfHash),i.label=2;case 2:return[2,n.createQueryString()]}}))}))},n.prototype.createLogoutUrlQueryString=function(e){var t=new wo;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},n.prototype.extractAccountSid=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null},n.prototype.extractLoginHint=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null},n}(Co);function Io(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}var ko={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},Ao={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}};var Ro,Po=function(){function e(e,t,n){this.networkInterface=e,this.performanceClient=t,this.correlationId=n}return e.prototype.detectRegion=function(t,n){var r,s,a,c;return o(this,void 0,void 0,(function(){var o,l,u,d,p;return i(this,(function(i){switch(i.label){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(je.RegionDiscoveryDetectRegion,this.correlationId),o=t)return[3,8];l=e.IMDS_OPTIONS,i.label=1;case 1:return i.trys.push([1,6,,7]),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(je.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(h.IMDS_VERSION,l)];case 2:return(u=i.sent()).status===x.httpSuccess&&(o=u.body,n.region_source=N.IMDS),u.status!==x.httpBadRequest?[3,5]:(null===(a=this.performanceClient)||void 0===a||a.setPreQueueTime(je.RegionDiscoveryGetCurrentVersion,this.correlationId),[4,this.getCurrentVersion(l)]);case 3:return(d=i.sent())?(null===(c=this.performanceClient)||void 0===c||c.setPreQueueTime(je.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(d,l)]):(n.region_source=N.FAILED_AUTO_DETECTION,[2,null]);case 4:(p=i.sent()).status===x.httpSuccess&&(o=p.body,n.region_source=N.IMDS),i.label=5;case 5:return[3,7];case 6:return i.sent(),n.region_source=N.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:n.region_source=N.ENVIRONMENT_VARIABLE,i.label=9;case 9:return o||(n.region_source=N.FAILED_AUTO_DETECTION),[2,o||null]}}))}))},e.prototype.getRegionFromIMDS=function(e,t){var n;return o(this,void 0,void 0,(function(){return i(this,(function(r){return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(je.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[2,this.networkInterface.sendGetRequestAsync(h.IMDS_ENDPOINT+"?api-version="+e+"&format=text",t,h.IMDS_TIMEOUT)]}))}))},e.prototype.getCurrentVersion=function(e){var t;return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.RegionDiscoveryGetCurrentVersion,this.correlationId),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(h.IMDS_ENDPOINT+"?format=json",e)];case 2:return(n=r.sent()).status===x.httpBadRequest&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?[2,n.body["newest-versions"][0]]:[2,null];case 3:return r.sent(),[2,null];case 4:return[2]}}))}))},e.IMDS_OPTIONS={headers:{Metadata:"true"}},e}(),Mo=function(){function e(e,t,n,r,o,i,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=i,this.correlationId=s,this.regionDiscovery=new Po(t,this.performanceClient,this.correlationId)}return Object.defineProperty(e.prototype,"authorityType",{get:function(){var e=this.canonicalAuthorityUrlComponents.PathSegments;if(e.length)switch(e[0].toLowerCase()){case h.ADFS:return $n.Adfs;case h.DSTS:return $n.Dsts}return $n.Default},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new Yr(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(e)}throw Ue.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(e)}throw Ue.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(e)}throw Ue.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Ue.createLogoutNotSupportedError();var e=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(e)}throw Ue.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.issuer);return this.replaceTenant(e)}throw Ue.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"jwksUri",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.jwks_uri);return this.replaceTenant(e)}throw Ue.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),e.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},e.prototype.replacePath=function(e){var t=e,n=new Yr(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((function(e,r){var o=n[r];e!==o&&(t=t.replace("/"+o+"/","/"+e+"/"))})),t},Object.defineProperty(e.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===$n.Adfs||this.authorityType===$n.Dsts||this.protocolMode===zr.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),e.prototype.discoveryComplete=function(){return!!this.metadata},e.prototype.resolveEndpointsAsync=function(){var e,t,n;return o(this,void 0,void 0,(function(){var r,o,s,a;return i(this,(function(i){switch(i.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(je.AuthorityResolveEndpointsAsync,this.correlationId),(r=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(r=new Kr).updateCanonicalAuthority(this.canonicalAuthority),null===(t=this.performanceClient)||void 0===t||t.setPreQueueTime(je.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),[4,this.updateCloudDiscoveryMetadata(r)];case 1:return o=i.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,r.preferred_network),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(je.AuthorityUpdateEndpointMetadata,this.correlationId),[4,this.updateEndpointMetadata(r)];case 2:return s=i.sent(),o!==S.CACHE&&s!==S.CACHE&&(r.resetExpiresAt(),r.updateCanonicalAuthority(this.canonicalAuthority)),a=this.cacheManager.generateAuthorityMetadataCacheKey(r.preferred_cache),this.cacheManager.setAuthorityMetadata(a,r),this.metadata=r,[2]}}))}))},e.prototype.updateEndpointMetadata=function(e){var t,n,r,s,a,c;return o(this,void 0,void 0,(function(){var o,l;return i(this,(function(i){switch(i.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.AuthorityUpdateEndpointMetadata,this.correlationId),(o=this.getEndpointMetadataFromConfig())?(e.updateEndpointMetadata(o,!1),[2,S.CONFIG]):this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!e.isExpired()?[2,S.CACHE]:(l=this.getEndpointMetadataFromHardcodedValues(),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(je.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(o=i.sent())?(null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion)?(null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(je.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(o)]):[3,3]:[3,4];case 2:o=i.sent(),i.label=3;case 3:return e.updateEndpointMetadata(o,!0),[2,S.NETWORK];case 4:return!l||this.authorityOptions.skipAuthorityMetadataCache?[3,7]:(null===(a=this.authorityOptions.azureRegionConfiguration)||void 0===a?void 0:a.azureRegion)?(null===(c=this.performanceClient)||void 0===c||c.setPreQueueTime(je.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(l)]):[3,6];case 5:l=i.sent(),i.label=6;case 6:return e.updateEndpointMetadata(l,!1),[2,S.HARDCODED_VALUES];case 7:throw Ue.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}}))}))},e.prototype.isAuthoritySameType=function(e){return new Yr(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},e.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw Ir.createInvalidAuthorityMetadataError()}return null},e.prototype.getEndpointMetadataFromNetwork=function(){var e;return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(je.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),t={},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,t)];case 2:return[2,Io((n=r.sent()).body)?n.body:null];case 3:return r.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in ko?ko[this.canonicalAuthority]:null},e.prototype.updateMetadataWithRegionalInformation=function(t){var n,r,s,a,c,l,u;return o(this,void 0,void 0,(function(){var o,d;return i(this,(function(i){switch(i.label){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(je.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(je.RegionDiscoveryDetectRegion,this.correlationId),[4,this.regionDiscovery.detectRegion(null===(s=this.authorityOptions.azureRegionConfiguration)||void 0===s?void 0:s.environmentRegion,this.regionDiscoveryMetadata)];case 1:return o=i.sent(),d=(null===(a=this.authorityOptions.azureRegionConfiguration)||void 0===a?void 0:a.azureRegion)===h.AZURE_REGION_AUTO_DISCOVER_FLAG?o:null===(c=this.authorityOptions.azureRegionConfiguration)||void 0===c?void 0:c.azureRegion,(null===(l=this.authorityOptions.azureRegionConfiguration)||void 0===l?void 0:l.azureRegion)===h.AZURE_REGION_AUTO_DISCOVER_FLAG?this.regionDiscoveryMetadata.region_outcome=o?O.AUTO_DETECTION_REQUESTED_SUCCESSFUL:O.AUTO_DETECTION_REQUESTED_FAILED:this.regionDiscoveryMetadata.region_outcome=o?(null===(u=this.authorityOptions.azureRegionConfiguration)||void 0===u?void 0:u.azureRegion)===o?O.CONFIGURED_MATCHES_DETECTED:O.CONFIGURED_NOT_DETECTED:O.CONFIGURED_NO_AUTO_DETECTION,d?(this.regionDiscoveryMetadata.region_used=d,[2,e.replaceWithRegionalInformation(t,d)]):[2,t]}}))}))},e.prototype.updateCloudDiscoveryMetadata=function(e){var t,n;return o(this,void 0,void 0,(function(){var r,o,s;return i(this,(function(i){switch(i.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||h.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||h.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(e.canonical_authority||h.NOT_APPLICABLE)),(r=this.getCloudDiscoveryMetadataFromConfig())?(this.logger.verbose("Found cloud discovery metadata in the config."),e.updateCloudDiscoveryMetadata(r,!1),[2,S.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),o=e.isExpired(),this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!o?(this.logger.verbose("Found metadata in the cache."),[2,S.CACHE]):(o&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(je.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(r=i.sent())return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),e.updateCloudDiscoveryMetadata(r,!0),[2,S.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),(s=this.getCloudDiscoveryMetadataFromHarcodedValues())&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),e.updateCloudDiscoveryMetadata(s,!1),[2,S.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),Ir.createUntrustedAuthorityError()}}))}))},e.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=e.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Ir.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},e.prototype.getCloudDiscoveryMetadataFromNetwork=function(){var t;return o(this,void 0,void 0,(function(){var n,r,o,s,a,c,l,u;return i(this,(function(i){switch(i.label){case 0:null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),n=""+h.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",r={},o=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(n,r)];case 2:if(s=i.sent(),a=void 0,c=void 0,function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(s.body))a=s.body,c=a.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+a.tenant_discovery_endpoint);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(s.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+s.status),(a=s.body).error===h.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+a.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+a.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[]}return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),o=e.getCloudDiscoveryMetadataFromNetworkResponse(c,this.hostnameAndPort),[3,4];case 3:return(l=i.sent())instanceof W?this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: "+l.errorCode+"\nError Description: "+l.errorMessage):(u=l,this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: "+u.name+"\nError Description: "+u.message)),[2,null];case 4:return o||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),o=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,o]}}))}))},e.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in Ao?Ao[this.canonicalAuthority]:null},e.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter((function(t){return Yr.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort})).length>0},e.generateAuthority=function(e,t){var n;if(t&&t.azureCloudInstance!==Wr.None){var r=t.tenant?t.tenant:h.DEFAULT_COMMON_TENANT;n=t.azureCloudInstance+"/"+r+"/"}return n||e},e.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},e.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.aliases.indexOf(t)>-1)return r}return null},e.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw Ue.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},e.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},e.isPublicCloudAuthority=function(e){return h.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0},e.buildRegionalAuthorityString=function(e,t,n){var o=new Yr(e);o.validateAsUri();var i=o.getUrlComponents(),s=t+"."+i.HostNameAndPort;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=t+"."+h.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=Yr.constructAuthorityUriFromObject(r(r({},o.getUrlComponents()),{HostNameAndPort:s})).urlString;return n?a+"?"+n:a},e.replaceWithRegionalInformation=function(t,n){return t.authorization_endpoint=e.buildRegionalAuthorityString(t.authorization_endpoint,n),t.token_endpoint=e.buildRegionalAuthorityString(t.token_endpoint,n,h.REGIONAL_AUTH_NON_MSI_QUERY_STRING),t.end_session_endpoint&&(t.end_session_endpoint=e.buildRegionalAuthorityString(t.end_session_endpoint,n)),t},e}(),xo=function(){function e(){}return e.createDiscoveredInstance=function(t,n,r,s,a,c,l){return o(this,void 0,void 0,(function(){var o,u;return i(this,(function(i){switch(i.label){case 0:null==c||c.addQueueMeasurement(je.AuthorityFactoryCreateDiscoveredInstance,l),o=e.createInstance(t,n,r,s,a,c,l),i.label=1;case 1:return i.trys.push([1,3,,4]),null==c||c.setPreQueueTime(je.AuthorityResolveEndpointsAsync,l),[4,o.resolveEndpointsAsync()];case 2:return i.sent(),[2,o];case 3:throw u=i.sent(),Ue.createEndpointDiscoveryIncompleteError(u);case 4:return[2]}}))}))},e.createInstance=function(e,t,n,r,o,i,s){if(Be.isEmpty(e))throw Ir.createUrlEmptyError();return new Mo(e,t,n,r,o,i,s)},e}(),No=function(){function e(e,t){this.cacheOutcome=q.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||h.EMPTY_STRING,this.wrapperVer=e.wrapperVer||h.EMPTY_STRING,this.telemetryCacheKey=P.CACHE_KEY+C.CACHE_KEY_SEPARATOR+e.clientId}return e.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+P.VALUE_SEPARATOR+this.cacheOutcome,t=[this.wrapperSKU,this.wrapperVer].join(P.VALUE_SEPARATOR),n=[e,this.getRegionDiscoveryFields()].join(P.VALUE_SEPARATOR);return[P.SCHEMA_VERSION,n,t].join(P.CATEGORY_SEPARATOR)},e.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),n=e.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*n).join(P.VALUE_SEPARATOR),o=t.errors.slice(0,n).join(P.VALUE_SEPARATOR),i=t.errors.length,s=[i,n<i?P.OVERFLOW_TRUE:P.OVERFLOW_FALSE].join(P.VALUE_SEPARATOR);return[P.SCHEMA_VERSION,t.cacheHits,r,o,s].join(P.CATEGORY_SEPARATOR)},e.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=P.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),Be.isEmpty(e.subError)?Be.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(P.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},e.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},e.prototype.getLastRequests=function(){var e=new Fr;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},e.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),n=e.maxErrorsToSend(t);if(n===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var r=new Fr;r.failedRequests=t.failedRequests.slice(2*n),r.errors=t.errors.slice(n),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}},e.maxErrorsToSend=function(e){var t,n=0,r=0,o=e.errors.length;for(t=0;t<o;t++){var i=e.failedRequests[2*t]||h.EMPTY_STRING,s=e.failedRequests[2*t+1]||h.EMPTY_STRING,a=e.errors[t]||h.EMPTY_STRING;if(!((r+=i.toString().length+s.toString().length+a.length+3)<P.MAX_LAST_HEADER_BYTES))break;n+=1}return n},e.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||h.EMPTY_STRING),e.push(this.regionSource||h.EMPTY_STRING),e.push(this.regionOutcome||h.EMPTY_STRING),e.join(",")},e.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},e.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},e}(),Oo=function(){function e(e,t,n,r,o,i,s,a,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=a,this.correlationId=c||this.browserCrypto.createNewGuid(),this.logger=r.clone(wt,po,this.correlationId),this.performanceClient=s}return e.prototype.clearCacheOnLogout=function(e){return Ye(this,void 0,void 0,(function(){return $e(this,(function(t){switch(t.label){case 0:if(!e)return[3,5];Mr.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(Mr.generateAccountCacheKey(e))];case 2:return t.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return t.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return t.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return t.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return t.sent(),[3,9];case 8:return t.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}}))}))},e.prototype.initializeBaseRequest=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o;return $e(this,(function(i){switch(i.label){case 0:if(this.performanceClient.addQueueMeasurement(je.InitializeBaseRequest,e.correlationId),this.logger.verbose("Initializing BaseAuthRequest"),t=e.authority||this.config.auth.authority,n=Je(e&&e.scopes||[]),(r=We(We({},e),{correlationId:this.correlationId,authority:t,scopes:n})).authenticationScheme){if(r.authenticationScheme===R.SSH){if(!e.sshJwk)throw Ir.createMissingSshJwkError();if(!e.sshKid)throw Ir.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+r.authenticationScheme+'" as configured in Auth request')}else r.authenticationScheme=R.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return!e.claims||Be.isEmpty(e.claims)?[3,2]:(o=r,[4,this.browserCrypto.hashString(e.claims)]);case 1:o.requestedClaimsHash=i.sent(),i.label=2;case 2:return[2,r]}}))}))},e.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri||ao.getCurrentUri();return Yr.getAbsoluteUrl(t,ao.getCurrentUri())},e.prototype.initializeServerTelemetryManager=function(e,t){this.logger.verbose("initializeServerTelemetryManager called");var n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new No(n,this.browserStorage)},e.prototype.getDiscoveredAuthority=function(e){return Ye(this,void 0,void 0,(function(){var t;return $e(this,(function(n){switch(n.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),t={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,xo.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,t,this.logger)]):[3,2];case 1:case 3:return[2,n.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,xo.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,t,this.logger)]}}))}))},e}(),qo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.prototype.initializeAuthorizationCodeRequest=function(e){return Ye(this,void 0,void 0,(function(){var t,n;return $e(this,(function(r){switch(r.label){case 0:return this.performanceClient.addQueueMeasurement(je.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return t=r.sent(),n=We(We({},e),{redirectUri:e.redirectUri,code:h.EMPTY_STRING,codeVerifier:t.verifier}),e.codeChallenge=t.challenge,e.codeChallengeMethod=h.S256_CODE_CHALLENGE_METHOD,[2,n]}}))}))},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",null==e?void 0:e.correlationId);var t=We({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Yr.getAbsoluteUrl(e.postLogoutRedirectUri,ao.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Yr.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ao.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Yr.getAbsoluteUrl(ao.getCurrentUri(),ao.getCurrentUri())),t},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,t,n){return Ye(this,void 0,void 0,(function(){var r;return $e(this,(function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(je.StandardInteractionClientCreateAuthCodeClient,this.correlationId),this.performanceClient.setPreQueueTime(je.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,n)];case 1:return r=o.sent(),[2,new _o(r,this.performanceClient)]}}))}))},t.prototype.getClientConfiguration=function(e,t,n){return Ye(this,void 0,void 0,(function(){var r,o;return $e(this,(function(i){switch(i.label){case 0:return this.performanceClient.addQueueMeasurement(je.StandardInteractionClientGetClientConfiguration,this.correlationId),this.logger.verbose("getClientConfiguration called",this.correlationId),this.performanceClient.setPreQueueTime(je.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),[4,this.getDiscoveredAuthority(t,n)];case 1:return r=i.sent(),o=this.config.system.loggerOptions,[2,{authOptions:{clientId:this.config.auth.clientId,authority:r,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:o.loggerCallback,piiLoggingEnabled:o.piiLoggingEnabled,logLevel:o.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:wt,version:po,cpu:h.EMPTY_STRING,os:h.EMPTY_STRING},telemetry:this.config.telemetry}]}}))}))},t.prototype.validateAndExtractStateFromHash=function(e,t,n){if(this.logger.verbose("validateAndExtractStateFromHash called",n),!e.state)throw Pn.createHashDoesNotContainStateError();var r=$r.extractBrowserRequestState(this.browserCrypto,e.state);if(!r)throw Pn.createUnableToParseStateError();if(r.interactionType!==t)throw Pn.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",n),e.state},t.prototype.getDiscoveredAuthority=function(e,t){var n;return Ye(this,void 0,void 0,(function(){var r,o,i,s;return $e(this,(function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(je.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),this.logger.verbose("getDiscoveredAuthority called",this.correlationId),r=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(je.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e||this.config.auth.authority,s=Mo.generateAuthority(i,t||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),this.performanceClient.setPreQueueTime(je.AuthorityFactoryCreateDiscoveredInstance,this.correlationId),[4,xo.createDiscoveredInstance(s,this.config.system.networkClient,this.browserStorage,o,this.logger,this.performanceClient,this.correlationId).then((function(e){return r.endMeasurement({success:!0}),e})).catch((function(e){throw r.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))];case 1:return[2,a.sent()]}}))}))},t.prototype.initializeAuthorizationRequest=function(e,t){return Ye(this,void 0,void 0,(function(){var n,r,o,i,s,a,c;return $e(this,(function(l){switch(l.label){case 0:return this.performanceClient.addQueueMeasurement(je.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId),this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=jr.setRequestState(this.browserCrypto,e&&e.state||h.EMPTY_STRING,r),this.performanceClient.setPreQueueTime(je.InitializeBaseRequest,this.correlationId),s=[{}],[4,this.initializeBaseRequest(e)];case 1:return i=We.apply(void 0,[We.apply(void 0,s.concat([l.sent()])),{redirectUri:n,state:o,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:v.FRAGMENT}]),(a=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+a.homeAccountId,this.correlationId),i.account=a),Be.isEmpty(i.loginHint)&&!a&&(c=this.browserStorage.getLegacyLoginHint())&&(i.loginHint=c),[2,i]}}))}))},t}(Oo);!function(e){e.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",e.USER_CANCEL="USER_CANCEL",e.NO_NETWORK="NO_NETWORK",e.TRANSIENT_ERROR="TRANSIENT_ERROR",e.PERSISTENT_ERROR="PERSISTENT_ERROR",e.DISABLED="DISABLED",e.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE"}(Ro||(Ro={}));var Lo={code:"ContentError"},Ho={code:"user_switch",desc:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},Do={code:"tokens_not_found_in_internal_memory_cache",desc:"Tokens not cached in MSAL JS internal memory, please make the WAM request"},Uo=function(e){function t(n,r,o){var i=e.call(this,n,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="NativeAuthError",i.ext=o,i}return Ge(t,e),t.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==Ro.PERSISTENT_ERROR&&this.ext.status!==Ro.DISABLED)||this.errorCode===Lo.code},t.createError=function(e,n,r){if(r&&r.status)switch(r.status){case Ro.ACCOUNT_UNAVAILABLE:return pt.createNativeAccountUnavailableError();case Ro.USER_INTERACTION_REQUIRED:return new pt(e,n);case Ro.USER_CANCEL:return Pn.createUserCancelledError();case Ro.NO_NETWORK:return Pn.createNoNetworkConnectivityError()}return new t(e,n,r)},t.createUserSwitchError=function(){return new t(Ho.code,Ho.desc)},t.createTokensNotFoundInCacheError=function(){return new t(Do.code,Do.desc)},t}(W),Bo=function(e){function n(t,n){return e.call(this,t,n)||this}return t(n,e),n.prototype.acquireToken=function(e){var t,n,r,s,c,l,u;return o(this,void 0,void 0,(function(){var o,d,h,p,f,g,m=this;return i(this,(function(i){switch(i.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.RefreshTokenClientAcquireToken,e.correlationId),o=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(je.RefreshTokenClientAcquireToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",e.correlationId),d=Hr.nowSeconds(),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(je.RefreshTokenClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(e,this.authority)];case 1:return h=i.sent(),p=null===(s=h.headers)||void 0===s?void 0:s[a.X_MS_HTTP_VERSION],null==o||o.addStaticFields({refreshTokenSize:(null===(c=h.body.refresh_token)||void 0===c?void 0:c.length)||0}),p&&(null==o||o.addStaticFields({httpVerToken:p})),f=null===(l=h.headers)||void 0===l?void 0:l[a.X_MS_REQUEST_ID],(g=new So(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(h.body),null===(u=this.performanceClient)||void 0===u||u.setPreQueueTime(je.HandleServerTokenResponse,e.correlationId),[2,g.handleServerTokenResponse(h.body,this.authority,d,e,void 0,void 0,!0,e.forceCache,f).then((function(e){return null==o||o.endMeasurement({success:!0}),e})).catch((function(t){throw m.logger.verbose("Error in fetching refresh token",e.correlationId),null==o||o.endMeasurement({errorCode:t.errorCode,subErrorCode:t.subError,success:!1}),t}))]}}))}))},n.prototype.acquireTokenByRefreshToken=function(e){var t,n,r,s;return o(this,void 0,void 0,(function(){var o,a;return i(this,(function(i){if(!e)throw Ir.createEmptyTokenRequestError();if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Ue.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return null===(n=this.performanceClient)||void 0===n||n.setPreQueueTime(je.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(t){if(o=t instanceof pt&&t.errorCode===dt.code,a=t instanceof ct&&t.errorCode===F&&t.subError===K,o||a)return null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(je.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw t}return null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(je.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)]}))}))},n.prototype.acquireTokenWithCachedRefreshToken=function(e,t){var n,s,a;return o(this,void 0,void 0,(function(){var o,c,l;return i(this,(function(i){if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(je.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),o=null===(s=this.performanceClient)||void 0===s?void 0:s.startMeasurement(je.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",e.correlationId),!(c=this.cacheManager.getRefreshToken(e.account,t)))throw null==o||o.discardMeasurement(),pt.createNoTokensFoundError();return null==o||o.endMeasurement({success:!0}),l=r(r({},e),{refreshToken:c.secret,authenticationScheme:e.authenticationScheme||R.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Pr.HOME_ACCOUNT_ID}}),null===(a=this.performanceClient)||void 0===a||a.setPreQueueTime(je.RefreshTokenClientAcquireToken,e.correlationId),[2,this.acquireToken(l)]}))}))},n.prototype.executeTokenRequest=function(e,t){var n,r,s;return o(this,void 0,void 0,(function(){var o,a,c,l,u,d;return i(this,(function(i){switch(i.label){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(je.RefreshTokenClientExecuteTokenRequest,e.correlationId),o=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement(je.RefreshTokenClientExecuteTokenRequest,e.correlationId),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(je.RefreshTokenClientCreateTokenRequestBody,e.correlationId),a=this.createTokenQueryParameters(e),c=Yr.appendQueryString(t.tokenEndpoint,a),[4,this.createTokenRequestBody(e)];case 1:return l=i.sent(),u=this.createTokenRequestHeaders(e.ccsCredential),d={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},[2,this.executePostToTokenEndpoint(c,l,u,d).then((function(e){return null==o||o.endMeasurement({success:!0}),e})).catch((function(e){throw null==o||o.endMeasurement({success:!1}),e}))]}}))}))},n.prototype.createTokenRequestBody=function(e){var t,n,r;return o(this,void 0,void 0,(function(){var o,s,a,c,l,u,d;return i(this,(function(i){switch(i.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(je.RefreshTokenClientCreateTokenRequestBody,e.correlationId),o=e.correlationId,s=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(je.BaseClientCreateTokenRequestHeaders,o),(a=new wo).addClientId(this.config.authOptions.clientId),a.addScopes(e.scopes),a.addGrantType(y.REFRESH_TOKEN_GRANT),a.addClientInfo(),a.addLibraryInfo(this.config.libraryInfo),a.addApplicationTelemetry(this.config.telemetry.application),a.addThrottling(),this.serverTelemetryManager&&a.addServerTelemetry(this.serverTelemetryManager),a.addCorrelationId(o),a.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&a.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(c=this.config.clientCredentials.clientAssertion,a.addClientAssertion(c.assertion),a.addClientAssertionType(c.assertionType)),e.authenticationScheme!==R.POP?[3,2]:(l=new Eo(this.cryptoUtils,this.performanceClient),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(je.PopTokenGenerateCnf,e.correlationId),[4,l.generateCnf(e)]);case 1:return u=i.sent(),a.addPopToken(u.reqCnfString),[3,3];case 2:if(e.authenticationScheme===R.SSH){if(!e.sshJwk)throw null==s||s.endMeasurement({success:!1}),Ir.createMissingSshJwkError();a.addSshJwk(e.sshJwk)}i.label=3;case 3:if((!Be.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&a.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Pr.HOME_ACCOUNT_ID:try{d=Rr(e.ccsCredential.credential),a.addCcsOid(d)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case Pr.UPN:a.addCcsUpn(e.ccsCredential.credential)}return null==s||s.endMeasurement({success:!0}),[2,a.createQueryString()]}}))}))},n}(Co),Fo=function(e){function n(t,n){return e.call(this,t,n)||this}return t(n,e),n.prototype.acquireToken=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,n.sent()];case 2:if((t=n.sent())instanceof Ue&&t.errorCode===Pe.code)return[2,new Bo(this.config,this.performanceClient).acquireTokenByRefreshToken(e)];throw t;case 3:return[2]}}))}))},n.prototype.acquireCachedToken=function(e){var t,n,r,s;return o(this,void 0,void 0,(function(){var o,a;return i(this,(function(i){switch(i.label){case 0:if(!e)throw Ir.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(t=this.serverTelemetryManager)||void 0===t||t.setCacheOutcome(q.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),Ue.createRefreshRequiredError();if(!e.account)throw Ue.createNoAccountInSilentRequestError();if(o=e.authority||this.authority.getPreferredCache(),!(a=this.cacheManager.readCacheRecord(e.account,e,o)).accessToken)throw null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(q.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),Ue.createRefreshRequiredError();if(Hr.wasClockTurnedBack(a.accessToken.cachedAt)||Hr.isTokenExpired(a.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(q.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),Ue.createRefreshRequiredError();if(a.accessToken.refreshOn&&Hr.isTokenExpired(a.accessToken.refreshOn,0))throw null===(s=this.serverTelemetryManager)||void 0===s||s.setCacheOutcome(q.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),Ue.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(a,e)];case 1:return[2,i.sent()]}}))}))},n.prototype.generateResultFromCacheRecord=function(e,t){return o(this,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:if(e.idToken&&(n=new xr(e.idToken.secret,this.config.cryptoInterface)),t.maxAge||0===t.maxAge){if(!(r=null==n?void 0:n.claims.auth_time))throw Ue.createAuthTimeNotFoundError();xr.checkMaxAge(r,t.maxAge)}return[4,So.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)];case 1:return[2,o.sent()]}}))}))},n}(Co),Ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.prototype.acquireToken=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i;return $e(this,(function(s){switch(s.label){case 0:return t=this.performanceClient.startMeasurement(je.SilentCacheClientAcquireToken,e.correlationId),n=this.initializeServerTelemetryManager(ot.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(n,e.authority,e.azureCloudOptions)];case 1:r=s.sent(),this.logger.verbose("Silent auth client created"),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,r.acquireCachedToken(e)];case 3:return o=s.sent(),t.endMeasurement({success:!0,fromCache:!0}),[2,o];case 4:throw(i=s.sent())instanceof Pn&&i.errorCode===wn.code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),t.endMeasurement({errorCode:i instanceof W&&i.errorCode||void 0,subErrorCode:i instanceof W&&i.subError||void 0,success:!1}),i;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(Pn.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,t,n){return Ye(this,void 0,void 0,(function(){var r;return $e(this,(function(o){switch(o.label){case 0:return this.performanceClient.setPreQueueTime(je.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,n)];case 1:return r=o.sent(),[2,new Fo(r,this.performanceClient)]}}))}))},t.prototype.initializeSilentRequest=function(e,t){return Ye(this,void 0,void 0,(function(){var n;return $e(this,(function(r){switch(r.label){case 0:return this.performanceClient.addQueueMeasurement(je.InitializeSilentRequest,this.correlationId),this.performanceClient.setPreQueueTime(je.InitializeBaseRequest,this.correlationId),n=[We({},e)],[4,this.initializeBaseRequest(e)];case 1:return[2,We.apply(void 0,[We.apply(void 0,n.concat([r.sent()])),{account:t,forceRefresh:e.forceRefresh||!1}])]}}))}))},t}(qo),Go=function(e){function t(t,n,r,o,i,s,a,c,l,u,d,h){var p=e.call(this,t,n,r,o,i,s,c,l,h)||this;return p.apiId=a,p.accountId=u,p.nativeMessageHandler=l,p.nativeStorageManager=d,p.silentCacheClient=new Ko(t,p.nativeStorageManager,r,o,i,s,c,l,h),p}return Ge(t,e),t.prototype.acquireToken=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return $e(this,(function(c){switch(c.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),t=this.performanceClient.startMeasurement(je.NativeInteractionClientAcquireToken,e.correlationId),n=Hr.nowSeconds(),[4,this.initializeNativeRequest(e)];case 1:r=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,r)];case 3:return o=c.sent(),t.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,o];case 4:return c.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return i={method:Xe.GetToken,request:r},[4,this.nativeMessageHandler.sendMessage(i)];case 6:return s=c.sent(),a=this.validateNativeResponse(s),[2,this.handleNativeResponse(a,r,n).then((function(e){return t.endMeasurement({success:!0,isNativeBroker:!0,requestId:e.requestId}),e})).catch((function(e){throw t.endMeasurement({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))]}}))}))},t.prototype.createSilentCacheRequest=function(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:kr.fromString(e.scope).asArray(),account:t,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(e,t){return Ye(this,void 0,void 0,(function(){var n,r;return $e(this,(function(o){switch(o.label){case 0:if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Ue.createNoAccountFoundError();if(!(n=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:e})))throw Ue.createNoAccountFoundError();o.label=1;case 1:return o.trys.push([1,3,,4]),r=this.createSilentCacheRequest(t,n),[4,this.silentCacheClient.acquireToken(r)];case 2:return[2,o.sent()];case 3:throw o.sent();case 4:return[2]}}))}))},t.prototype.acquireTokenRedirect=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s;return $e(this,(function(a){switch(a.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(e)];case 1:t=a.sent(),n={method:Xe.GetToken,request:t},a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(n)];case 3:return r=a.sent(),this.validateNativeResponse(r),[3,5];case 4:if((o=a.sent())instanceof Uo&&o.isFatal())throw o;return[3,5];case 5:return this.browserStorage.setTemporaryCache(tt.NATIVE_REQUEST,JSON.stringify(t),!0),i={apiId:ot.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri),[4,this.navigationClient.navigateExternal(s,i)];case 6:return a.sent(),[2]}}))}))},t.prototype.handleRedirectPromise=function(){return Ye(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a;return $e(this,(function(c){switch(c.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(e=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];t=e.prompt,n=Ve(e,["prompt"]),t&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(tt.NATIVE_REQUEST)),r={method:Xe.GetToken,request:n},o=Hr.nowSeconds(),c.label=1;case 1:return c.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(r)];case 2:return i=c.sent(),this.validateNativeResponse(i),s=this.handleNativeResponse(i,n,o),this.browserStorage.setInteractionInProgress(!1),[2,s];case 3:throw a=c.sent(),this.browserStorage.setInteractionInProgress(!1),a;case 4:return[2]}}))}))},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(e,t,n){return Ye(this,void 0,void 0,(function(){var r,o,i,s,a,c;return $e(this,(function(l){switch(l.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),e.account.id!==t.accountId)throw Uo.createUserSwitchError();return[4,this.getDiscoveredAuthority(t.authority)];case 1:return r=l.sent(),o=r.getPreferredCache(),i=this.createIdTokenObj(e),s=this.createHomeAccountIdentifier(e,i),a=this.createAccountEntity(e,s,i,o),[4,this.generateAuthenticationResult(e,t,i,a,r.canonicalAuthority,n)];case 2:return c=l.sent(),this.cacheAccount(a),this.cacheNativeTokens(e,t,s,i,c.accessToken,c.tenantId,n),[2,c]}}))}))},t.prototype.createIdTokenObj=function(e){return new xr(e.id_token||h.EMPTY_STRING,this.browserCrypto)},t.prototype.createHomeAccountIdentifier=function(e,t){return Mr.generateHomeAccountId(e.client_info||h.EMPTY_STRING,$n.Default,this.logger,this.browserCrypto,t)},t.prototype.createAccountEntity=function(e,t,n,r){return Mr.createAccount(e.client_info,t,n,void 0,void 0,void 0,r,e.account.id)},t.prototype.generateScopes=function(e,t){return e.scope?kr.fromString(e.scope):kr.fromString(t.scope)},t.prototype.generatePopAccessToken=function(e,t){return Ye(this,void 0,void 0,(function(){var n,r;return $e(this,(function(o){switch(o.label){case 0:if(t.tokenType!==R.POP)return[3,2];if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),[2,e.shr];if(n=new Eo(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce},!t.keyId)throw Ue.createKeyIdMissingError();return[4,n.signPopToken(e.access_token,t.keyId,r)];case 1:return[2,o.sent()];case 2:return[2,e.access_token]}}))}))},t.prototype.generateAuthenticationResult=function(e,t,n,r,o,i){return Ye(this,void 0,void 0,(function(){var s,a,c,l,u,d,p;return $e(this,(function(f){switch(f.label){case 0:return s=this.addTelemetryFromNativeResponse(e),a=e.scope?kr.fromString(e.scope):kr.fromString(t.scope),c=e.account.properties||{},l=c.UID||n.claims.oid||n.claims.sub||h.EMPTY_STRING,u=c.TenantId||n.claims.tid||h.EMPTY_STRING,[4,this.generatePopAccessToken(e,t)];case 1:return d=f.sent(),p=t.tokenType===R.POP?R.POP:R.BEARER,[2,{authority:o,uniqueId:l,tenantId:u,scopes:a.asArray(),account:r.getAccountInfo(),idToken:e.id_token,idTokenClaims:n.claims,accessToken:d,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:new Date(1e3*Number(i+e.expires_in)),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}]}}))}))},t.prototype.cacheAccount=function(e){var t=this;this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((function(e){t.logger.error("Error occurred while removing account context from browser storage. "+e)}))},t.prototype.cacheNativeTokens=function(e,t,n,r,o,i,s){var a=rr.createIdTokenEntity(n,t.authority,e.id_token||h.EMPTY_STRING,t.clientId,r.claims.tid||h.EMPTY_STRING);this.nativeStorageManager.setIdTokenCredential(a);var c=s+(t.tokenType===R.POP?h.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),l=this.generateScopes(e,t),u=Dr.createAccessTokenEntity(n,t.authority,o,t.clientId,i,l.printScopes(),c,0,this.browserCrypto);this.nativeStorageManager.setAccessTokenCredential(u)},t.prototype.addTelemetryFromNativeResponse=function(e){var t=this.getMATSFromResponse(e);return t?(this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null},t.prototype.validateNativeResponse=function(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Uo.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(e){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(e){return void 0===e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached},t.prototype.initializeNativeRequest=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,c,l,u=this;return $e(this,(function(d){switch(d.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),t=e.authority||this.config.auth.authority,(n=new Yr(t)).validateAsUri(),r=e.scopes,o=Ve(e,["scopes"]),(i=new kr(r||[])).appendScopes(p),s=function(){switch(u.apiId){case ot.ssoSilent:case ot.acquireTokenSilent_silentFlow:return u.logger.trace("initializeNativeRequest: silent request sets prompt to none"),m.NONE}if(e.prompt)switch(e.prompt){case m.NONE:case m.CONSENT:case m.LOGIN:return u.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw u.logger.trace("initializeNativeRequest: prompt = "+e.prompt+" is not compatible with native flow"),Pn.createNativePromptParameterNotSupportedError()}else u.logger.trace("initializeNativeRequest: prompt was not provided")},a=We(We({},o),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:s(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:We(We(We({},e.extraQueryParameters),e.tokenQueryParameters),{telemetry:Et}),extendedExpiryToken:!1}),e.authenticationScheme!==R.POP?[3,2]:(c={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},[4,new Eo(this.browserCrypto).generateCnf(c)]);case 1:l=d.sent(),a.reqCnf=l.reqCnfHash,a.keyId=l.kid,d.label=2;case 2:return[2,a]}}))}))},t}(Oo),jo=function(){function e(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(je.NativeMessageHandlerHandshake)}return e.prototype.sendMessage=function(e){return Ye(this,void 0,void 0,(function(){var t,n=this;return $e(this,(function(r){return this.logger.trace("NativeMessageHandler - sendMessage called."),t={channel:Ct,extensionId:this.extensionId,responseId:this.responseId++,body:e},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(t)),this.messageChannel.port1.postMessage(t),[2,new Promise((function(e,r){n.resolvers.set(t.responseId,{resolve:e,reject:r})}))]}))}))},e.createProvider=function(t,n,r){return Ye(this,void 0,void 0,(function(){var o,i;return $e(this,(function(s){switch(s.label){case 0:t.trace("NativeMessageHandler - createProvider called."),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,(o=new e(t,n,r,bt)).sendHandshakeRequest()];case 2:return s.sent(),[2,o];case 3:return s.sent(),[4,(i=new e(t,n,r)).sendHandshakeRequest()];case 4:return s.sent(),[2,i];case 5:return[2]}}))}))},e.prototype.sendHandshakeRequest=function(){return Ye(this,void 0,void 0,(function(){var e,t=this;return $e(this,(function(n){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),e={channel:Ct,extensionId:this.extensionId,responseId:this.responseId++,body:{method:Xe.HandshakeRequest}},this.handshakeEvent.addStaticFields({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=function(e){t.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),[2,new Promise((function(n,r){t.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),t.timeoutId=window.setTimeout((function(){window.removeEventListener("message",t.windowListener,!1),t.messageChannel.port1.close(),t.messageChannel.port2.close(),t.handshakeEvent.endMeasurement({extensionHandshakeTimedOut:!0,success:!1}),r(Pn.createNativeHandshakeTimeoutError()),t.handshakeResolvers.delete(e.responseId)}),t.handshakeTimeoutMs)}))]}))}))},e.prototype.onWindowMessage=function(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source===window){var t=e.data;if(t.channel&&t.channel===Ct&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Xe.HandshakeRequest){this.logger.verbose(t.extensionId?"Extension with id: "+t.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var n=this.handshakeResolvers.get(t.responseId);n&&(this.handshakeEvent.endMeasurement({success:!1,extensionInstalled:!1}),n.reject(Pn.createNativeExtensionNotInstalledError()))}}},e.prototype.onChannelMessage=function(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{var o=t.body.method;if(o===Xe.Response){if(!n)return;var i=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(i)),"Success"!==i.status)n.reject(Uo.createError(i.code,i.description,i.ext));else{if(!i.result)throw W.createUnexpectedError("Event does not contain result.");i.result.code&&i.result.description?n.reject(Uo.createError(i.result.code,i.result.description,i.result.ext)):n.resolve(i.result)}this.resolvers.delete(t.responseId)}else if(o===Xe.HandshakeResponse){if(!r)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),this.handshakeEvent.endMeasurement({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(t){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+t.toString()),this.logger.errorPii("Unable to parse "+e),n?n.reject(t):r&&r.reject(t)}},e.prototype.getExtensionId=function(){return this.extensionId},e.prototype.getExtensionVersion=function(){return this.extensionVersion},e.isNativeAvailable=function(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case R.BEARER:case R.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},e}(),zo=function(){function e(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}return e.prototype.handleCodeResponseFromHash=function(e,t,n,r){return Ye(this,void 0,void 0,(function(){var o,i,s;return $e(this,(function(a){if(this.performanceClient.addQueueMeasurement(je.HandleCodeResponseFromHash,this.authCodeRequest.correlationId),this.logger.verbose("InteractionHandler.handleCodeResponse called"),Be.isEmpty(e))throw Pn.createEmptyHashError(e);if(o=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(o)))throw Ue.createStateNotFoundError("Cached State");try{s=this.authModule.handleFragmentResponse(e,i)}catch(e){throw e instanceof ct&&e.subError===Qt.code?Pn.createUserCancelledError():e}return this.performanceClient.setPreQueueTime(je.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),[2,this.handleCodeResponseFromServer(s,t,n,r)]}))}))},e.prototype.handleCodeResponseFromServer=function(e,t,n,r,o){return void 0===o&&(o=!0),Ye(this,void 0,void 0,(function(){var i,s,a,c,l,u;return $e(this,(function(d){switch(d.label){case 0:if(this.performanceClient.addQueueMeasurement(je.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),i=this.browserStorage.generateStateKey(t),!(s=this.browserStorage.getTemporaryCache(i)))throw Ue.createStateNotFoundError("Cached State");return a=this.browserStorage.generateNonceKey(s),c=this.browserStorage.getTemporaryCache(a),this.authCodeRequest.code=e.code,e.cloud_instance_host_name?(this.performanceClient.setPreQueueTime(je.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,this.updateTokenEndpointAuthority(e.cloud_instance_host_name,n,r)]):[3,2];case 1:d.sent(),d.label=2;case 2:return o&&(e.nonce=c||void 0),e.state=s,e.client_info?this.authCodeRequest.clientInfo=e.client_info:(l=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=l),this.performanceClient.setPreQueueTime(je.AuthClientAcquireToken,this.authCodeRequest.correlationId),[4,this.authModule.acquireToken(this.authCodeRequest,e)];case 3:return u=d.sent(),this.browserStorage.cleanRequestByState(t),[2,u]}}))}))},e.prototype.updateTokenEndpointAuthority=function(e,t,n){return Ye(this,void 0,void 0,(function(){var r,o;return $e(this,(function(i){switch(i.label){case 0:return this.performanceClient.addQueueMeasurement(je.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),r="https://"+e+"/"+t.tenant+"/",[4,xo.createDiscoveredInstance(r,n,this.browserStorage,t.options,this.logger,this.performanceClient,this.authCodeRequest.correlationId)];case 1:return o=i.sent(),this.authModule.updateAuthority(o),[2]}}))}))},e.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(tt.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},e}(),Wo=function(e){function t(t,n,r,o,i,s,a,c,l,u){var d=e.call(this,t,n,r,o,i,s,a,l,u)||this;return d.unloadWindow=d.unloadWindow.bind(d),d.nativeStorage=c,d}return Ge(t,e),t.prototype.acquireToken=function(e){try{var t=this.generatePopupName(e.scopes||p,e.authority||this.config.auth.authority),n=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,n);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var r=this.openSizedPopup("about:blank",t,n);return this.acquireTokenPopupAsync(e,t,n,r)}catch(e){return Promise.reject(e)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var t=this.initializeLogoutRequest(e),n=this.generateLogoutPopupName(t),r=e&&e.authority,o=e&&e.mainWindowRedirectUri,i=(null==e?void 0:e.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,i,r,void 0,o);this.logger.verbose("asyncPopup set to false, opening popup");var s=this.openSizedPopup("about:blank",n,i);return this.logoutPopupAsync(t,n,i,r,s,o)}catch(e){return Promise.reject(e)}},t.prototype.acquireTokenPopupAsync=function(e,t,n,r){return Ye(this,void 0,void 0,(function(){var o,i,s,a,c,l,u,d,p,f,g,m,v,y,w,C,b=this;return $e(this,(function(E){switch(E.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),o=this.initializeServerTelemetryManager(ot.acquireTokenPopup),this.performanceClient.setPreQueueTime(je.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,it.Popup)];case 1:i=E.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||h.EMPTY_STRING,i.account||null),E.label=2;case 2:return E.trys.push([2,8,,9]),this.performanceClient.setPreQueueTime(je.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(i)];case 3:return s=E.sent(),this.performanceClient.setPreQueueTime(je.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(o,i.authority,i.azureCloudOptions)];case 4:return a=E.sent(),this.logger.verbose("Auth code client created"),c=jo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),l=void 0,c&&(l=this.performanceClient.startMeasurement(je.FetchAccountIdWithNativeBroker,e.correlationId)),[4,a.getAuthCodeUrl(We(We({},i),{nativeBroker:c}))];case 5:return u=E.sent(),d=new zo(a,this.browserStorage,s,this.logger,this.performanceClient),p={popup:r,popupName:t,popupWindowAttributes:n},f=this.initiateAuthRequest(u,p),this.eventHandler.emitEvent(uo.POPUP_OPENED,it.Popup,{popupWindow:f},null),[4,this.monitorPopupForHash(f)];case 6:if(g=E.sent(),m=Yr.getDeserializedHash(g),v=this.validateAndExtractStateFromHash(m,it.Popup,i.correlationId),mo.removeThrottle(this.browserStorage,this.config.auth.clientId,s),m.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),l&&l.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw Pn.createNativeConnectionNotEstablishedError();return y=new Go(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,m.accountId,this.nativeStorage,i.correlationId),w=jr.parseRequestState(this.browserCrypto,v).userRequestState,[2,y.acquireToken(We(We({},i),{state:w,prompt:void 0})).finally((function(){b.browserStorage.cleanRequestByState(v)}))]}return[4,d.handleCodeResponseFromHash(g,v,a.authority,this.networkClient)];case 7:return[2,E.sent()];case 8:throw C=E.sent(),r&&r.close(),C instanceof W&&C.setCorrelationId(this.correlationId),o.cacheFailedRequest(C),this.browserStorage.cleanRequestByState(i.state),C;case 9:return[2]}}))}))},t.prototype.logoutPopupAsync=function(e,t,n,r,o,i){return Ye(this,void 0,void 0,(function(){var s,a,c,l,u,d,h;return $e(this,(function(p){switch(p.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(uo.LOGOUT_START,it.Popup,e),s=this.initializeServerTelemetryManager(ot.logoutPopup),p.label=1;case 1:return p.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(e.account)];case 2:return p.sent(),this.performanceClient.setPreQueueTime(je.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(s,r)];case 3:return a=p.sent(),this.logger.verbose("Auth code client created"),c=a.getLogoutUri(e),this.eventHandler.emitEvent(uo.LOGOUT_SUCCESS,it.Popup,e),l=this.openPopup(c,{popupName:t,popupWindowAttributes:n,popup:o}),this.eventHandler.emitEvent(uo.POPUP_OPENED,it.Popup,{popupWindow:l},null),[4,this.waitForLogoutPopup(l)];case 4:return p.sent(),i?(u={apiId:ot.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},d=Yr.getAbsoluteUrl(i,ao.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+d),this.navigationClient.navigateInternal(d,u)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw h=p.sent(),o&&o.close(),h instanceof W&&h.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(uo.LOGOUT_FAILURE,it.Popup,null,h),this.eventHandler.emitEvent(uo.LOGOUT_END,it.Popup),s.cacheFailedRequest(h),h;case 6:return this.eventHandler.emitEvent(uo.LOGOUT_END,it.Popup),[2]}}))}))},t.prototype.initiateAuthRequest=function(e,t){if(Be.isEmpty(e))throw this.logger.error("Navigate url is empty"),Pn.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+e),this.openPopup(e,t)},t.prototype.monitorPopupForHash=function(e){var t=this;return new Promise((function(n,r){var o=t.config.system.windowHashTimeout/t.config.system.pollIntervalMilliseconds,i=0;t.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var s=setInterval((function(){if(e.closed)return t.logger.error("PopupHandler.monitorPopupForHash - window closed"),t.cleanPopup(),clearInterval(s),void r(Pn.createUserCancelledError());var a=h.EMPTY_STRING,c=h.EMPTY_STRING;try{a=e.location.href,c=e.location.hash}catch(e){}Be.isEmpty(a)||"about:blank"===a||(t.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),i++,c?(t.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(s),t.cleanPopup(e),Yr.hashContainsKnownProperties(c)?(t.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),n(c)):(t.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),t.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+c),r(Pn.createHashDoesNotContainKnownPropertiesError()))):i>o&&(t.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(s),r(Pn.createMonitorPopupTimeoutError())))}),t.config.system.pollIntervalMilliseconds)}))},t.prototype.waitForLogoutPopup=function(e){var t=this;return new Promise((function(n){t.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var r=setInterval((function(){e.closed&&(t.logger.error("PopupHandler.waitForLogoutPopup - window closed"),t.cleanPopup(),clearInterval(r),n());var o=h.EMPTY_STRING;try{o=e.location.href}catch(e){}Be.isEmpty(o)||"about:blank"===o||(t.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(r),t.cleanPopup(e),n())}),t.config.system.pollIntervalMilliseconds)}))},t.prototype.openPopup=function(e,t){try{var n=void 0;if(t.popup?(n=t.popup,this.logger.verbosePii("Navigating popup window to: "+e),n.location.assign(e)):void 0===t.popup&&(this.logger.verbosePii("Opening popup window to: "+e),n=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),!n)throw Pn.createEmptyWindowCreatedError();return n.focus&&n.focus(),this.currentWindow=n,window.addEventListener("beforeunload",this.unloadWindow),n}catch(e){throw this.logger.error("error opening popup "+e.message),this.browserStorage.setInteractionInProgress(!1),Pn.createPopupWindowError(e.toString())}},t.prototype.openSizedPopup=function(e,t,n){var r,o,i,s,a=window.screenLeft?window.screenLeft:window.screenX,c=window.screenTop?window.screenTop:window.screenY,l=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=null===(r=n.popupSize)||void 0===r?void 0:r.width,h=null===(o=n.popupSize)||void 0===o?void 0:o.height,p=null===(i=n.popupPosition)||void 0===i?void 0:i.top,f=null===(s=n.popupPosition)||void 0===s?void 0:s.left;return(!d||d<0||d>l)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=gt),(!h||h<0||h>u)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),h=mt),(!p||p<0||p>u)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),p=Math.max(0,u/2-mt/2+c)),(!f||f<0||f>l)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,l/2-gt/2+a)),window.open(e,t,"width="+d+", height="+h+", top="+p+", left="+f+", scrollbars=yes")},t.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(it.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},t.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(e,t){return vt+"."+this.config.auth.clientId+"."+e.join("-")+"."+t+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(e){var t=e.account&&e.account.homeAccountId;return vt+"."+this.config.auth.clientId+"."+t+"."+this.correlationId},t}(qo),Vo=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t,n,r,o,s)||this;return a.browserCrypto=i,a}return Ge(t,e),t.prototype.initiateAuthRequest=function(e,t){return Ye(this,void 0,void 0,(function(){var n;return $e(this,(function(r){switch(r.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),Be.isEmpty(e)?[3,7]:(t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(tt.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(tt.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),n={apiId:ot.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1},"function"!=typeof t.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===t.onRedirectNavigate(e)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,t.navigationClient.navigateExternal(e,n)])));case 1:case 5:return r.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,t.navigationClient.navigateExternal(e,n)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Pn.createEmptyNavigationUriError();case 8:return[2]}}))}))},t.prototype.handleCodeResponseFromHash=function(e,t,n,r){return Ye(this,void 0,void 0,(function(){var o,i,s,a,c,l,u;return $e(this,(function(d){switch(d.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),Be.isEmpty(e))throw Pn.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),o=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(o)))throw Ue.createStateNotFoundError("Cached State");try{s=this.authModule.handleFragmentResponse(e,i)}catch(e){throw e instanceof ct&&e.subError===Qt.code?Pn.createUserCancelledError():e}return a=this.browserStorage.generateNonceKey(i),c=this.browserStorage.getTemporaryCache(a),this.authCodeRequest.code=s.code,s.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(s.cloud_instance_host_name,n,r)]:[3,2];case 1:d.sent(),d.label=2;case 2:return s.nonce=c||void 0,s.state=i,s.client_info?this.authCodeRequest.clientInfo=s.client_info:(l=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=l),[4,this.authModule.acquireToken(this.authCodeRequest,s)];case 3:return u=d.sent(),this.browserStorage.cleanRequestByState(t),[2,u]}}))}))},t}(zo),Yo=function(e){function t(t,n,r,o,i,s,a,c,l,u){var d=e.call(this,t,n,r,o,i,s,a,l,u)||this;return d.nativeStorage=c,d}return Ge(t,e),t.prototype.acquireToken=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,c,l,u=this;return $e(this,(function(d){switch(d.label){case 0:return this.performanceClient.setPreQueueTime(je.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,it.Redirect)];case 1:t=d.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||h.EMPTY_STRING,t.account||null),n=this.initializeServerTelemetryManager(ot.acquireTokenRedirect),r=function(e){e.persisted&&(u.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),u.browserStorage.cleanRequestByState(t.state))},d.label=2;case 2:return d.trys.push([2,7,,8]),this.performanceClient.setPreQueueTime(je.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(t)];case 3:return o=d.sent(),this.performanceClient.setPreQueueTime(je.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(n,t.authority,t.azureCloudOptions)];case 4:return i=d.sent(),this.logger.verbose("Auth code client created"),s=new Vo(i,this.browserStorage,o,this.logger,this.browserCrypto,this.performanceClient),[4,i.getAuthCodeUrl(We(We({},t),{nativeBroker:jo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}))];case 5:return a=d.sent(),c=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+c),window.addEventListener("pageshow",r),[4,s.initiateAuthRequest(a,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,d.sent()];case 7:throw(l=d.sent())instanceof W&&l.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),n.cacheFailedRequest(l),this.browserStorage.cleanRequestByState(t.state),l;case 8:return[2]}}))}))},t.prototype.handleRedirectPromise=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,c,l,u,d,p;return $e(this,(function(f){switch(f.label){case 0:t=this.initializeServerTelemetryManager(ot.handleRedirectPromise),f.label=1;case 1:if(f.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(n=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(it.Redirect),[2,null];r=void 0;try{o=Yr.getDeserializedHash(n),r=this.validateAndExtractStateFromHash(o,it.Redirect),this.logger.verbose("State extracted from hash")}catch(e){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+e),this.browserStorage.cleanRequestByInteractionType(it.Redirect),[2,null]}return i=this.browserStorage.getTemporaryCache(tt.ORIGIN_URI,!0)||h.EMPTY_STRING,s=Yr.removeHashFromUrl(i),a=Yr.removeHashFromUrl(window.location.href),s===a&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(n,r,t)]):[3,3];case 2:return c=f.sent(),i.indexOf("#")>-1&&ao.replaceHash(i),[2,c];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(n,r,t)]);case 4:return ao.isInIframe()&&!this.config.system.allowRedirectInIframe?[3,9]:(this.browserStorage.setTemporaryCache(tt.URL_HASH,n,!0),l={apiId:ot.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},u=!0,i&&"null"!==i?[3,6]:(d=ao.getHomepage(),this.browserStorage.setTemporaryCache(tt.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(d,l)]));case 5:return u=f.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+i),[4,this.navigationClient.navigateInternal(i,l)];case 7:u=f.sent(),f.label=8;case 8:if(!u)return[2,this.handleHash(n,r,t)];f.label=9;case 9:return[2,null];case 10:throw(p=f.sent())instanceof W&&p.setCorrelationId(this.correlationId),t.cacheFailedRequest(p),this.browserStorage.cleanRequestByInteractionType(it.Redirect),p;case 11:return[2]}}))}))},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),Yr.hashContainsKnownProperties(e))return ao.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var t=this.browserStorage.getTemporaryCache(tt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(tt.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),t},t.prototype.handleHash=function(e,t,n){return Ye(this,void 0,void 0,(function(){var r,o,i,s,a,c,l=this;return $e(this,(function(u){switch(u.label){case 0:if(r=this.browserStorage.getCachedRequest(t,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(o=Yr.getDeserializedHash(e)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Pn.createNativeConnectionNotEstablishedError();return i=new Go(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,o.accountId,this.browserStorage,r.correlationId),s=jr.parseRequestState(this.browserCrypto,t).userRequestState,[2,i.acquireToken(We(We({},r),{state:s,prompt:void 0})).finally((function(){l.browserStorage.cleanRequestByState(t)}))]}if(!(a=this.browserStorage.getCachedAuthority(t)))throw Pn.createNoCachedAuthorityError();return this.performanceClient.setPreQueueTime(je.StandardInteractionClientCreateAuthCodeClient,r.correlationId),[4,this.createAuthCodeClient(n,a)];case 1:return c=u.sent(),this.logger.verbose("Auth code client created"),mo.removeThrottle(this.browserStorage,this.config.auth.clientId,r),[4,new Vo(c,this.browserStorage,r,this.logger,this.browserCrypto,this.performanceClient).handleCodeResponseFromHash(e,t,c.authority,this.networkClient)];case 2:return[2,u.sent()]}}))}))},t.prototype.logout=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s;return $e(this,(function(a){switch(a.label){case 0:this.logger.verbose("logoutRedirect called"),t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(ot.logout),a.label=1;case 1:return a.trys.push([1,10,,11]),this.eventHandler.emitEvent(uo.LOGOUT_START,it.Redirect,e),[4,this.clearCacheOnLogout(t.account)];case 2:return a.sent(),r={apiId:ot.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.performanceClient.setPreQueueTime(je.StandardInteractionClientCreateAuthCodeClient,t.correlationId),[4,this.createAuthCodeClient(n,e&&e.authority)];case 3:return o=a.sent(),this.logger.verbose("Auth code client created"),i=o.getLogoutUri(t),this.eventHandler.emitEvent(uo.LOGOUT_SUCCESS,it.Redirect,t),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(i)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(i,r)]):[3,7];case 4:return a.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),a.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(i,r)];case 8:return a.sent(),[2];case 9:return[3,11];case 10:throw(s=a.sent())instanceof W&&s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s),this.eventHandler.emitEvent(uo.LOGOUT_FAILURE,it.Redirect,null,s),this.eventHandler.emitEvent(uo.LOGOUT_END,it.Redirect),s;case 11:return this.eventHandler.emitEvent(uo.LOGOUT_END,it.Redirect),[2]}}))}))},t.prototype.getRedirectStartPage=function(e){var t=e||window.location.href;return Yr.getAbsoluteUrl(t,ao.getCurrentUri())},t}(qo),$o=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t,n,r,o,s)||this;return a.navigateFrameWait=i.navigateFrameWait,a.pollIntervalMilliseconds=i.pollIntervalMilliseconds,a}return Ge(t,e),t.prototype.initiateAuthRequest=function(e){return Ye(this,void 0,void 0,(function(){return $e(this,(function(t){switch(t.label){case 0:if(this.performanceClient.addQueueMeasurement(je.SilentHandlerInitiateAuthRequest,this.authCodeRequest.correlationId),Be.isEmpty(e))throw this.logger.info("Navigate url is empty"),Pn.createEmptyNavigationUriError();return this.navigateFrameWait?(this.performanceClient.setPreQueueTime(je.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),[4,this.loadFrame(e)]):[3,2];case 1:return[2,t.sent()];case 2:return[2,this.loadFrameSync(e)]}}))}))},t.prototype.monitorIframeForHash=function(e,t){var n=this;return this.performanceClient.addQueueMeasurement(je.SilentHandlerMonitorIframeForHash,this.authCodeRequest.correlationId),new Promise((function(r,o){t<lo&&n.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+t+"ms) than the default ("+"6000ms). This may result in timeouts.");var i=window.performance.now()+t,s=setInterval((function(){if(window.performance.now()>i)return n.removeHiddenIframe(e),clearInterval(s),void o(Pn.createMonitorIframeTimeoutError());var t=h.EMPTY_STRING,a=e.contentWindow;try{t=a?a.location.href:h.EMPTY_STRING}catch(e){}if(!Be.isEmpty(t)){var c=a?a.location.hash:h.EMPTY_STRING;return Yr.hashContainsKnownProperties(c)?(n.removeHiddenIframe(e),clearInterval(s),void r(c)):void 0}}),n.pollIntervalMilliseconds)}))},t.prototype.loadFrame=function(e){var t=this;return this.performanceClient.addQueueMeasurement(je.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),new Promise((function(n,r){var o=t.createHiddenIframe();setTimeout((function(){o?(o.src=e,n(o)):r("Unable to load iframe")}),t.navigateFrameWait)}))},t.prototype.loadFrameSync=function(e){var t=this.createHiddenIframe();return t.src=e,t},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(zo),Qo=function(e){function t(t,n,r,o,i,s,a,c,l,u,d){var h=e.call(this,t,n,r,o,i,s,c,u,d)||this;return h.apiId=a,h.nativeStorage=l,h}return Ge(t,e),t.prototype.acquireToken=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i;return $e(this,(function(s){switch(s.label){case 0:if(this.performanceClient.addQueueMeasurement(je.SilentIframeClientAcquireToken,e.correlationId),this.logger.verbose("acquireTokenByIframe called"),t=this.performanceClient.startMeasurement(je.SilentIframeClientAcquireToken,e.correlationId),Be.isEmpty(e.loginHint)&&Be.isEmpty(e.sid)&&(!e.account||Be.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==m.NONE&&e.prompt!==m.NO_SESSION)throw t.endMeasurement({success:!1}),Pn.createSilentPromptValueError(e.prompt);return this.performanceClient.setPreQueueTime(je.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(We(We({},e),{prompt:e.prompt||m.NONE}),it.Silent)];case 1:n=s.sent(),this.browserStorage.updateCacheEntries(n.state,n.nonce,n.authority,n.loginHint||h.EMPTY_STRING,n.account||null),r=this.initializeServerTelemetryManager(this.apiId),s.label=2;case 2:return s.trys.push([2,5,,6]),this.performanceClient.setPreQueueTime(je.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(r,n.authority,n.azureCloudOptions)];case 3:return o=s.sent(),this.logger.verbose("Auth code client created"),this.performanceClient.setPreQueueTime(je.SilentIframeClientTokenHelper,e.correlationId),[4,this.silentTokenHelper(o,n).then((function(e){return t.endMeasurement({success:!0,fromCache:!1,requestId:e.requestId}),e}))];case 4:return[2,s.sent()];case 5:throw(i=s.sent())instanceof W&&i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i),this.browserStorage.cleanRequestByState(n.state),t.endMeasurement({errorCode:i instanceof W&&i.errorCode||void 0,subErrorCode:i instanceof W&&i.subError||void 0,success:!1}),i;case 6:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(Pn.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,t){return Ye(this,void 0,void 0,(function(){var n,r,o,i,s,a,c,l,u,d=this;return $e(this,(function(h){switch(h.label){case 0:return this.performanceClient.addQueueMeasurement(je.SilentIframeClientTokenHelper,t.correlationId),this.performanceClient.setPreQueueTime(je.StandardInteractionClientInitializeAuthorizationCodeRequest,t.correlationId),[4,this.initializeAuthorizationCodeRequest(t)];case 1:return n=h.sent(),this.performanceClient.setPreQueueTime(je.GetAuthCodeUrl,t.correlationId),[4,e.getAuthCodeUrl(We(We({},t),{nativeBroker:jo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}))];case 2:return r=h.sent(),o=new $o(e,this.browserStorage,n,this.logger,this.config.system,this.performanceClient),this.performanceClient.setPreQueueTime(je.SilentHandlerInitiateAuthRequest,t.correlationId),[4,o.initiateAuthRequest(r)];case 3:return i=h.sent(),this.performanceClient.setPreQueueTime(je.SilentHandlerMonitorIframeForHash,t.correlationId),[4,o.monitorIframeForHash(i,this.config.system.iframeHashTimeout)];case 4:if(s=h.sent(),a=Yr.getDeserializedHash(s),c=this.validateAndExtractStateFromHash(a,it.Silent,n.correlationId),a.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Pn.createNativeConnectionNotEstablishedError();return l=new Go(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,a.accountId,this.browserStorage,this.correlationId),u=jr.parseRequestState(this.browserCrypto,c).userRequestState,[2,l.acquireToken(We(We({},t),{state:u,prompt:t.prompt||m.NONE})).finally((function(){d.browserStorage.cleanRequestByState(c)}))]}return this.performanceClient.setPreQueueTime(je.HandleCodeResponseFromHash,t.correlationId),[2,o.handleCodeResponseFromHash(s,c,e.authority,this.networkClient)]}}))}))},t}(qo),Jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ge(t,e),t.prototype.acquireToken=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s=this;return $e(this,(function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(je.SilentRefreshClientAcquireToken,e.correlationId),this.performanceClient.setPreQueueTime(je.InitializeBaseRequest,e.correlationId),n=[We({},e)],[4,this.initializeBaseRequest(e)];case 1:return t=We.apply(void 0,n.concat([a.sent()])),r=this.performanceClient.startMeasurement(je.SilentRefreshClientAcquireToken,t.correlationId),o=this.initializeServerTelemetryManager(ot.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(o,t.authority,t.azureCloudOptions)];case 2:return i=a.sent(),this.logger.verbose("Refresh token client created"),this.performanceClient.setPreQueueTime(je.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),[2,i.acquireTokenByRefreshToken(t).then((function(e){return r.endMeasurement({success:!0,fromCache:e.fromCache,requestId:e.requestId}),e})).catch((function(e){throw e instanceof W&&e.setCorrelationId(s.correlationId),o.cacheFailedRequest(e),r.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))]}}))}))},t.prototype.logout=function(){return Promise.reject(Pn.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,t,n){return Ye(this,void 0,void 0,(function(){var r;return $e(this,(function(o){switch(o.label){case 0:return this.performanceClient.setPreQueueTime(je.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,t,n)];case 1:return r=o.sent(),[2,new Bo(r,this.performanceClient)]}}))}))},t}(qo),Xo=function(){function e(e,t,n,r){this.isBrowserEnvironment="undefined"!=typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}return e.prototype.loadExternalTokens=function(e,t,n){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw Pn.createUnableToLoadTokenError("Please ensure server response includes id token.");var r,o,i=new xr(t.id_token,this.cryptoObj);if(e.account){var s=this.loadAccount(i,e.account.environment,void 0,void 0,e.account.homeAccountId);r=new bo(s,this.loadIdToken(i,s.homeAccountId,e.account.environment,e.account.tenantId),this.loadAccessToken(e,t,s.homeAccountId,e.account.environment,e.account.tenantId,n),this.loadRefreshToken(e,t,s.homeAccountId,e.account.environment))}else{if(!e.authority)throw Pn.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var a=Mo.generateAuthority(e.authority,e.azureCloudOptions),c={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};if(o=new Mo(a,this.config.system.networkClient,this.storage,c,this.logger),n.clientInfo){this.logger.trace("TokenCache - homeAccountId from options");s=this.loadAccount(i,o.hostnameAndPort,n.clientInfo,o.authorityType);r=new bo(s,this.loadIdToken(i,s.homeAccountId,o.hostnameAndPort,o.tenant),this.loadAccessToken(e,t,s.homeAccountId,o.hostnameAndPort,o.tenant,n),this.loadRefreshToken(e,t,s.homeAccountId,o.hostnameAndPort))}else{if(!t.client_info)throw Pn.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response");s=this.loadAccount(i,o.hostnameAndPort,t.client_info,o.authorityType);r=new bo(s,this.loadIdToken(i,s.homeAccountId,o.hostnameAndPort,o.tenant),this.loadAccessToken(e,t,s.homeAccountId,o.hostnameAndPort,o.tenant,n),this.loadRefreshToken(e,t,s.homeAccountId,o.hostnameAndPort))}}return this.generateAuthenticationResult(e,i,r,o)},e.prototype.loadAccount=function(e,t,n,r,o){var i;if(o?i=o:void 0!==r&&n&&(i=Mr.generateHomeAccountId(n,r,this.logger,this.cryptoObj,e)),!i)throw Pn.createUnableToLoadTokenError("Unexpected missing homeAccountId");var s=n?Mr.createAccount(n,i,e,void 0,void 0,void 0,t):Mr.createGenericAccount(i,e,void 0,void 0,void 0,t);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(s),s;throw Pn.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadIdToken=function(e,t,n,r){var o=rr.createIdTokenEntity(t,n,e.rawToken,this.config.auth.clientId,r);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(o),o;throw Pn.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadAccessToken=function(e,t,n,r,o,i){if(!t.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!t.expires_in)throw Pn.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!i.extendedExpiresOn)throw Pn.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var s=new kr(e.scopes).printScopes(),a=i.expiresOn||t.expires_in+(new Date).getTime()/1e3,c=i.extendedExpiresOn,l=Dr.createAccessTokenEntity(n,r,t.access_token,this.config.auth.clientId,o,s,a,c,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(l),l;throw Pn.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.loadRefreshToken=function(e,t,n,r){if(!t.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;var o=Ur.createRefreshTokenEntity(n,r,t.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(o),o;throw Pn.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},e.prototype.generateAuthenticationResult=function(e,t,n,r){var o,i,s,a,c=h.EMPTY_STRING,l=[],u=null;(null==n?void 0:n.accessToken)&&(c=n.accessToken.secret,l=kr.fromString(n.accessToken.target).asArray(),u=new Date(1e3*Number(n.accessToken.expiresOn)),a=new Date(1e3*Number(n.accessToken.extendedExpiresOn)));var d=(null==t?void 0:t.claims.oid)||(null==t?void 0:t.claims.sub)||h.EMPTY_STRING,p=(null==t?void 0:t.claims.tid)||h.EMPTY_STRING;return{authority:r?r.canonicalAuthority:h.EMPTY_STRING,uniqueId:d,tenantId:p,scopes:l,account:(null==n?void 0:n.account)?n.account.getAccountInfo():null,idToken:t?t.rawToken:h.EMPTY_STRING,idTokenClaims:t?t.claims:{},accessToken:c,fromCache:!0,expiresOn:u,correlationId:e.correlationId||h.EMPTY_STRING,requestId:h.EMPTY_STRING,extExpiresOn:a,familyId:h.EMPTY_STRING,tokenType:(null===(o=null==n?void 0:n.accessToken)||void 0===o?void 0:o.tokenType)||h.EMPTY_STRING,state:h.EMPTY_STRING,cloudGraphHostName:(null===(i=null==n?void 0:n.account)||void 0===i?void 0:i.cloudGraphHostName)||h.EMPTY_STRING,msGraphHost:(null===(s=null==n?void 0:n.account)||void 0===s?void 0:s.msGraphHost)||h.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},e}(),Zo=function(e){function t(t){var n=e.call(this,t)||this;return n.includeRedirectUri=!1,n}return Ge(t,e),t}(_o),ei=function(e){function t(t,n,r,o,i,s,a,c,l,u){var d=e.call(this,t,n,r,o,i,s,c,l,u)||this;return d.apiId=a,d}return Ge(t,e),t.prototype.acquireToken=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s;return $e(this,(function(a){switch(a.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw Pn.createAuthCodeRequiredError();return this.performanceClient.setPreQueueTime(je.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,it.Silent)];case 1:t=a.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||h.EMPTY_STRING,t.account||null),n=this.initializeServerTelemetryManager(this.apiId),a.label=2;case 2:return a.trys.push([2,4,,5]),r=We(We({},t),{code:e.code}),this.performanceClient.setPreQueueTime(je.StandardInteractionClientGetClientConfiguration,e.correlationId),[4,this.getClientConfiguration(n,t.authority)];case 3:return o=a.sent(),i=new Zo(o),this.logger.verbose("Auth code client created"),[2,new $o(i,this.browserStorage,r,this.logger,this.config.system,this.performanceClient).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t.state,i.authority,this.networkClient,!1)];case 4:throw(s=a.sent())instanceof W&&s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s),this.browserStorage.cleanRequestByState(t.state),s;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(Pn.createSilentLogoutUnsupportedError())},t}(qo),ti=function(){function e(t,n){this.correlationId=n,this.measureName=e.makeMeasureName(t,n),this.startMark=e.makeStartMark(t,n),this.endMark=e.makeEndMark(t,n)}return e.makeMeasureName=function(e,t){return"msal.measure."+e+"."+t},e.makeStartMark=function(e,t){return"msal.start."+e+"."+t},e.makeEndMark=function(e,t){return"msal.end."+e+"."+t},e.supportsBrowserPerformance=function(){return"undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.mark&&"function"==typeof window.performance.measure&&"function"==typeof window.performance.clearMarks&&"function"==typeof window.performance.clearMeasures&&"function"==typeof window.performance.getEntriesByName},e.flushMeasurements=function(t,n){if(e.supportsBrowserPerformance())try{n.forEach((function(n){var r=e.makeMeasureName(n.name,t);window.performance.getEntriesByName(r,"measure").length>0&&(window.performance.clearMeasures(r),window.performance.clearMarks(e.makeStartMark(r,t)),window.performance.clearMarks(e.makeEndMark(r,t)))}))}catch(e){}},e.prototype.startMeasurement=function(){if(e.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch(e){}},e.prototype.endMeasurement=function(){if(e.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch(e){}},e.prototype.flushMeasurement=function(){if(e.supportsBrowserPerformance())try{var t=window.performance.getEntriesByName(this.measureName,"measure");if(t.length>0){var n=t[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),n}}catch(e){}return null},e}(),ni=function(e){function t(t,n,r,o,i,s,a){var c=e.call(this,t,n,r,o,i,s)||this;return c.browserCrypto=new zn(c.logger,a),c.guidGenerator=new Ot(c.browserCrypto),c}return Ge(t,e),t.prototype.startPerformanceMeasuremeant=function(e,t){return new ti(e,t)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var e;return(null===(e=document.visibilityState)||void 0===e?void 0:e.toString())||null},t.prototype.deleteIncompleteSubMeasurements=function(e){var t=this.eventsByCorrelationId.get(e.event.correlationId),n=t&&t.eventId===e.event.eventId,r=[];n&&(null==t?void 0:t.incompleteSubMeasurements)&&t.incompleteSubMeasurements.forEach((function(e){r.push(We({},e))})),r.length>0&&ti.flushMeasurements(e.event.correlationId,r)},t.prototype.supportsBrowserPerformanceNow=function(){return"undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.now},t.prototype.startMeasurement=function(t,n){var r=this,o=this.getPageVisibility(),i=e.prototype.startMeasurement.call(this,t,n);return We(We({},i),{endMeasurement:function(e){var t=i.endMeasurement(We({startPageVisibility:o,endPageVisibility:r.getPageVisibility()},e));return r.deleteIncompleteSubMeasurements(i),t},discardMeasurement:function(){i.discardMeasurement(),r.deleteIncompleteSubMeasurements(i),i.measurement.flushMeasurement()}})},t.prototype.setPreQueueTime=function(e,t){if(this.supportsBrowserPerformanceNow())if(t){var n=this.preQueueTimeByCorrelationId.get(t);n&&(this.logger.trace("BrowserPerformanceClient: Incomplete pre-queue "+n.name+" found",t),this.addQueueMeasurement(n.name,t,void 0,!0)),this.preQueueTimeByCorrelationId.set(t,{name:e,time:window.performance.now()})}else this.logger.trace("BrowserPerformanceClient: correlationId for "+e+" not provided, unable to set telemetry queue time");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for "+e)},t.prototype.addQueueMeasurement=function(t,n,r,o){if(this.supportsBrowserPerformanceNow())if(n){var i=e.prototype.getPreQueueTime.call(this,t,n);if(i){var s=window.performance.now(),a=r||e.prototype.calculateQueuedTime.call(this,i,s);return e.prototype.addQueueMeasurement.call(this,t,n,a,o)}}else this.logger.trace("BrowserPerformanceClient: correlationId for "+t+" not provided, unable to add queue measurement");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to add queue measurement for "+t)},t}(Xn),ri=function(){function e(e){var t,n,r;this.isBrowserEnvironment="undefined"!=typeof window,this.config=function(e,t){var n=e.auth,r=e.cache,o=e.system,i=e.telemetry,s={clientId:h.EMPTY_STRING,authority:""+h.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:h.EMPTY_STRING,authorityMetadata:h.EMPTY_STRING,redirectUri:h.EMPTY_STRING,postLogoutRedirectUri:h.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:zr.AAD,azureCloudOptions:{azureCloudInstance:Wr.None,tenant:h.EMPTY_STRING},skipAuthorityMetadataCache:!1},a={cacheLocation:Ze.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==Ze.LocalStorage)},c={loggerCallback:function(){},logLevel:G.Info,piiLoggingEnabled:!1},l=We(We({},Jr),{loggerOptions:c,networkClient:t?ao.getBrowserNetworkClient():oo,navigationClient:new co,loadFrameTimeout:0,windowHashTimeout:(null==o?void 0:o.loadFrameTimeout)||6e4,iframeHashTimeout:(null==o?void 0:o.loadFrameTimeout)||lo,navigateFrameWait:t&&ao.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(null==o?void 0:o.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:yt,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),u=We(We({},o),{loggerOptions:(null==o?void 0:o.loggerOptions)||c}),d={application:{appName:h.EMPTY_STRING,appVersion:h.EMPTY_STRING}};return{auth:We(We({},s),n),cache:We(We({},a),r),system:We(We({},l),u),telemetry:We(We({},d),i)}}(e,this.isBrowserEnvironment),this.initialized=!1,this.logger=new Fe(this.config.system.loggerOptions,ho,po),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new ni(this.config.auth.clientId,this.config.auth.authority,this.logger,ho,po,this.config.telemetry.application,this.config.system.cryptoOptions):new er(this.config.auth.clientId,this.config.auth.authority,this.logger,ho,po,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new Jn(this.logger,this.performanceClient,this.config.system.cryptoOptions):tr,this.eventHandler=new go(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Qr(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):(t=this.config.auth.clientId,n=this.logger,r={cacheLocation:Ze.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1},new Qr(t,r,tr,n));var o={cacheLocation:Ze.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1};this.nativeInternalStorage=new Qr(this.config.auth.clientId,o,this.browserCrypto,this.logger),this.tokenCache=new Xo(this.config,this.browserStorage,this.logger,this.browserCrypto),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}return e.prototype.initialize=function(){return Ye(this,void 0,void 0,(function(){var e,t,n,r;return $e(this,(function(o){switch(o.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(e=this.config.system.allowNativeBroker,t=this.performanceClient.startMeasurement(je.InitializeClientApplication),this.eventHandler.emitEvent(uo.INITIALIZE_START),!e)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),n=this,[4,jo.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)];case 2:return n.nativeExtensionProvider=o.sent(),[3,4];case 3:return r=o.sent(),this.logger.verbose(r),[3,4];case 4:return this.initialized=!0,this.eventHandler.emitEvent(uo.INITIALIZE_END),t.endMeasurement({allowNativeBroker:e,success:!0}),[2]}}))}))},e.prototype.handleRedirectPromise=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,c,l=this;return $e(this,(function(u){return this.logger.verbose("handleRedirectPromise called"),ao.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t=this.getAllAccounts(),this.isBrowserEnvironment?(n=e||h.EMPTY_STRING,void 0===(r=this.redirectResponse.get(n))?(this.eventHandler.emitEvent(uo.HANDLE_REDIRECT_START,it.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getCachedNativeRequest(),i=void 0,o&&jo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),s=new Go(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId),i=s.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),a=this.browserStorage.getTemporaryCache(tt.CORRELATION_ID,!0)||h.EMPTY_STRING,c=this.createRedirectClient(a),i=c.handleRedirectPromise(e)),r=i.then((function(e){e&&(t.length<l.getAllAccounts().length?(l.eventHandler.emitEvent(uo.LOGIN_SUCCESS,it.Redirect,e),l.logger.verbose("handleRedirectResponse returned result, login success")):(l.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_SUCCESS,it.Redirect,e),l.logger.verbose("handleRedirectResponse returned result, acquire token success")));return l.eventHandler.emitEvent(uo.HANDLE_REDIRECT_END,it.Redirect),e})).catch((function(e){throw t.length>0?l.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_FAILURE,it.Redirect,null,e):l.eventHandler.emitEvent(uo.LOGIN_FAILURE,it.Redirect,null,e),l.eventHandler.emitEvent(uo.HANDLE_REDIRECT_END,it.Redirect),e})),this.redirectResponse.set(n,r)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,r]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])}))}))},e.prototype.acquireTokenRedirect=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s=this;return $e(this,(function(a){return t=this.getRequestCorrelationId(e),this.logger.verbose("acquireTokenRedirect called",t),this.preflightBrowserEnvironmentCheck(it.Redirect),(n=this.getAllAccounts().length>0)?this.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_START,it.Redirect,e):this.eventHandler.emitEvent(uo.LOGIN_START,it.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)?(o=new Go(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId),r=o.acquireTokenRedirect(e).catch((function(t){if(t instanceof Uo&&t.isFatal())return s.nativeExtensionProvider=void 0,s.createRedirectClient(e.correlationId).acquireToken(e);if(t instanceof pt)return s.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),s.createRedirectClient(e.correlationId).acquireToken(e);throw s.browserStorage.setInteractionInProgress(!1),t}))):(i=this.createRedirectClient(e.correlationId),r=i.acquireToken(e)),[2,r.catch((function(e){throw n?s.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_FAILURE,it.Redirect,null,e):s.eventHandler.emitEvent(uo.LOGIN_FAILURE,it.Redirect,null,e),e}))]}))}))},e.prototype.acquireTokenPopup=function(e){var t=this,n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(je.AcquireTokenPopup,n);try{this.logger.verbose("acquireTokenPopup called",n),this.preflightBrowserEnvironmentCheck(it.Popup)}catch(e){return Promise.reject(e)}var o,i=this.getAllAccounts();(i.length>0?this.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_START,it.Popup,e):this.eventHandler.emitEvent(uo.LOGIN_START,it.Popup,e),this.canUseNative(e))?o=this.acquireTokenNative(e,ot.acquireTokenPopup).then((function(e){return t.browserStorage.setInteractionInProgress(!1),r.endMeasurement({success:!0,isNativeBroker:!0,requestId:e.requestId}),e})).catch((function(n){if(n instanceof Uo&&n.isFatal())return t.nativeExtensionProvider=void 0,t.createPopupClient(e.correlationId).acquireToken(e);if(n instanceof pt)return t.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),t.createPopupClient(e.correlationId).acquireToken(e);throw t.browserStorage.setInteractionInProgress(!1),n})):o=this.createPopupClient(e.correlationId).acquireToken(e);return o.then((function(e){return i.length<t.getAllAccounts().length?t.eventHandler.emitEvent(uo.LOGIN_SUCCESS,it.Popup,e):t.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_SUCCESS,it.Popup,e),r.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),r.endMeasurement({success:!0,requestId:e.requestId}),e})).catch((function(e){return i.length>0?t.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_FAILURE,it.Popup,null,e):t.eventHandler.emitEvent(uo.LOGIN_FAILURE,it.Popup,null,e),r.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),Promise.reject(e)}))},e.prototype.trackPageVisibilityWithMeasurement=function(){var e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))},e.prototype.ssoSilent=function(e){var t;return Ye(this,void 0,void 0,(function(){var n,r,o,i,s=this;return $e(this,(function(a){return n=this.getRequestCorrelationId(e),r=We(We({},e),{prompt:e.prompt,correlationId:n}),this.preflightBrowserEnvironmentCheck(it.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(je.SsoSilent,n),null===(t=this.ssoSilentMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(uo.SSO_SILENT_START,it.Silent,r),this.canUseNative(r)?o=this.acquireTokenNative(r,ot.ssoSilent).catch((function(e){if(e instanceof Uo&&e.isFatal())return s.nativeExtensionProvider=void 0,s.createSilentIframeClient(r.correlationId).acquireToken(r);throw e})):(i=this.createSilentIframeClient(r.correlationId),o=i.acquireToken(r)),[2,o.then((function(e){var t,n;return s.eventHandler.emitEvent(uo.SSO_SILENT_SUCCESS,it.Silent,e),null===(t=s.ssoSilentMeasurement)||void 0===t||t.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),null===(n=s.ssoSilentMeasurement)||void 0===n||n.endMeasurement({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw s.eventHandler.emitEvent(uo.SSO_SILENT_FAILURE,it.Silent,null,e),null===(t=s.ssoSilentMeasurement)||void 0===t||t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",s.trackPageVisibilityWithMeasurement)}))]}))}))},e.prototype.acquireTokenByCode=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i=this;return $e(this,(function(s){t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(it.Silent),this.logger.trace("acquireTokenByCode called",t),this.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_BY_CODE_START,it.Silent,e),n=this.performanceClient.startMeasurement(je.AcquireTokenByCode,e.correlationId);try{if(e.code&&e.nativeAccountId)throw Pn.createSpaCodeAndNativeAccountIdPresentError();if(e.code)return r=e.code,(o=this.hybridAuthCodeResponses.get(r))?(this.logger.verbose("Existing acquireTokenByCode request found",e.correlationId),n.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(We(We({},e),{correlationId:t})).then((function(e){return i.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_BY_CODE_SUCCESS,it.Silent,e),i.hybridAuthCodeResponses.delete(r),n.addStaticFields({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),n.endMeasurement({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){throw i.hybridAuthCodeResponses.delete(r),i.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_BY_CODE_FAILURE,it.Silent,null,e),n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})),this.hybridAuthCodeResponses.set(r,o)),[2,o];if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return[2,this.acquireTokenNative(e,ot.acquireTokenByCode,e.nativeAccountId).catch((function(e){throw e instanceof Uo&&e.isFatal()&&(i.nativeExtensionProvider=void 0),e}))];throw Pn.createUnableToAcquireTokenFromNativePlatformError()}throw Pn.createAuthCodeOrNativeAccountIdRequiredError()}catch(e){throw this.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_BY_CODE_FAILURE,it.Silent,null,e),n.endMeasurement({errorCode:e instanceof W&&e.errorCode||void 0,subErrorCode:e instanceof W&&e.subError||void 0,success:!1}),e}return[2]}))}))},e.prototype.acquireTokenByCodeAsync=function(e){var t;return Ye(this,void 0,void 0,(function(){var n=this;return $e(this,(function(r){switch(r.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(je.AcquireTokenByCodeAsync,e.correlationId),null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),[4,this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then((function(e){var t;return null===(t=n.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.endMeasurement({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw null===(t=n.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",n.trackPageVisibilityWithMeasurement)}))];case 1:return[2,r.sent()]}}))}))},e.prototype.acquireTokenFromCache=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){switch(this.performanceClient.addQueueMeasurement(je.AcquireTokenFromCache,t.correlationId),n.cacheLookupPolicy){case It.Default:case It.AccessToken:case It.AccessTokenAndRefreshToken:return[2,e.acquireToken(t)];default:throw Ue.createRefreshRequiredError()}return[2]}))}))},e.prototype.acquireTokenByRefreshToken=function(e,t){return Ye(this,void 0,void 0,(function(){var n;return $e(this,(function(r){switch(this.performanceClient.addQueueMeasurement(je.AcquireTokenByRefreshToken,e.correlationId),t.cacheLookupPolicy){case It.Default:case It.AccessTokenAndRefreshToken:case It.RefreshToken:case It.RefreshTokenAndNetwork:return n=this.createSilentRefreshClient(e.correlationId),this.performanceClient.setPreQueueTime(je.SilentRefreshClientAcquireToken,e.correlationId),[2,n.acquireToken(e)];default:throw Ue.createRefreshRequiredError()}return[2]}))}))},e.prototype.acquireTokenBySilentIframe=function(e){return Ye(this,void 0,void 0,(function(){var t;return $e(this,(function(n){return this.performanceClient.addQueueMeasurement(je.AcquireTokenBySilentIframe,e.correlationId),t=this.createSilentIframeClient(e.correlationId),this.performanceClient.setPreQueueTime(je.SilentIframeClientAcquireToken,e.correlationId),[2,t.acquireToken(e)]}))}))},e.prototype.logout=function(e){return Ye(this,void 0,void 0,(function(){var t;return $e(this,(function(n){return t=this.getRequestCorrelationId(e),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),[2,this.logoutRedirect(We({correlationId:t},e))]}))}))},e.prototype.logoutRedirect=function(e){return Ye(this,void 0,void 0,(function(){var t;return $e(this,(function(n){return t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(it.Redirect),[2,this.createRedirectClient(t).logout(e)]}))}))},e.prototype.logoutPopup=function(e){try{var t=this.getRequestCorrelationId(e);return this.preflightBrowserEnvironmentCheck(it.Popup),this.createPopupClient(t).logout(e)}catch(e){return Promise.reject(e)}},e.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},e.prototype.getAccountByUsername=function(e){if(this.logger.trace("getAccountByUsername called"),!e)return this.logger.warning("getAccountByUsername: No username provided"),null;var t=this.browserStorage.getAccountInfoFilteredBy({username:e});return t?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: "+e),t):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},e.prototype.getAccountByHomeId=function(e){if(this.logger.trace("getAccountByHomeId called"),!e)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;var t=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:e});return t?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: "+e),t):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},e.prototype.getAccountByLocalId=function(e){if(this.logger.trace("getAccountByLocalId called"),!e)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;var t=this.browserStorage.getAccountInfoFilteredBy({localAccountId:e});return t?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: "+e),t):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},e.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},e.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},e.prototype.preflightBrowserEnvironmentCheck=function(e,t){if(void 0===t&&(t=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),ao.blockNonBrowserEnvironment(this.isBrowserEnvironment),ao.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),ao.blockReloadInHiddenIframes(),ao.blockAcquireTokenInPopups(),ao.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e===it.Redirect&&this.config.cache.cacheLocation===Ze.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Kn.createInMemoryRedirectUnavailableError();e!==it.Redirect&&e!==it.Popup||this.preflightInteractiveRequest(t)},e.prototype.preflightInteractiveRequest=function(e){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),ao.blockReloadInHiddenIframes(),e&&this.browserStorage.setInteractionInProgress(!0)},e.prototype.acquireTokenNative=function(e,t,n){return Ye(this,void 0,void 0,(function(){return $e(this,(function(r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Pn.createNativeConnectionNotEstablishedError();return[2,new Go(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)]}))}))},e.prototype.canUseNative=function(e,t){if(this.logger.trace("canUseNative called"),!jo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case m.NONE:case m.CONSENT:case m.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+e.prompt+" is not compatible with native flow, returning false"),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)},e.prototype.getNativeAccountId=function(e){var t=e.account||this.browserStorage.getAccountInfoByHints(e.loginHint,e.sid)||this.getActiveAccount();return t&&t.nativeAccountId||""},e.prototype.createPopupClient=function(e){return new Wo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createRedirectClient=function(e){return new Yo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createSilentIframeClient=function(e){return new Qo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createSilentCacheClient=function(e){return new Ko(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.createSilentRefreshClient=function(e){return new Jo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.createSilentAuthCodeClient=function(e){return new ei(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},e.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},e.prototype.addPerformanceCallback=function(e){return this.performanceClient.addPerformanceCallback(e)},e.prototype.removePerformanceCallback=function(e){return this.performanceClient.removePerformanceCallback(e)},e.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},e.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},e.prototype.getTokenCache=function(){return this.tokenCache},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.initializeWrapperLibrary=function(e,t){this.browserStorage.setWrapperMetadata(e,t)},e.prototype.setNavigationClient=function(e){this.navigationClient=e},e.prototype.getConfiguration=function(){return this.config},e.prototype.getRequestCorrelationId=function(e){return(null==e?void 0:e.correlationId)?e.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():h.EMPTY_STRING},e}(),oi=function(e){function t(t){var n=e.call(this,t)||this;return n.astsAsyncMeasurement=void 0,n.activeSilentTokenRequests=new Map,n.trackPageVisibility=n.trackPageVisibility.bind(n),n}return Ge(t,e),t.prototype.loginRedirect=function(e){return Ye(this,void 0,void 0,(function(){var t;return $e(this,(function(n){return t=this.getRequestCorrelationId(e),this.logger.verbose("loginRedirect called",t),[2,this.acquireTokenRedirect(We({correlationId:t},e||St))]}))}))},t.prototype.loginPopup=function(e){var t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(We({correlationId:t},e||St))},t.prototype.acquireTokenSilent=function(e){return Ye(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,c=this;return $e(this,(function(l){if(t=this.getRequestCorrelationId(e),(n=this.performanceClient.startMeasurement(je.AcquireTokenSilent,t)).addStaticFields({cacheLookupPolicy:e.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(it.Silent),this.logger.verbose("acquireTokenSilent called",t),!(r=e.account||this.getActiveAccount()))throw Pn.createNoAccountError();return o={clientId:this.config.auth.clientId,authority:e.authority||h.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},i=JSON.stringify(o),void 0===(s=this.activeSilentTokenRequests.get(i))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t),this.performanceClient.setPreQueueTime(je.AcquireTokenSilentAsync,t),a=this.acquireTokenSilentAsync(We(We({},e),{correlationId:t}),r).then((function(t){return c.activeSilentTokenRequests.delete(i),n.addStaticFields({accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),n.endMeasurement({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:t.requestId}),t})).catch((function(e){throw c.activeSilentTokenRequests.delete(i),n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})),this.activeSilentTokenRequests.set(i,a),[2,a]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discardMeasurement(),[2,s])}))}))},t.prototype.trackPageVisibility=function(){this.astsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.astsAsyncMeasurement.increment({visibilityChangeCount:1}))},t.prototype.acquireTokenSilentAsync=function(e,t){var n;return Ye(this,void 0,void 0,(function(){var r,o,i,s,a,c=this;return $e(this,(function(l){switch(l.label){case 0:return this.performanceClient.addQueueMeasurement(je.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_START,it.Silent,e),this.astsAsyncMeasurement=this.performanceClient.startMeasurement(je.AcquireTokenSilentAsync,e.correlationId),null===(n=this.astsAsyncMeasurement)||void 0===n||n.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),jo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&t.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),o=We(We({},e),{account:t}),r=this.acquireTokenNative(o,ot.acquireTokenSilent_silentFlow).catch((function(t){return Ye(c,void 0,void 0,(function(){return $e(this,(function(n){if(t instanceof Uo&&t.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)];throw t}))}))})),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),i=this.createSilentCacheClient(e.correlationId),this.performanceClient.setPreQueueTime(je.InitializeSilentRequest,e.correlationId),[4,i.initializeSilentRequest(e,t)];case 2:s=l.sent(),a=We(We({},e),{cacheLookupPolicy:e.cacheLookupPolicy||It.Default}),this.performanceClient.setPreQueueTime(je.AcquireTokenFromCache,s.correlationId),r=this.acquireTokenFromCache(i,s,a).catch((function(t){if(a.cacheLookupPolicy===It.AccessToken)throw t;return ao.blockReloadInHiddenIframes(),c.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_NETWORK_START,it.Silent,s),c.performanceClient.setPreQueueTime(je.AcquireTokenByRefreshToken,s.correlationId),c.acquireTokenByRefreshToken(s,a).catch((function(t){var n=t instanceof ct,r=t instanceof pt,o=t.errorCode===ft;if((!n||!o||r||a.cacheLookupPolicy===It.AccessTokenAndRefreshToken||a.cacheLookupPolicy===It.RefreshToken)&&a.cacheLookupPolicy!==It.Skip)throw t;return c.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",e.correlationId),c.performanceClient.setPreQueueTime(je.AcquireTokenBySilentIframe,s.correlationId),c.acquireTokenBySilentIframe(s)}))})),l.label=3;case 3:return[2,r.then((function(e){var t;return c.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_SUCCESS,it.Silent,e),null===(t=c.astsAsyncMeasurement)||void 0===t||t.endMeasurement({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e})).catch((function(e){var t;throw c.eventHandler.emitEvent(uo.ACQUIRE_TOKEN_FAILURE,it.Silent,null,e),null===(t=c.astsAsyncMeasurement)||void 0===t||t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((function(){document.removeEventListener("visibilitychange",c.trackPageVisibility)}))]}}))}))},t}(ri),ii=function(){return ii=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ii.apply(this,arguments)},si={auth:{clientId:"",authority:"",redirectUri:"",knownAuthorities:["bankofthailandtestb2c.b2clogin.com"],navigateToLoginRequestUrl:!1},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(e,t,n){if(!n)switch(e){case G.Error:return void console.error(t);case G.Info:return void console.info(t);case G.Verbose:return void console.debug(t);case G.Warning:return void console.warn(t)}}}}},ai=function(){function e(e,t,n,r,o,i){this.KEY_PRELOGIN_PAGE="bot.login.preloginpage",this.COOKIE_BOT_TOKEN="botToken",si.auth.authority=t,si.auth.clientId=e,si.auth.redirectUri=n,si.auth.knownAuthorities=[t],this.caller=r,this.onLoginSuccessCallback=o,this.onLoginFailureCallback=i,this.myMSALObj=new oi(si),this.account=null,this.loginRequest={scopes:["openid","profile","offline_access"],extraQueryParameters:{ui_locales:"th"}},this.loginRedirectRequest=ii(ii({},this.loginRequest),{redirectStartPage:window.location.href}),this.silentLoginRequest={}}return e.prototype.savePreLoginPage=function(e){var t=e||window.location.href;window.sessionStorage.setItem(this.KEY_PRELOGIN_PAGE,t)},e.prototype.getAccount=function(){var e=this.myMSALObj.getAllAccounts();return null===e?(console.log("No accounts detected"),null):e.length>1?(console.log("Multiple accounts detected, need to add choose account code."),e[0]):1===e.length?e[0]:null},e.prototype.loadAuthModule=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=void 0),this.myMSALObj.handleRedirectPromise().then((function(r){n.handleResponse(r,e,t)})).catch((function(){e?n.login(t):n.onLoginFailureCallback.apply(n.caller)}))},e.prototype.handleResponse=function(e,t,n){var r=this;if(this.account=null!==e?e.account:this.getAccount(),this.account){var o={scopes:[],account:this.account};this.myMSALObj.acquireTokenSilent(o).then((function(e){r.setCookie(e),r.redirectToPreLoginPage(n)})),this.onLoginSuccessCallback.apply(this.caller,[this.account])}else t?this.login(n):this.attemptSsoSilent()},e.prototype.removeCookie=function(){document.cookie=this.COOKIE_BOT_TOKEN+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},e.prototype.setCookie=function(e){e&&(document.cookie="".concat(this.COOKIE_BOT_TOKEN,"=").concat(e.idToken,"; path=/"))},e.prototype.redirectToPreLoginPage=function(e){void 0===e&&(e=void 0);var t=e||window.sessionStorage.getItem(this.KEY_PRELOGIN_PAGE);return!!t&&(window.sessionStorage.removeItem(this.KEY_PRELOGIN_PAGE),window.location.href=t,!0)},e.prototype.attemptSsoSilent=function(){var e=this;this.myMSALObj.ssoSilent(this.silentLoginRequest).then((function(){e.account=e.getAccount(),e.account?e.onLoginSuccessCallback.apply(e.caller,[e.account]):console.log("No account!")})).catch((function(t){console.error("Silent Error: "+t),e.onLoginFailureCallback.apply(e.caller)}))},e.prototype.login=function(e){void 0===e&&(e=void 0),this.savePreLoginPage(e),this.myMSALObj.loginRedirect(this.loginRedirectRequest)},e.prototype.logout=function(){var e;this.removeCookie(),this.account&&(e=this.account);var t={account:e};this.myMSALObj.logoutRedirect(t)},e.prototype.isLoggedIn=function(){return null!==this.getAccount()},e}(),ci=(n(667),n(14),n(572),n(971),n(529),n(573)),li=n.n(ci),ui=function(){function e(e){this.playerWrapper=e.querySelector(".js--player"),this.prev=document.querySelector(".column-container .swiper-button-prev"),this.next=document.querySelector(".column-container .swiper-button-next"),this.close=e.closest(".gallery__container").querySelector(".close"),this.playerWrapper&&(this.playerEl=this.playerWrapper.querySelector(".c-player-wrapper__player"),this.videoId=this.playerWrapper.getAttribute("data-id"),this.btnPlay=e.querySelector("img"),this.element=e,this.player=new(li())(this.playerEl,{host:"https://www.youtube.com",annotations:!1,controls:!0,related:!1,playerVars:{enablejsapi:1,origin:window.location.href},width:"100%",playsInline:!0})),this.initVideo()}return e.prototype.initVideo=function(){var e=this;this.videoId&&(this.player.on("cued",(function(){e.iframe=e.player._player.h})),this.player.load(this.videoId),this.btnPlay.addEventListener("click",(function(){e.play(e.playerEl.id),e.playerWrapper.classList.remove("d-none"),e.btnPlay.classList.add("d-none"),e.btnPlay.classList.remove("d-block")})),this.prev&&this.prev.addEventListener("click",(function(){e.stop()})),this.next&&this.next.addEventListener("click",(function(){e.stop()})),this.playerWrapper.querySelector(".js--btn-close").addEventListener("click",(function(){e.stop()})))},e.prototype.play=function(e){this.player.play(),document.querySelector("body").append(this.playerWrapper),this.playerWrapper.classList.add("show");document.getElementById(e)},e.prototype.stop=function(){this.player.stop(),this.playerWrapper.classList.remove("show"),this.playerWrapper.classList.add("d-none"),this.btnPlay.classList.remove("d-none"),this.btnPlay.classList.add("d-block")},e.prototype.getPlayer=function(){return this.player},e}();window.addEventListener("DOMContentLoaded",(function(){var e=Array.from(document.querySelectorAll(".gallery__container .mySlides"));e.length&&e.forEach((function(e){new ui(e)}))}));n(744);var di=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},hi=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},pi=function(){function e(){var e,t,n,r;this.initialState={body:null,header:null,hamburger:{icon:null,active:!1},profile:{notification:null,myAccount:null},navbarListMenu:null,currentActiveListItem:null,topMenuActiveItem:null,breakingNews:null,headerHeight:0,learnMore:null},this.initialState.body=document.querySelector("body"),this.initialState.header=this.initialState.body.querySelector(".main-header"),this.initialState.breakingNews=null===(e=this.initialState.header)||void 0===e?void 0:e.querySelector(".header-breaking-news"),this.initialState.learnMore=null===(t=this.initialState.header)||void 0===t?void 0:t.querySelector(".header-learn-more"),this.initialState.profile.notification=null===(n=this.initialState.header)||void 0===n?void 0:n.querySelector(".profile-section .notification-icon"),this.initialState.profile.myAccount=null===(r=this.initialState.header)||void 0===r?void 0:r.querySelector(".profile-section .my-profile-icon"),this.initialState.header&&this.init()}return e.prototype.init=function(){var e=this.initialState,t=e.header;e.breakingNews&&this.initPlayPauseButton(),this.initialState.headerHeight=t.offsetHeight,this.initScrollEvent(),this.initialState.hamburger.icon=t.querySelector(".breadcrumb-icon"),window.innerWidth<1200&&(this.initMenuEvent(),this.initMegaMenuEvent(),this.initBackButtonEvent(),this.initMegaMenuListEvent()),this.initialState.profile.myAccount&&this.initLogin()},e.prototype.initPlayPauseButton=function(){var e,t=this,n=this.initialState.breakingNews;null===(e=n.querySelector(".breaking-news-button"))||void 0===e||e.addEventListener("click",(function(){var e=n.classList.contains("pause-news");t.toggleClass(n,"pause-news",e)}))},e.prototype.initMegaMenuListEvent=function(){var e=this,t=null===document||void 0===document?void 0:document.querySelectorAll(".mega-item-title");null==t||t.forEach((function(t){t.addEventListener("click",(function(t){var n=t.currentTarget;if(n.parentElement.querySelector(".mega-item-detail")){var r=n.parentElement.classList.contains("show-submenu");e.toggleClass(n.parentElement,"show-submenu",r)}}))}))},e.prototype.initBackButtonEvent=function(){var e=this,t=this.initialState.header,n=null==t?void 0:t.querySelectorAll(".btn-back-mega");null==n||n.forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var n=e.initialState,r=n.navbarListMenu,o=n.currentActiveListItem;r.style.maxHeight=e.calculateMenuMaxHeight(),r.classList.remove("open_mega"),o.classList.remove("active-list-item")}))}))},e.prototype.initMegaMenuEvent=function(){var e=this,t=this.initialState.header,n=null==t?void 0:t.querySelectorAll(".list-menu-for-mobile li");null==n||n.forEach((function(t){t.addEventListener("click",(function(t){var n,r,o=t.currentTarget,i=t.target,s=o.querySelector(".mega-menu-for-mobile");s&&"I"===(null==i?void 0:i.tagName)&&(t.preventDefault(),s.style.maxHeight=e.calculateMenuMaxHeight(),o.classList.add("active-list-item"),e.initialState.navbarListMenu=document.querySelector(".navbar-list-menu"),null===(r=null===(n=e.initialState.navbarListMenu)||void 0===n?void 0:n.classList)||void 0===r||r.add("open_mega"),e.initialState.navbarListMenu.style.maxHeight="none",e.initialState.currentActiveListItem=o)}))}))},e.prototype.initScrollEvent=function(){var e=this,t=this.initialState.header;window.addEventListener("scroll",(function(){var n,r,o=((null===(n=e.initialState.breakingNews)||void 0===n?void 0:n.offsetHeight)||0)+((null===(r=e.initialState.learnMore)||void 0===r?void 0:r.offsetHeight)||0)+85,i=document.body.scrollTop,s=document.documentElement.scrollTop;i>o||s>o?t.classList.add("sticky-header"):(i<=o||s<=o)&&t.classList.remove("sticky-header")}))},e.prototype.calculateMenuMaxHeight=function(){var e=this.initialState,t=e.headerHeight;return e.header.classList.contains("sticky-header")?"".concat(document.documentElement.clientHeight-85,"px"):"".concat(document.documentElement.clientHeight-t-85,"px")},e.prototype.initMenuEvent=function(){var e=this,t=this.initialState,n=t.hamburger.icon,r=t.body,o=t.header;null==n||n.addEventListener("click",(function(){o.querySelector(".navbar-list-menu").style.maxHeight=e.calculateMenuMaxHeight();var t=n.classList.contains("active"),i=o.querySelector(".header-menu");e.toggleClass(n,"active",t),e.toggleClass(r,"open_menu",t),e.toggleClass(i,"open_menu",t)}))},e.prototype.initLogin=function(){var e=this,t=window.location.hash,n=t&&t.startsWith("#botlogin/"),r=n?t.substring("#botlogin/".length):"";r=decodeURIComponent(r),n&&this.removeBotLoginHash();var o=this.initialState.profile,i=(void 0===o?{}:o).myAccount,s=i.getAttribute("data-login-authority"),a=i.getAttribute("data-login-clientid"),c=i.getAttribute("data-login-redirecturi");this.authModule=new ai(a,s,c,this,this.onLoginSuccessCallback,this.onLoginFailureCallback),window.addEventListener("load",(function(){return di(e,void 0,void 0,(function(){return hi(this,(function(e){return this.authModule.loadAuthModule(n,r),[2]}))}))})),i.addEventListener("click",(function(){e.showLoginOrLogoutState()}))},e.prototype.removeBotLoginHash=function(){var e=window.location.toString();if(e.indexOf("#")>0){var t=e.substring(0,e.indexOf("#"));window.history.replaceState?window.history.replaceState({},document.title,t):window.location.hash=""}},e.prototype.showLoginOrLogoutState=function(){this.authModule.isLoggedIn()?this.authModule.logout():this.authModule.login()},e.prototype.onLoginSuccessCallback=function(e){var t=this.initialState.profile,n=(void 0===t?null:t).notification;n&&n.classList.remove("bot-hide"),console.log(e)},e.prototype.onLoginFailureCallback=function(){var e=this.initialState.profile,t=(void 0===e?null:e).notification;t&&t.classList.add("bot-hide")},e.prototype.toggleClass=function(e,t,n){n?e.classList.remove(t):e.classList.add(t)},e}();new pi;var fi=function(){function e(e){this.playerWrapper=e.querySelector(".js--player"),this.imageWrapper=e.querySelector(".c-imgTxt__wrapper__imgColumn"),this.thumbnailImg=this.imageWrapper.querySelector("img"),this.playerWrapper&&(this.playerEl=this.playerWrapper.querySelector(".c-player-wrapper__player"),this.videoId=this.playerWrapper.getAttribute("data-id"),this.btnPlay=e.querySelector(".js--btn-play"),this.btnClose=this.playerWrapper.querySelector(".js--btn-close"),this.explainer3=document.querySelector(".explainer3_image_left .c-imgTxt"),this.videoId||(this.btnPlay.style.display="none"),this.thumbnailImg||(this.ytImageWrapper=document.createElement("img"),this.ytImageWrapper.setAttribute("src","http://img.youtube.com/vi/"+this.videoId+"/0.jpg"),this.imageWrapper.appendChild(this.ytImageWrapper)),this.explainer3&&(this.textWrapper=this.explainer3.querySelector(".c-imgTxt__wrapper__textColumn")),this.element=e,this.player=new(li())(this.playerEl,{host:"https://www.youtube.com",annotations:!1,controls:!0,related:!1,playerVars:{enablejsapi:1,origin:window.location.href}})),this.initVideo()}return e.prototype.initVideo=function(){var e=this;this.textWrapper&&this.explainer3&&this.textWrapper.offsetHeight>this.explainer3.offsetHeight&&window.innerWidth>767&&(this.explainer3.style.height=this.textWrapper.offsetHeight+50+"px"),this.videoId&&(this.player.on("cued",(function(){e.iframe=e.player._player.h})),this.player.load(this.videoId),this.btnPlay.addEventListener("click",(function(){document.querySelector("body").append(e.playerWrapper),e.play(e.playerEl.id),e.btnPlay.classList.add("d-none"),e.btnClose.classList.add("d-block"),e.btnPlay.classList.remove("d-block"),document.querySelector("body").style.overflow="hidden"})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(e.stop(),e.btnPlay.classList.add("d-block"),e.btnClose.classList.add("d-none"),document.querySelector("body").style.overflow="auto")})),this.btnClose.addEventListener("click",(function(){e.stop(),e.btnPlay.classList.add("d-block"),e.btnClose.classList.add("d-none"),document.querySelector("body").style.overflow="auto"})))},e.prototype.play=function(e){this.player.play(),this.playerWrapper.classList.add("show");document.getElementById(e)},e.prototype.stop=function(){this.player.stop(),this.playerWrapper.classList.remove("show")},e.prototype.getPlayer=function(){return this.player},e}();window.addEventListener("DOMContentLoaded",(function(){var e=Array.from(document.querySelectorAll(".explainer2_front_image_left"));e.length&&e.forEach((function(e){new fi(e)}))}));var gi=function(){function e(e){this.playerWrapper=e.querySelector(".js--player"),this.imageWrapper=e.querySelector(".c-imgTxt__wrapper__imgColumn"),this.thumbnailImg=this.imageWrapper.querySelector("img"),this.playerWrapper&&(this.playerEl=this.playerWrapper.querySelector(".c-player-wrapper__player"),this.videoId=this.playerWrapper.getAttribute("data-id"),this.btnPlay=e.querySelector(".js--btn-play"),this.btnClose=this.playerWrapper.querySelector(".js--btn-close"),this.videoId||(this.btnPlay.style.display="none"),this.thumbnailImg||(this.ytImageWrapper=document.createElement("img"),this.ytImageWrapper.setAttribute("src","http://img.youtube.com/vi/"+this.videoId+"/0.jpg"),this.imageWrapper.appendChild(this.ytImageWrapper)),this.element=e,this.player=new(li())(this.playerEl,{host:"https://www.youtube.com",annotations:!1,controls:!0,related:!1,playerVars:{enablejsapi:1,origin:window.location.href}})),this.initVideo()}return e.prototype.initVideo=function(){var e=this;this.videoId&&(this.player.on("cued",(function(){e.iframe=e.player._player.h})),this.player.load(this.videoId),this.btnPlay.addEventListener("click",(function(){document.querySelector("body").append(e.playerWrapper),e.play(e.playerEl.id),e.btnPlay.classList.add("d-none"),e.btnClose.classList.add("d-block"),e.btnPlay.classList.remove("d-block"),document.querySelector("body").style.overflow="hidden"})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(e.stop(),e.btnPlay.classList.add("d-block"),e.btnClose.classList.add("d-none"),document.querySelector("body").style.overflow="auto")})),this.btnClose.addEventListener("click",(function(){e.stop(),e.btnPlay.classList.add("d-block"),e.btnClose.classList.add("d-none"),document.querySelector("body").style.overflow="auto"})))},e.prototype.play=function(e){this.player.play(),this.playerWrapper.classList.add("show");document.getElementById(e)},e.prototype.stop=function(){this.player.stop(),this.playerWrapper.classList.remove("show")},e.prototype.getPlayer=function(){return this.player},e}();window.addEventListener("DOMContentLoaded",(function(){var e=Array.from(document.querySelectorAll(".explainer2_front_image_right"));e.length&&e.forEach((function(e){new gi(e)}))}));n(173),n(338);var mi=n(755),vi=n.n(mi),yi=function(){function e(e){this.headerMenu=document.querySelector(".header-menu"),this.searchWrapper=e.querySelector(".searchWrapper-content"),this.img=e.querySelector(".imgWrapper"),this.myInput=e.querySelector(".fm-control"),this.url=e.getAttribute("data-url"),this.initTemplate(e)}return e.prototype.initTemplate=function(e){this.headerMenu&&(this.searchWrapper.style.paddingTop=this.headerMenu.offsetHeight+"px",this.img.style.height=this.headerMenu.offsetHeight+this.searchWrapper.style.paddingTop+80+"px",e.style.height=this.headerMenu.offsetHeight+this.searchWrapper.style.paddingTop+80+"px"),this.img.style.height=this.searchWrapper.offsetHeight+80+"px",e.style.height=this.searchWrapper.offsetHeight+80+"px",this.myInput&&this.myInput.addEventListener("keyup",(function(e){if("Enter"===e.code){var t=vi()(".searchWrapper .fm-control").val(),n=document.querySelector(".searchWrapper"),r=n.getAttribute("data-url"),o=n.getAttribute("data-pagepath");n.setAttribute("data-text",t),window.location.href=r+t+"&pagePath="+o}}))},e}();window.addEventListener("DOMContentLoaded",(function(){var e=Array.from(document.querySelectorAll(".searchWrapper"));e.length&&e.forEach((function(e){new yi(e)}))}));n(949);var wi=function(){function e(e){var t=this;this.initIntesectionObserver=function(){var e,n;t.linkElements=null===(e=null==t?void 0:t.component)||void 0===e?void 0:e.querySelectorAll(".navigation-link");var r=[],o=new IntersectionObserver((function(e){e.forEach((function(e){var n,r,o,i,s,a,c,l;if(e.isIntersecting&&!document.querySelector("body").classList.contains("stop-intersection")){var u="#"+(null===(n=null==e?void 0:e.target)||void 0===n?void 0:n.id);null===(i=null===(o=null===(r=null==t?void 0:t.component)||void 0===r?void 0:r.querySelector(".active-item"))||void 0===o?void 0:o.classList)||void 0===i||i.remove("active-item"),null===(l=null===(c=null===(a=null===(s=null==t?void 0:t.component)||void 0===s?void 0:s.querySelector('[href="'.concat(u,'"]')))||void 0===a?void 0:a.parentElement)||void 0===c?void 0:c.classList)||void 0===l||l.add("active-item")}}))}),{threshold:[.5,0],rootMargin:"-100px"});null===(n=t.linkElements)||void 0===n||n.forEach((function(e){var t,n=null===(t=null==e?void 0:e.href)||void 0===t?void 0:t.split("#")[1];document.getElementById(n)&&r.push(document.getElementById(n))})),r.forEach((function(e){o.observe(e)}))},this.initStickyBehavior=function(){var e,n,r=null===(e=t.component)||void 0===e?void 0:e.querySelector(".content-wrapper"),o=null===(n=t.component)||void 0===n?void 0:n.querySelector("#ContentSticky"),i=null==o?void 0:o.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,a=(null==i?void 0:i.top)+s;window.addEventListener("scroll",(function(){var e,n,i,s,c;window.pageYOffset>a?((null===(e=null==r?void 0:r.classList)||void 0===e?void 0:e.contains("collapsed"))||document.body.classList.add("anchor-navigation-overlay"),null===(n=null==o?void 0:o.classList)||void 0===n||n.add("sticky")):(o.classList.remove("sticky"),null===(c=null===(s=null===(i=t.component)||void 0===i?void 0:i.querySelector("#ContentSticky .collapse"))||void 0===s?void 0:s.classList)||void 0===c||c.remove("show"),document.body.classList.remove("anchor-navigation-overlay"))}))},this.initProgressBar=function(e){window.addEventListener("scroll",(function(){var t=window.scrollY/(document.documentElement.offsetHeight-window.innerHeight)*100;(null==e?void 0:e.querySelector(".progress-bar")).style.width=t+"%"}))},this.initDropdown=function(){var e,n;null===(n=null===(e=null==t?void 0:t.component)||void 0===e?void 0:e.querySelector(".anchor-navigation-dropdown"))||void 0===n||n.addEventListener("click",(function(){var e,n,r,o=null===(e=t.component)||void 0===e?void 0:e.querySelector(".content-wrapper"),i=null===(n=null==o?void 0:o.classList)||void 0===n?void 0:n.contains("collapsed"),s=null===(r=t.component)||void 0===r?void 0:r.querySelector("#ContentSticky");i&&(null==s?void 0:s.classList.contains("sticky"))?document.body.classList.add("anchor-navigation-overlay"):document.body.classList.remove("anchor-navigation-overlay"),t.toggleClass(o,"collapsed",i)}))},this.initAnchorNavigation=function(){var e;null===(e=t.linkElements)||void 0===e||e.forEach((function(e){null==e||e.addEventListener("click",(function(n){var r,o,i;n.preventDefault(),null===(r=vi()(t.linkElements).parent())||void 0===r||r.removeClass("active-item"),vi()("body").addClass("stop-intersection"),null===(o=vi()(e))||void 0===o||o.parent(".anchor-navigation-list--item").addClass("active-item");var s=n.currentTarget,a=null===(i=null==s?void 0:s.href)||void 0===i?void 0:i.split("#")[1],c=(vi()(".main-header").outerHeight()||vi()(".navbar").outerHeight())+60;window.innerWidth<1199&&(c+=50),vi()("html, body").animate({scrollTop:vi()("#"+a).offset().top-c},0,(function(){setTimeout((function(){vi()("body").removeClass("stop-intersection")}),500)}))}))}))},this.getProgressBarNode=function(){var e=document.createElement("div"),t=document.createElement("div");return e.classList.add("progress-bar-container"),t.classList.add("progress-bar"),e.appendChild(t),e},this.createOverlay=function(e){var n=document.createElement("div");n.classList.add("sticky-anchor-overlay"),n.innerHTML='\n            <button class="close-overlay">\n                <i class="icon-ic-close2"></i>\n            </button>\n            <div class="video-wrapper">\n                <iframe class="ytvideo" width="100%" height="100%" src='.concat(e,"></iframe>\n            </div>   "),document.body.appendChild(n),t.closeOverlay()},this.appendProgressBar=function(){var e;if(window.innerWidth<768){var n=null===(e=t.component)||void 0===e?void 0:e.querySelector(".block-summary-right"),r=t.getProgressBarNode();n.appendChild(r),t.initProgressBar(n)}else{var o=document.querySelector(".main-header");if(o){r=t.getProgressBarNode();null==o||o.appendChild(r),t.initProgressBar(o)}}},this.initVideoPlayer=function(){var e,n=null===(e=t.component)||void 0===e?void 0:e.querySelectorAll(".video-player");null==n||n.forEach((function(e){e.addEventListener("click",(function(e){var n=e.currentTarget,r=null==n?void 0:n.getAttribute("data-video-src");t.createOverlay(r)}))}))},this.initStickyNavClick=function(){var e,n=null===(e=t.component)||void 0===e?void 0:e.querySelector(".content-wrapper");null==n||n.addEventListener("click",(function(){var e,r,o=null===(e=null==n?void 0:n.classList)||void 0===e?void 0:e.contains("collapsed");null===(r=document.body.classList)||void 0===r||r.remove("anchor-navigation-overlay"),t.toggleClass(n,"collapsed",o)}))},this.initEventListeners=function(){window.innerWidth<768&&(t.initStickyBehavior(),t.initDropdown(),t.initStickyNavClick()),t.initVideoPlayer(),t.appendProgressBar(),t.initIntesectionObserver(),t.initAnchorNavigation()},this.component=e,this.component&&this.initEventListeners()}return e.prototype.closeOverlay=function(){var e;null===(e=null===document||void 0===document?void 0:document.querySelector(".sticky-anchor-overlay .close-overlay"))||void 0===e||e.addEventListener("click",(function(){var e=document.querySelector(".sticky-anchor-overlay");e&&document.body.removeChild(e)}))},e.prototype.toggleClass=function(e,t,n){n?e.classList.remove(t):e.classList.add(t)},e}();window.addEventListener("DOMContentLoaded",(function(){var e=Array.from(document.querySelectorAll(".sticky-anchor-navigation"));e.length&&e.forEach((function(e){new wi(e)}))}));n(357),n(916);var Ci=function(){function e(){this.initOnboarding()}return e.prototype.initOnboarding=function(){var e={onboardingActive:"onboarding-active",onboardingDone:"onboardingDone",active:"active"},t={dataHighlight:"data-highlight"},n={close:".btn-close",closeSteps:".close-steps",lastStep:".last-step",steps:".desktop-steps .steps",step:".desktop-steps .step"},r=vi()("body"),o=vi()(".on-boarding-modal-full");"true"==localStorage.getItem(e.onboardingDone)?(o.hide(),o.attr("data-count",0)):o.length>0&&(vi()(window).scrollTop(0),r.append('<div class="highLightIt"></div>'),r.addClass(e.onboardingActive),o.show()),vi()(".btn-close,.close-steps").on("click",(function(){o.hide(),o.attr("data-count",0),vi()(n.step).hide(),r.removeClass(e.onboardingActive)})),vi()(n.lastStep).on("click",(function(){o.attr("data-count",0),o.hide(),localStorage.setItem(e.onboardingDone,"true"),vi()(n.step).hide(),r.removeClass(e.onboardingActive)}));var i=[],s=0;vi()(n.step).each((function(r,a){var c,l,u=vi()(a).attr("id").split("on_box_0")[1],d=parseInt(u,10),h=(null===(l=null===(c=vi()(n.step).eq(r+1))||void 0===c?void 0:c.attr("id"))||void 0===l?void 0:l.split("on_box_0")[1])||"1",p=parseInt(h,10),f=vi()("#on_step_0".concat(u));vi()(n.step).eq(r+1)||(p=1),i.push({element:"#"+vi()("#on_step_0".concat(d)).attr(t.dataHighlight),step:r+1}),f.on("click",(function(){var n=0,a=vi()(".highLightIt"),c=vi()(this).attr(t.dataHighlight),l=vi()("#"+c);if(s=(parseInt(null==o?void 0:o.attr("data-count"),10)||0)+1,o.attr("data-count",s),0!==s)for(var u=0;u<s;u++)vi()(".group-col span:nth-of-type(".concat(u+1,")")).addClass("active");if(window.innerWidth<767){var h=!0;u=r+1;i.forEach((function(e){(vi()(e.element).hasClass("botnavigation")||vi()(e.element).parents(".botnavigation").length>0)&&(n+=1)}));for(var f=1;f<=n-2;f++)vi()(".desktop-steps > .group-col span").eq(-f).hide();if(l.hasClass("botnavigation")||l.parents(".botnavigation").length>0){for(;h;)vi()(i[u].element).hasClass("botnavigation")||vi()(i[u].element).parents(".botnavigation").length>0?u+=1:h=!1;p=u+1,vi()("#on_box_0".concat(p)).trigger("click"),l=vi()(".breadcrumb-icon")}}var g=100;(null==l?void 0:l.hasClass("inner-carousel"))&&(null==l?void 0:l.children(".dashboard").length)>0&&(g=250),l.length>0&&vi()("html,body").animate({scrollTop:l.offset().top-g},200,(function(){setTimeout((function(){var t=l.outerWidth()+10,n=l.outerHeight()+10,r=l.offset().top,o=l.offset().left;a.addClass(e.active),a.offset({top:r-5,left:o-5}),a.width(t),a.height(n)}),450)})),vi()("#on_box_0".concat(d)).removeClass(e.active),1==p?(vi()(window).scrollTop(0),vi()("#on_box_0".concat(1)).addClass(e.active),vi()(".desktop-steps .group-col span").removeClass(e.active),o.attr("data-count",0),a.removeClass(e.active)):vi()("#on_box_0".concat(p)).addClass(e.active)}))}))},e}();window.addEventListener("DOMContentLoaded",(function(){new Ci}));n(567),n(438),n(231),n(935);function bi(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function Ei(e={},t={}){Object.keys(t).forEach((n=>{void 0===e[n]?e[n]=t[n]:bi(t[n])&&bi(e[n])&&Object.keys(t[n]).length>0&&Ei(e[n],t[n])}))}const Ti={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Si(){const e="undefined"!=typeof document?document:{};return Ei(e,Ti),e}const _i={document:Ti,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Ii(){const e="undefined"!=typeof window?window:{};return Ei(e,_i),e}class ki extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get(){return t},set(e){t.__proto__=e}})}(this))}}function Ai(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...Ai(e)):t.push(e)})),t}function Ri(e,t){return Array.prototype.filter.call(e,t)}function Pi(e,t){const n=Ii(),r=Si();let o=[];if(!t&&e instanceof ki)return e;if(!e)return new ki(o);if("string"==typeof e){const n=e.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let e="div";0===n.indexOf("<li")&&(e="ul"),0===n.indexOf("<tr")&&(e="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(e="tr"),0===n.indexOf("<tbody")&&(e="table"),0===n.indexOf("<option")&&(e="select");const t=r.createElement(e);t.innerHTML=n;for(let e=0;e<t.childNodes.length;e+=1)o.push(t.childNodes[e])}else o=function(e,t){if("string"!=typeof e)return[e];const n=[],r=t.querySelectorAll(e);for(let e=0;e<r.length;e+=1)n.push(r[e]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)o.push(e);else if(Array.isArray(e)){if(e instanceof ki)return e;o=e}return new ki(function(e){const t=[];for(let n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(o))}Pi.fn=ki.prototype;const Mi="resize scroll".split(" ");function xi(e){return function(...t){if(void 0===t[0]){for(let t=0;t<this.length;t+=1)Mi.indexOf(e)<0&&(e in this[t]?this[t][e]():Pi(this[t]).trigger(e));return this}return this.on(e,...t)}}xi("click"),xi("blur"),xi("focus"),xi("focusin"),xi("focusout"),xi("keyup"),xi("keydown"),xi("keypress"),xi("submit"),xi("change"),xi("mousedown"),xi("mousemove"),xi("mouseup"),xi("mouseenter"),xi("mouseleave"),xi("mouseout"),xi("mouseover"),xi("touchstart"),xi("touchend"),xi("touchmove"),xi("resize"),xi("scroll");const Ni={addClass:function(...e){const t=Ai(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...t)})),this},removeClass:function(...e){const t=Ai(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...t)})),this},hasClass:function(...e){const t=Ai(e.map((e=>e.split(" "))));return Ri(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(...e){const t=Ai(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const t in e)this[n][t]=e[t],this[n].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(...e){let[t,n,r,o]=e;function i(e){const t=e.target;if(!t)return;const o=e.target.dom7EventData||[];if(o.indexOf(e)<0&&o.unshift(e),Pi(t).is(n))r.apply(t,o);else{const e=Pi(t).parents();for(let t=0;t<e.length;t+=1)Pi(e[t]).is(n)&&r.apply(e[t],o)}}function s(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}"function"==typeof e[1]&&([t,r,o]=e,n=void 0),o||(o=!1);const a=t.split(" ");let c;for(let e=0;e<this.length;e+=1){const t=this[e];if(n)for(c=0;c<a.length;c+=1){const e=a[c];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:r,proxyListener:i}),t.addEventListener(e,i,o)}else for(c=0;c<a.length;c+=1){const e=a[c];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:r,proxyListener:s}),t.addEventListener(e,s,o)}}return this},off:function(...e){let[t,n,r,o]=e;"function"==typeof e[1]&&([t,r,o]=e,n=void 0),o||(o=!1);const i=t.split(" ");for(let e=0;e<i.length;e+=1){const t=i[e];for(let e=0;e<this.length;e+=1){const i=this[e];let s;if(!n&&i.dom7Listeners?s=i.dom7Listeners[t]:n&&i.dom7LiveListeners&&(s=i.dom7LiveListeners[t]),s&&s.length)for(let e=s.length-1;e>=0;e-=1){const n=s[e];r&&n.listener===r||r&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===r?(i.removeEventListener(t,n.proxyListener,o),s.splice(e,1)):r||(i.removeEventListener(t,n.proxyListener,o),s.splice(e,1))}}}return this},trigger:function(...e){const t=Ii(),n=e[0].split(" "),r=e[1];for(let o=0;o<n.length;o+=1){const i=n[o];for(let n=0;n<this.length;n+=1){const o=this[n];if(t.CustomEvent){const n=new t.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});o.dom7EventData=e.filter(((e,t)=>t>0)),o.dispatchEvent(n),o.dom7EventData=[],delete o.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=Ii();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=Ii(),t=Si(),n=this[0],r=n.getBoundingClientRect(),o=t.body,i=n.clientTop||o.clientTop||0,s=n.clientLeft||o.clientLeft||0,a=n===e?e.scrollY:n.scrollTop,c=n===e?e.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+c-s}}return null},css:function(e,t){const n=Ii();let r;if(1===arguments.length){if("string"!=typeof e){for(r=0;r<this.length;r+=1)for(const t in e)this[r].style[t]=e[t];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(r=0;r<this.length;r+=1)this[r].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,n)=>{e.apply(t,[t,n])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=Ii(),n=Si(),r=this[0];let o,i;if(!r||void 0===e)return!1;if("string"==typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(o=Pi(e),i=0;i<o.length;i+=1)if(o[i]===r)return!0;return!1}if(e===n)return r===n;if(e===t)return r===t;if(e.nodeType||e instanceof ki){for(o=e.nodeType?[e]:e,i=0;i<o.length;i+=1)if(o[i]===r)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return Pi([]);if(e<0){const n=t+e;return Pi(n<0?[]:[this[n]])}return Pi([this[e]])},append:function(...e){let t;const n=Si();for(let r=0;r<e.length;r+=1){t=e[r];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const r=n.createElement("div");for(r.innerHTML=t;r.firstChild;)this[e].appendChild(r.firstChild)}else if(t instanceof ki)for(let n=0;n<t.length;n+=1)this[e].appendChild(t[n]);else this[e].appendChild(t)}return this},prepend:function(e){const t=Si();let n,r;for(n=0;n<this.length;n+=1)if("string"==typeof e){const o=t.createElement("div");for(o.innerHTML=e,r=o.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(o.childNodes[r],this[n].childNodes[0])}else if(e instanceof ki)for(r=0;r<e.length;r+=1)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&Pi(this[0].nextElementSibling).is(e)?Pi([this[0].nextElementSibling]):Pi([]):this[0].nextElementSibling?Pi([this[0].nextElementSibling]):Pi([]):Pi([])},nextAll:function(e){const t=[];let n=this[0];if(!n)return Pi([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;e?Pi(r).is(e)&&t.push(r):t.push(r),n=r}return Pi(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&Pi(t.previousElementSibling).is(e)?Pi([t.previousElementSibling]):Pi([]):t.previousElementSibling?Pi([t.previousElementSibling]):Pi([])}return Pi([])},prevAll:function(e){const t=[];let n=this[0];if(!n)return Pi([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;e?Pi(r).is(e)&&t.push(r):t.push(r),n=r}return Pi(t)},parent:function(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?Pi(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return Pi(t)},parents:function(e){const t=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)e?Pi(r).is(e)&&t.push(r):t.push(r),r=r.parentNode}return Pi(t)},closest:function(e){let t=this;return void 0===e?Pi([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(e);for(let e=0;e<r.length;e+=1)t.push(r[e])}return Pi(t)},children:function(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let n=0;n<r.length;n+=1)e&&!Pi(r[n]).is(e)||t.push(r[n])}return Pi(t)},filter:function(e){return Pi(Ri(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(Ni).forEach((e=>{Object.defineProperty(Pi.fn,e,{value:Ni[e],writable:!0})}));var Oi=Pi;function qi(e,t=0){return setTimeout(e,t)}function Li(){return Date.now()}function Hi(e,t="x"){const n=Ii();let r,o,i;const s=function(e){const t=Ii();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(o=s.transform||s.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map((e=>e.replace(",","."))).join(", ")),i=new n.WebKitCSSMatrix("none"===o?"":o)):(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),"x"===t&&(o=n.WebKitCSSMatrix?i.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(o=n.WebKitCSSMatrix?i.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),o||0}function Di(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Ui(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let o=1;o<e.length;o+=1){const i=e[o];if(null!=i&&(r=i,!("undefined"!=typeof window&&void 0!==window.HTMLElement?r instanceof HTMLElement:r&&(1===r.nodeType||11===r.nodeType)))){const e=Object.keys(Object(i)).filter((e=>n.indexOf(e)<0));for(let n=0,r=e.length;n<r;n+=1){const r=e[n],o=Object.getOwnPropertyDescriptor(i,r);void 0!==o&&o.enumerable&&(Di(t[r])&&Di(i[r])?i[r].__swiper__?t[r]=i[r]:Ui(t[r],i[r]):!Di(t[r])&&Di(i[r])?(t[r]={},i[r].__swiper__?t[r]=i[r]:Ui(t[r],i[r])):t[r]=i[r])}}}var r;return t}function Bi(e,t,n){e.style.setProperty(t,n)}function Fi({swiper:e,targetPosition:t,side:n}){const r=Ii(),o=-e.translate;let i,s=null;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=t>o?"next":"prev",l=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{i=(new Date).getTime(),null===s&&(s=i);const c=Math.max(Math.min((i-s)/a,1),0),d=.5-Math.cos(c*Math.PI)/2;let h=o+d*(t-o);if(l(h,t)&&(h=t),e.wrapperEl.scrollTo({[n]:h}),l(h,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:h})})),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(u)};u()}let Ki,Gi,ji;function zi(){return Ki||(Ki=function(){const e=Ii(),t=Si();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const n=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),Ki}function Wi(e={}){return Gi||(Gi=function({userAgent:e}={}){const t=zi(),n=Ii(),r=n.navigator.platform,o=e||n.navigator.userAgent,i={ios:!1,android:!1},s=n.screen.width,a=n.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let l=o.match(/(iPad).*OS\s([\d_]+)/);const u=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!l&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===r;let p="MacIntel"===r;return!l&&p&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${s}x${a}`)>=0&&(l=o.match(/(Version)\/([\d.]+)/),l||(l=[0,1,"13_0_0"]),p=!1),c&&!h&&(i.os="android",i.android=!0),(l||d||u)&&(i.os="ios",i.ios=!0),i}(e)),Gi}function Vi(){return ji||(ji=function(){const e=Ii();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),ji}var Yi={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;const o=n?"unshift":"push";return e.split(" ").forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][o](t)})),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;function o(...n){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(r,n)}return o.__emitterProxy=t,r.on(e,o,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(o,1)}))})),n):n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let n,r,o;"string"==typeof e[0]||Array.isArray(e[0])?(n=e[0],r=e.slice(1,e.length),o=t):(n=e[0].events,r=e[0].data,o=e[0].context||t),r.unshift(o);return(Array.isArray(n)?n:n.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(o,[e,...r])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((e=>{e.apply(o,r)}))})),t}};var $i={updateSize:function(){const e=this;let t,n;const r=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:r[0].clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:r[0].clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}const r=e.params,{$wrapperEl:o,size:i,rtlTranslate:s,wrongRTL:a}=e,c=e.virtual&&r.virtual.enabled,l=c?e.virtual.slides.length:e.slides.length,u=o.children(`.${e.params.slideClass}`),d=c?e.virtual.slides.length:u.length;let h=[];const p=[],f=[];let g=r.slidesOffsetBefore;"function"==typeof g&&(g=r.slidesOffsetBefore.call(e));let m=r.slidesOffsetAfter;"function"==typeof m&&(m=r.slidesOffsetAfter.call(e));const v=e.snapGrid.length,y=e.slidesGrid.length;let w=r.spaceBetween,C=-g,b=0,E=0;if(void 0===i)return;"string"==typeof w&&w.indexOf("%")>=0&&(w=parseFloat(w.replace("%",""))/100*i),e.virtualSize=-w,s?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(Bi(e.wrapperEl,"--swiper-centered-offset-before",""),Bi(e.wrapperEl,"--swiper-centered-offset-after",""));const T=r.grid&&r.grid.rows>1&&e.grid;let S;T&&e.grid.initSlides(d);const _="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((e=>void 0!==r.breakpoints[e].slidesPerView)).length>0;for(let o=0;o<d;o+=1){S=0;const s=u.eq(o);if(T&&e.grid.updateSlide(o,s,d,t),"none"!==s.css("display")){if("auto"===r.slidesPerView){_&&(u[o].style[t("width")]="");const i=getComputedStyle(s[0]),a=s[0].style.transform,c=s[0].style.webkitTransform;if(a&&(s[0].style.transform="none"),c&&(s[0].style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?s.outerWidth(!0):s.outerHeight(!0);else{const e=n(i,"width"),t=n(i,"padding-left"),r=n(i,"padding-right"),o=n(i,"margin-left"),a=n(i,"margin-right"),c=i.getPropertyValue("box-sizing");if(c&&"border-box"===c)S=e+o+a;else{const{clientWidth:n,offsetWidth:i}=s[0];S=e+t+r+o+a+(i-n)}}a&&(s[0].style.transform=a),c&&(s[0].style.webkitTransform=c),r.roundLengths&&(S=Math.floor(S))}else S=(i-(r.slidesPerView-1)*w)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),u[o]&&(u[o].style[t("width")]=`${S}px`);u[o]&&(u[o].swiperSlideSize=S),f.push(S),r.centeredSlides?(C=C+S/2+b/2+w,0===b&&0!==o&&(C=C-i/2-w),0===o&&(C=C-i/2-w),Math.abs(C)<.001&&(C=0),r.roundLengths&&(C=Math.floor(C)),E%r.slidesPerGroup==0&&h.push(C),p.push(C)):(r.roundLengths&&(C=Math.floor(C)),(E-Math.min(e.params.slidesPerGroupSkip,E))%e.params.slidesPerGroup==0&&h.push(C),p.push(C),C=C+S+w),e.virtualSize+=S+w,b=S,E+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+m,s&&a&&("slide"===r.effect||"coverflow"===r.effect)&&o.css({width:`${e.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&o.css({[t("width")]:`${e.virtualSize+r.spaceBetween}px`}),T&&e.grid.updateWrapperSize(S,h,t),!r.centeredSlides){const t=[];for(let n=0;n<h.length;n+=1){let o=h[n];r.roundLengths&&(o=Math.floor(o)),h[n]<=e.virtualSize-i&&t.push(o)}h=t,Math.floor(e.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-i)}if(0===h.length&&(h=[0]),0!==r.spaceBetween){const n=e.isHorizontal()&&s?"marginLeft":t("marginRight");u.filter(((e,t)=>!r.cssMode||t!==u.length-1)).css({[n]:`${w}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween;const t=e-i;h=h.map((e=>e<0?-g:e>t?t+m:e))}if(r.centerInsufficientSlides){let e=0;if(f.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween,e<i){const t=(i-e)/2;h.forEach(((e,n)=>{h[n]=e-t})),p.forEach(((e,n)=>{p[n]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:h,slidesGrid:p,slidesSizesGrid:f}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Bi(e.wrapperEl,"--swiper-centered-offset-before",-h[0]+"px"),Bi(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(d!==l&&e.emit("slidesLengthChange"),h.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==y&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!(c||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const t=`${r.containerModifierClass}backface-hidden`,n=e.$el.hasClass(t);d<=r.maxBackfaceHiddenSlides?n||e.$el.addClass(t):n&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let o,i=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const s=e=>r?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||Oi([])).each((e=>{n.push(e)}));else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!r)break;n.push(s(e))}else n.push(s(t.activeIndex));for(o=0;o<n.length;o+=1)if(void 0!==n[o]){const e=n[o].offsetHeight;i=e>i?e:i}(i||0===i)&&t.$wrapperEl.css("height",`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,n=t.params,{slides:r,rtlTranslate:o,snapGrid:i}=t;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-e;o&&(s=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<r.length;e+=1){const a=r[e];let c=a.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const l=(s+(n.centeredSlides?t.minTranslate():0)-c)/(a.swiperSlideSize+n.spaceBetween),u=(s-i[0]+(n.centeredSlides?t.minTranslate():0)-c)/(a.swiperSlideSize+n.spaceBetween),d=-(s-c),h=d+t.slidesSizesGrid[e];(d>=0&&d<t.size-1||h>1&&h<=t.size||d<=0&&h>=t.size)&&(t.visibleSlides.push(a),t.visibleSlidesIndexes.push(e),r.eq(e).addClass(n.slideVisibleClass)),a.progress=o?-l:l,a.originalProgress=o?-u:u}t.visibleSlides=Oi(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:i,isEnd:s}=t;const a=i,c=s;0===r?(o=0,i=!0,s=!0):(o=(e-t.minTranslate())/r,i=o<=0,s=o>=1),Object.assign(t,{progress:o,isBeginning:i,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!a&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(a&&!i||c&&!s)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,$wrapperEl:r,activeIndex:o,realIndex:i}=e,s=e.virtual&&n.virtual.enabled;let a;t.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),a=s?e.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${o}"]`):t.eq(o),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let c=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===c.length&&(c=t.eq(0),c.addClass(n.slideNextClass));let l=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===l.length&&(l=t.eq(-1),l.addClass(n.slidePrevClass)),n.loop&&(c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:r,snapGrid:o,params:i,activeIndex:s,realIndex:a,snapIndex:c}=t;let l,u=e;if(void 0===u){for(let e=0;e<r.length;e+=1)void 0!==r[e+1]?n>=r[e]&&n<r[e+1]-(r[e+1]-r[e])/2?u=e:n>=r[e]&&n<r[e+1]&&(u=e+1):n>=r[e]&&(u=e);i.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(o.indexOf(n)>=0)l=o.indexOf(n);else{const e=Math.min(i.slidesPerGroupSkip,u);l=e+Math.floor((u-e)/i.slidesPerGroup)}if(l>=o.length&&(l=o.length-1),u===s)return void(l!==c&&(t.snapIndex=l,t.emit("snapIndexChange")));const d=parseInt(t.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(t,{snapIndex:l,realIndex:d,previousIndex:s,activeIndex:u}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==d&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,n=t.params,r=Oi(e).closest(`.${n.slideClass}`)[0];let o,i=!1;if(r)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===r){i=!0,o=e;break}if(!r||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(Oi(r).attr("data-swiper-slide-index"),10):t.clickedIndex=o,n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};var Qi={getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:n,translate:r,$wrapperEl:o}=this;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;let i=Hi(o[0],e);return n&&(i=-i),i||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:o,$wrapperEl:i,wrapperEl:s,progress:a}=n;let c,l=0,u=0;n.isHorizontal()?l=r?-e:e:u=e,o.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),o.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:o.virtualTranslate||i.transform(`translate3d(${l}px, ${u}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u;const d=n.maxTranslate()-n.minTranslate();c=0===d?0:(e-n.minTranslate())/d,c!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,n=!0,r=!0,o){const i=this,{params:s,wrapperEl:a}=i;if(i.animating&&s.preventInteractionOnTransition)return!1;const c=i.minTranslate(),l=i.maxTranslate();let u;if(u=r&&e>c?c:r&&e<l?l:e,i.updateProgress(u),s.cssMode){const e=i.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return Fi({swiper:i,targetPosition:-u,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}};function Ji({swiper:e,runCallbacks:t,direction:n,step:r}){const{activeIndex:o,previousIndex:i}=e;let s=n;if(s||(s=o>i?"next":o<i?"prev":"reset"),e.emit(`transition${r}`),t&&o!==i){if("reset"===s)return void e.emit(`slideResetTransition${r}`);e.emit(`slideChangeTransition${r}`),"next"===s?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}var Xi={slideTo:function(e=0,t=this.params.speed,n=!0,r,o){if("number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const i=this;let s=e;s<0&&(s=0);const{params:a,snapGrid:c,slidesGrid:l,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:p,enabled:f}=i;if(i.animating&&a.preventInteractionOnTransition||!f&&!r&&!o)return!1;const g=Math.min(i.params.slidesPerGroupSkip,s);let m=g+Math.floor((s-g)/i.params.slidesPerGroup);m>=c.length&&(m=c.length-1);const v=-c[m];if(a.normalizeSlideIndex)for(let e=0;e<l.length;e+=1){const t=-Math.floor(100*v),n=Math.floor(100*l[e]),r=Math.floor(100*l[e+1]);void 0!==l[e+1]?t>=n&&t<r-(r-n)/2?s=e:t>=n&&t<r&&(s=e+1):t>=n&&(s=e)}if(i.initialized&&s!==d){if(!i.allowSlideNext&&v<i.translate&&v<i.minTranslate())return!1;if(!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(d||0)!==s)return!1}let y;if(s!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(v),y=s>d?"next":s<d?"prev":"reset",h&&-v===i.translate||!h&&v===i.translate)return i.updateActiveIndex(s),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==a.effect&&i.setTranslate(v),"reset"!==y&&(i.transitionStart(n,y),i.transitionEnd(n,y)),!1;if(a.cssMode){const e=i.isHorizontal(),n=h?v:-v;if(0===t){const t=i.virtual&&i.params.virtual.enabled;t&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[e?"scrollLeft":"scrollTop"]=n,t&&requestAnimationFrame((()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1}))}else{if(!i.support.smoothScroll)return Fi({swiper:i,targetPosition:n,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return i.setTransition(t),i.setTranslate(v),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,y),0===t?i.transitionEnd(n,y):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,y))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t=this.params.speed,n=!0,r){if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const o=this;let i=e;return o.params.loop&&(i+=o.loopedSlides),o.slideTo(i,t,n,r)},slideNext:function(e=this.params.speed,t=!0,n){const r=this,{animating:o,enabled:i,params:s}=r;if(!i)return r;let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(o&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return s.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+c,e,t,n)},slidePrev:function(e=this.params.speed,t=!0,n){const r=this,{params:o,animating:i,snapGrid:s,slidesGrid:a,rtlTranslate:c,enabled:l}=r;if(!l)return r;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const d=u(c?r.translate:-r.translate),h=s.map((e=>u(e)));let p=s[h.indexOf(d)-1];if(void 0===p&&o.cssMode){let e;s.forEach(((t,n)=>{d>=t&&(e=n)})),void 0!==e&&(p=s[e>0?e-1:e])}let f=0;if(void 0!==p&&(f=a.indexOf(p),f<0&&(f=r.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(f=f-r.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),o.rewind&&r.isBeginning){const o=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(o,e,t,n)}return r.slideTo(f,e,t,n)},slideReset:function(e=this.params.speed,t=!0,n){return this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e=this.params.speed,t=!0,n,r=.5){const o=this;let i=o.activeIndex;const s=Math.min(o.params.slidesPerGroupSkip,i),a=s+Math.floor((i-s)/o.params.slidesPerGroup),c=o.rtlTranslate?o.translate:-o.translate;if(c>=o.snapGrid[a]){const e=o.snapGrid[a];c-e>(o.snapGrid[a+1]-e)*r&&(i+=o.params.slidesPerGroup)}else{const e=o.snapGrid[a-1];c-e<=(o.snapGrid[a]-e)*r&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,e,t,n)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let o,i=e.clickedIndex;if(t.loop){if(e.animating)return;o=parseInt(Oi(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-r/2||i>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),i=n.children(`.${t.slideClass}[data-swiper-slide-index="${o}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),qi((()=>{e.slideTo(i)}))):e.slideTo(i):i>e.slides.length-r?(e.loopFix(),i=n.children(`.${t.slideClass}[data-swiper-slide-index="${o}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),qi((()=>{e.slideTo(i)}))):e.slideTo(i)}else e.slideTo(i)}};var Zi={loopCreate:function(){const e=this,t=Si(),{params:n,$wrapperEl:r}=e,o=r.children().length>0?Oi(r.children()[0].parentNode):r;o.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=o.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-i.length%n.slidesPerGroup;if(e!==n.slidesPerGroup){for(let r=0;r<e;r+=1){const e=Oi(t.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);o.append(e)}i=o.children(`.${n.slideClass}`)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>i.length&&e.params.loopedSlidesLimit&&(e.loopedSlides=i.length);const s=[],a=[];i.each(((e,t)=>{Oi(e).attr("data-swiper-slide-index",t)}));for(let t=0;t<e.loopedSlides;t+=1){const e=t-Math.floor(t/i.length)*i.length;a.push(i.eq(e)[0]),s.unshift(i.eq(i.length-e-1)[0])}for(let e=0;e<a.length;e+=1)o.append(Oi(a[e].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let e=s.length-1;e>=0;e-=1)o.prepend(Oi(s[e].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:n,loopedSlides:r,allowSlidePrev:o,allowSlideNext:i,snapGrid:s,rtlTranslate:a}=e;let c;e.allowSlidePrev=!0,e.allowSlideNext=!0;const l=-s[t]-e.getTranslate();if(t<r){c=n.length-3*r+t,c+=r;e.slideTo(c,0,!1,!0)&&0!==l&&e.setTranslate((a?-e.translate:e.translate)-l)}else if(t>=n.length-r){c=-n.length+t+r,c+=r;e.slideTo(c,0,!1,!0)&&0!==l&&e.setTranslate((a?-e.translate:e.translate)-l)}e.allowSlidePrev=o,e.allowSlideNext=i,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:n}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}};function es(e){const t=this,n=Si(),r=Ii(),o=t.touchEventsData,{params:i,touches:s,enabled:a}=t;if(!a)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let c=e;c.originalEvent&&(c=c.originalEvent);let l=Oi(c.target);if("wrapper"===i.touchEventsTarget&&!l.closest(t.wrapperEl).length)return;if(o.isTouchEvent="touchstart"===c.type,!o.isTouchEvent&&"which"in c&&3===c.which)return;if(!o.isTouchEvent&&"button"in c&&c.button>0)return;if(o.isTouched&&o.isMoved)return;const u=!!i.noSwipingClass&&""!==i.noSwipingClass,d=e.composedPath?e.composedPath():e.path;u&&c.target&&c.target.shadowRoot&&d&&(l=Oi(d[0]));const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!(!c.target||!c.target.shadowRoot);if(i.noSwiping&&(p?function(e,t=this){return function t(n){if(!n||n===Si()||n===Ii())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(h,l[0]):l.closest(h)[0]))return void(t.allowClick=!0);if(i.swipeHandler&&!l.closest(i.swipeHandler)[0])return;s.currentX="touchstart"===c.type?c.targetTouches[0].pageX:c.pageX,s.currentY="touchstart"===c.type?c.targetTouches[0].pageY:c.pageY;const f=s.currentX,g=s.currentY,m=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,v=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(m&&(f<=v||f>=r.innerWidth-v)){if("prevent"!==m)return;e.preventDefault()}if(Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=f,s.startY=g,o.touchStartTime=Li(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1),"touchstart"!==c.type){let e=!0;l.is(o.focusableElements)&&(e=!1,"SELECT"===l[0].nodeName&&(o.isTouched=!1)),n.activeElement&&Oi(n.activeElement).is(o.focusableElements)&&n.activeElement!==l[0]&&n.activeElement.blur();const r=e&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!r||l[0].isContentEditable||c.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",c)}function ts(e){const t=Si(),n=this,r=n.touchEventsData,{params:o,touches:i,rtlTranslate:s,enabled:a}=n;if(!a)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c));if(r.isTouchEvent&&"touchmove"!==c.type)return;const l="touchmove"===c.type&&c.targetTouches&&(c.targetTouches[0]||c.changedTouches[0]),u="touchmove"===c.type?l.pageX:c.pageX,d="touchmove"===c.type?l.pageY:c.pageY;if(c.preventedByNestedSwiper)return i.startX=u,void(i.startY=d);if(!n.allowTouchMove)return Oi(c.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(i,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=Li()));if(r.isTouchEvent&&o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(d<i.startY&&n.translate<=n.maxTranslate()||d>i.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&c.target===t.activeElement&&Oi(c.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;i.currentX=u,i.currentY=d;const h=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(h**2+p**2)<n.params.threshold)return;if(void 0===r.isScrolling){let e;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:h*h+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(h))/Math.PI,r.isScrolling=n.isHorizontal()?e>o.touchAngle:90-e>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),void 0===r.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(r.startMoving=!0)),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&c.cancelable&&c.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&c.stopPropagation(),r.isMoved||(o.loop&&!o.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!o.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)),n.emit("sliderMove",c),r.isMoved=!0;let f=n.isHorizontal()?h:p;i.diff=f,f*=o.touchRatio,s&&(f=-f),n.swipeDirection=f>0?"prev":"next",r.currentTranslate=f+r.startTranslate;let g=!0,m=o.resistanceRatio;if(o.touchReleaseOnEdges&&(m=0),f>0&&r.currentTranslate>n.minTranslate()?(g=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+f)**m)):f<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-f)**m)),g&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),o.threshold>0){if(!(Math.abs(f)>o.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,void(i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function ns(e){const t=this,n=t.touchEventsData,{params:r,touches:o,rtlTranslate:i,slidesGrid:s,enabled:a}=t;if(!a)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const l=Li(),u=l-n.touchStartTime;if(t.allowClick){const e=c.path||c.composedPath&&c.composedPath();t.updateClickedSlide(e&&e[0]||c.target),t.emit("tap click",c),u<300&&l-n.lastClickTime<300&&t.emit("doubleTap doubleClick",c)}if(n.lastClickTime=Li(),qi((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===o.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=r.followFinger?i?t.translate:-t.translate:-n.currentTranslate,r.cssMode)return;if(t.params.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:d});let h=0,p=t.slidesSizesGrid[0];for(let e=0;e<s.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==s[e+t]?d>=s[e]&&d<s[e+t]&&(h=e,p=s[e+t]-s[e]):d>=s[e]&&(h=e,p=s[s.length-1]-s[s.length-2])}let f=null,g=null;r.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(f=0));const m=(d-s[h])/p,v=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(m>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?f:h+v):t.slideTo(h)),"prev"===t.swipeDirection&&(m>1-r.longSwipesRatio?t.slideTo(h+v):null!==g&&m<0&&Math.abs(m)>r.longSwipesRatio?t.slideTo(g):t.slideTo(h))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl)?c.target===t.navigation.nextEl?t.slideTo(h+v):t.slideTo(h):("next"===t.swipeDirection&&t.slideTo(null!==f?f:h+v),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:h))}}function rs(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:i}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function os(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function is(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let o;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();o=0===i?0:(e.translate-e.minTranslate())/i,o!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let ss=!1;function as(){}const cs=(e,t)=>{const n=Si(),{params:r,touchEvents:o,el:i,wrapperEl:s,device:a,support:c}=e,l=!!r.nested,u="on"===t?"addEventListener":"removeEventListener",d=t;if(c.touch){const t=!("touchstart"!==o.start||!c.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};i[u](o.start,e.onTouchStart,t),i[u](o.move,e.onTouchMove,c.passiveListener?{passive:!1,capture:l}:l),i[u](o.end,e.onTouchEnd,t),o.cancel&&i[u](o.cancel,e.onTouchEnd,t)}else i[u](o.start,e.onTouchStart,!1),n[u](o.move,e.onTouchMove,l),n[u](o.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",e.onClick,!0),r.cssMode&&s[u]("scroll",e.onScroll),r.updateOnWindowResize?e[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",rs,!0):e[d]("observerUpdate",rs,!0)};var ls={attachEvents:function(){const e=this,t=Si(),{params:n,support:r}=e;e.onTouchStart=es.bind(e),e.onTouchMove=ts.bind(e),e.onTouchEnd=ns.bind(e),n.cssMode&&(e.onScroll=is.bind(e)),e.onClick=os.bind(e),r.touch&&!ss&&(t.addEventListener("touchstart",as),ss=!0),cs(e,"on")},detachEvents:function(){cs(this,"off")}};const us=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var ds={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:n,loopedSlides:r=0,params:o,$el:i}=e,s=o.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const a=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||e.originalParams,l=us(e,o),u=us(e,c),d=o.enabled;l&&!u?(i.removeClass(`${o.containerModifierClass}grid ${o.containerModifierClass}grid-column`),e.emitContainerClasses()):!l&&u&&(i.addClass(`${o.containerModifierClass}grid`),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===o.grid.fill)&&i.addClass(`${o.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{const n=o[t]&&o[t].enabled,r=c[t]&&c[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));const h=c.direction&&c.direction!==o.direction,p=o.loop&&(c.slidesPerView!==o.slidesPerView||h);h&&n&&e.changeDirection(),Ui(e.params,c);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!f?e.disable():!d&&f&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",c),p&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-r+e.loopedSlides,0,!1)),e.emit("breakpoint",c)},getBreakpoint:function(e,t="window",n){if(!e||"container"===t&&!n)return;let r=!1;const o=Ii(),i="window"===t?o.innerHeight:n.clientHeight,s=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}}));s.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<s.length;e+=1){const{point:i,value:a}=s[e];"window"===t?o.matchMedia(`(min-width: ${a}px)`).matches&&(r=i):a<=n.clientWidth&&(r=i)}return r||"max"}};var hs={addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,$el:o,device:i,support:s}=e,a=function(e,t){const n=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((r=>{e[r]&&n.push(t+r)})):"string"==typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!s.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...a),o.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}};var ps={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function fs(e,t){return function(n={}){const r=Object.keys(n)[0],o=n[r];"object"==typeof o&&null!==o?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in o?(!0===e[r]&&(e[r]={enabled:!0}),"object"!=typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Ui(t,n)):Ui(t,n)):Ui(t,n)}}const gs={eventsEmitter:Yi,update:$i,translate:Qi,transition:{setTransition:function(e,t){const n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Ji({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),Ji({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:Xi,loop:Zi,grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:ls,breakpoints:ds,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:hs,images:{loadImage:function(e,t,n,r,o,i){const s=Ii();let a;function c(){i&&i()}Oi(e).parent("picture")[0]||e.complete&&o?c():t?(a=new s.Image,a.onload=c,a.onerror=c,r&&(a.sizes=r),n&&(a.srcset=n),t&&(a.src=t)):c()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let n=0;n<e.imagesToLoad.length;n+=1){const r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},ms={};class vs{constructor(...e){let t,n;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?n=e[0]:[t,n]=e,n||(n={}),n=Ui({},n),t&&!n.el&&(n.el=t),n.el&&Oi(n.el).length>1){const e=[];return Oi(n.el).each((t=>{const r=Ui({},n,{el:t});e.push(new vs(r))})),e}const r=this;r.__swiper__=!0,r.support=zi(),r.device=Wi({userAgent:n.userAgent}),r.browser=Vi(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],n.modules&&Array.isArray(n.modules)&&r.modules.push(...n.modules);const o={};r.modules.forEach((e=>{e({swiper:r,extendParams:fs(n,o),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})}));const i=Ui({},ps,o);return r.params=Ui({},i,ms,n),r.originalParams=Ui({},r.params),r.passedParams=Ui({},n),r.params&&r.params.on&&Object.keys(r.params.on).forEach((e=>{r.on(e,r.params.on[e])})),r.params&&r.params.onAny&&r.onAny(r.params.onAny),r.$=Oi,Object.assign(r,{enabled:r.params.enabled,el:t,classNames:[],slides:Oi(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return"horizontal"===r.params.direction},isVertical(){return"vertical"===r.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return r.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},r.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},r.support.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:Li(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),o=(n.maxTranslate()-r)*e+r;n.translateTo(o,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:n,slides:r,slidesGrid:o,slidesSizesGrid:i,size:s,activeIndex:a}=this;let c=1;if(n.centeredSlides){let e,t=r[a].swiperSlideSize;for(let n=a+1;n<r.length;n+=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,c+=1,t>s&&(e=!0));for(let n=a-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,c+=1,t>s&&(e=!0))}else if("current"===e)for(let e=a+1;e<r.length;e+=1){(t?o[e]+i[e]-o[a]<s:o[e]-o[a]<s)&&(c+=1)}else for(let e=a-1;e>=0;e-=1){o[a]-o[e]<s&&(c+=1)}return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let o;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(o=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),o||r()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(`${n.params.containerModifierClass}${r}`).addClass(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const n=Oi(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=Oi(e.shadowRoot.querySelector(r()));return t.children=e=>n.children(e),t}return n.children?n.children(r()):Oi(n).children(r())})();if(0===o.length&&t.params.createElements){const e=Si().createElement("div");o=Oi(e),e.className=t.params.wrapperClass,n.append(e),n.children(`.${t.params.slideClass}`).each((e=>{o.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===o.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const n=this,{params:r,$el:o,$wrapperEl:i,slides:s}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),o.removeAttr("style"),i.removeAttr("style"),s&&s.length&&s.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){Ui(ms,e)}static get extendedDefaults(){return ms}static get defaults(){return ps}static installModule(e){vs.prototype.__modules__||(vs.prototype.__modules__=[]);const t=vs.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>vs.installModule(e))),vs):(vs.installModule(e),vs)}}Object.keys(gs).forEach((e=>{Object.keys(gs[e]).forEach((t=>{vs.prototype[t]=gs[e][t]}))})),vs.use([function({swiper:e,on:t,emit:n}){const r=Ii();let o=null,i=null;const s=()=>{e&&!e.destroyed&&e.initialized&&(n("beforeResize"),n("resize"))},a=()=>{e&&!e.destroyed&&e.initialized&&n("orientationchange")};t("init",(()=>{e.params.resizeObserver&&void 0!==r.ResizeObserver?e&&!e.destroyed&&e.initialized&&(o=new ResizeObserver((t=>{i=r.requestAnimationFrame((()=>{const{width:n,height:r}=e;let o=n,i=r;t.forEach((({contentBoxSize:t,contentRect:n,target:r})=>{r&&r!==e.el||(o=n?n.width:(t[0]||t).inlineSize,i=n?n.height:(t[0]||t).blockSize)})),o===n&&i===r||s()}))})),o.observe(e.el)):(r.addEventListener("resize",s),r.addEventListener("orientationchange",a))})),t("destroy",(()=>{i&&r.cancelAnimationFrame(i),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),r.removeEventListener("resize",s),r.removeEventListener("orientationchange",a)}))},function({swiper:e,extendParams:t,on:n,emit:r}){const o=[],i=Ii(),s=(e,t={})=>{const n=new(i.MutationObserver||i.WebkitMutationObserver)((e=>{if(1===e.length)return void r("observerUpdate",e[0]);const t=function(){r("observerUpdate",e[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)}));n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),o.push(n)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let e=0;e<t.length;e+=1)s(t[e])}s(e.$el[0],{childList:e.params.observeSlideChildren}),s(e.$wrapperEl[0],{attributes:!1})}})),n("destroy",(()=>{o.forEach((e=>{e.disconnect()})),o.splice(0,o.length)}))}]);var ys=vs;function ws(e,t,n,r){const o=Si();return e.params.createElements&&Object.keys(r).forEach((i=>{if(!n[i]&&!0===n.auto){let s=e.$el.children(`.${r[i]}`)[0];s||(s=o.createElement("div"),s.className=r[i],e.$el.append(s)),n[i]=s,t[i]=s}})),n}function Cs({swiper:e,extendParams:t,on:n,emit:r}){function o(t){let n;return t&&(n=Oi(t),e.params.uniqueNavElements&&"string"==typeof t&&n.length>1&&1===e.$el.find(t).length&&(n=e.$el.find(t))),n}function i(t,n){const r=e.params.navigation;t&&t.length>0&&(t[n?"addClass":"removeClass"](r.disabledClass),t[0]&&"BUTTON"===t[0].tagName&&(t[0].disabled=n),e.params.watchOverflow&&e.enabled&&t[e.isLocked?"addClass":"removeClass"](r.lockClass))}function s(){if(e.params.loop)return;const{$nextEl:t,$prevEl:n}=e.navigation;i(n,e.isBeginning&&!e.params.rewind),i(t,e.isEnd&&!e.params.rewind)}function a(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function l(){const t=e.params.navigation;if(e.params.navigation=ws(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;const n=o(t.nextEl),r=o(t.prevEl);n&&n.length>0&&n.on("click",c),r&&r.length>0&&r.on("click",a),Object.assign(e.navigation,{$nextEl:n,nextEl:n&&n[0],$prevEl:r,prevEl:r&&r[0]}),e.enabled||(n&&n.addClass(t.lockClass),r&&r.addClass(t.lockClass))}function u(){const{$nextEl:t,$prevEl:n}=e.navigation;t&&t.length&&(t.off("click",c),t.removeClass(e.params.navigation.disabledClass)),n&&n.length&&(n.off("click",a),n.removeClass(e.params.navigation.disabledClass))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},n("init",(()=>{!1===e.params.navigation.enabled?d():(l(),s())})),n("toEdge fromEdge lock unlock",(()=>{s()})),n("destroy",(()=>{u()})),n("enable disable",(()=>{const{$nextEl:t,$prevEl:n}=e.navigation;t&&t[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),n&&n[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)})),n("click",((t,n)=>{const{$nextEl:o,$prevEl:i}=e.navigation,s=n.target;if(e.params.navigation.hideOnClick&&!Oi(s).is(i)&&!Oi(s).is(o)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===s||e.pagination.el.contains(s)))return;let t;o?t=o.hasClass(e.params.navigation.hiddenClass):i&&(t=i.hasClass(e.params.navigation.hiddenClass)),r(!0===t?"navigationShow":"navigationHide"),o&&o.toggleClass(e.params.navigation.hiddenClass),i&&i.toggleClass(e.params.navigation.hiddenClass)}}));const d=()=>{e.$el.addClass(e.params.navigation.navigationDisabledClass),u()};Object.assign(e.navigation,{enable:()=>{e.$el.removeClass(e.params.navigation.navigationDisabledClass),l(),s()},disable:d,update:s,init:l,destroy:u})}function bs(e=""){return`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Es({swiper:e,extendParams:t,on:n,emit:r}){const o="swiper-pagination";let i;t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,$el:null,bullets:[]};let s=0;function a(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length}function c(t,n){const{bulletActiveClass:r}=e.params.pagination;t[n]().addClass(`${r}-${n}`)[n]().addClass(`${r}-${n}-${n}`)}function l(){const t=e.rtl,n=e.params.pagination;if(a())return;const o=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,l=e.pagination.$el;let u;const d=e.params.loop?Math.ceil((o-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(u=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),u>o-1-2*e.loopedSlides&&(u-=o-2*e.loopedSlides),u>d-1&&(u-=d),u<0&&"bullets"!==e.params.paginationType&&(u=d+u)):u=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const r=e.pagination.bullets;let o,a,d;if(n.dynamicBullets&&(i=r.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),l.css(e.isHorizontal()?"width":"height",i*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(s+=u-(e.previousIndex-e.loopedSlides||0),s>n.dynamicMainBullets-1?s=n.dynamicMainBullets-1:s<0&&(s=0)),o=Math.max(u-s,0),a=o+(Math.min(r.length,n.dynamicMainBullets)-1),d=(a+o)/2),r.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${n.bulletActiveClass}${e}`)).join(" ")),l.length>1)r.each((e=>{const t=Oi(e),r=t.index();r===u&&t.addClass(n.bulletActiveClass),n.dynamicBullets&&(r>=o&&r<=a&&t.addClass(`${n.bulletActiveClass}-main`),r===o&&c(t,"prev"),r===a&&c(t,"next"))}));else{const t=r.eq(u),i=t.index();if(t.addClass(n.bulletActiveClass),n.dynamicBullets){const t=r.eq(o),s=r.eq(a);for(let e=o;e<=a;e+=1)r.eq(e).addClass(`${n.bulletActiveClass}-main`);if(e.params.loop)if(i>=r.length){for(let e=n.dynamicMainBullets;e>=0;e-=1)r.eq(r.length-e).addClass(`${n.bulletActiveClass}-main`);r.eq(r.length-n.dynamicMainBullets-1).addClass(`${n.bulletActiveClass}-prev`)}else c(t,"prev"),c(s,"next");else c(t,"prev"),c(s,"next")}}if(n.dynamicBullets){const o=Math.min(r.length,n.dynamicMainBullets+4),s=(i*o-i)/2-d*i,a=t?"right":"left";r.css(e.isHorizontal()?a:"top",`${s}px`)}}if("fraction"===n.type&&(l.find(bs(n.currentClass)).text(n.formatFractionCurrent(u+1)),l.find(bs(n.totalClass)).text(n.formatFractionTotal(d))),"progressbar"===n.type){let t;t=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const r=(u+1)/d;let o=1,i=1;"horizontal"===t?o=r:i=r,l.find(bs(n.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${o}) scaleY(${i})`).transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(l.html(n.renderCustom(e,u+1,d)),r("paginationRender",l[0])):r("paginationUpdate",l[0]),e.params.watchOverflow&&e.enabled&&l[e.isLocked?"addClass":"removeClass"](n.lockClass)}function u(){const t=e.params.pagination;if(a())return;const n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,o=e.pagination.$el;let i="";if("bullets"===t.type){let r=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&r>n&&(r=n);for(let n=0;n<r;n+=1)t.renderBullet?i+=t.renderBullet.call(e,n,t.bulletClass):i+=`<${t.bulletElement} class="${t.bulletClass}"></${t.bulletElement}>`;o.html(i),e.pagination.bullets=o.find(bs(t.bulletClass))}"fraction"===t.type&&(i=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`,o.html(i)),"progressbar"===t.type&&(i=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`,o.html(i)),"custom"!==t.type&&r("paginationRender",e.pagination.$el[0])}function d(){e.params.pagination=ws(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let n=Oi(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&n.length>1&&(n=e.$el.find(t.el),n.length>1&&(n=n.filter((t=>Oi(t).parents(".swiper")[0]===e.el)))),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),n.addClass(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(n.addClass(`${t.modifierClass}${t.type}-dynamic`),s=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",bs(t.bulletClass),(function(t){t.preventDefault();let n=Oi(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)})),Object.assign(e.pagination,{$el:n,el:n[0]}),e.enabled||n.addClass(t.lockClass))}function h(){const t=e.params.pagination;if(a())return;const n=e.pagination.$el;n.removeClass(t.hiddenClass),n.removeClass(t.modifierClass+t.type),n.removeClass(e.isHorizontal()?t.horizontalClass:t.verticalClass),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&n.off("click",bs(t.bulletClass))}n("init",(()=>{!1===e.params.pagination.enabled?p():(d(),u(),l())})),n("activeIndexChange",(()=>{(e.params.loop||void 0===e.snapIndex)&&l()})),n("snapIndexChange",(()=>{e.params.loop||l()})),n("slidesLengthChange",(()=>{e.params.loop&&(u(),l())})),n("snapGridLengthChange",(()=>{e.params.loop||(u(),l())})),n("destroy",(()=>{h()})),n("enable disable",(()=>{const{$el:t}=e.pagination;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)})),n("lock unlock",(()=>{l()})),n("click",((t,n)=>{const o=n.target,{$el:i}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&i&&i.length>0&&!Oi(o).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&o===e.navigation.nextEl||e.navigation.prevEl&&o===e.navigation.prevEl))return;const t=i.hasClass(e.params.pagination.hiddenClass);r(!0===t?"paginationShow":"paginationHide"),i.toggleClass(e.params.pagination.hiddenClass)}}));const p=()=>{e.$el.addClass(e.params.pagination.paginationDisabledClass),e.pagination.$el&&e.pagination.$el.addClass(e.params.pagination.paginationDisabledClass),h()};Object.assign(e.pagination,{enable:()=>{e.$el.removeClass(e.params.pagination.paginationDisabledClass),e.pagination.$el&&e.pagination.$el.removeClass(e.params.pagination.paginationDisabledClass),d(),u(),l()},disable:p,render:u,update:l,init:d,destroy:h})}function Ts({swiper:e,extendParams:t,on:n,emit:r}){let o;function i(){if(!e.size)return e.autoplay.running=!1,void(e.autoplay.paused=!1);const t=e.slides.eq(e.activeIndex);let n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(o),o=qi((()=>{let t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),r("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?a():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),r("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),r("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),r("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?a():(t=e.slideTo(0,e.params.speed,!0,!0),r("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),r("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&i()}),n)}function s(){return void 0===o&&(!e.autoplay.running&&(e.autoplay.running=!0,r("autoplayStart"),i(),!0))}function a(){return!!e.autoplay.running&&(void 0!==o&&(o&&(clearTimeout(o),o=void 0),e.autoplay.running=!1,r("autoplayStop"),!0))}function c(t){e.autoplay.running&&(e.autoplay.paused||(o&&clearTimeout(o),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((t=>{e.$wrapperEl[0].addEventListener(t,u)})):(e.autoplay.paused=!1,i())))}function l(){const t=Si();"hidden"===t.visibilityState&&e.autoplay.running&&c(),"visible"===t.visibilityState&&e.autoplay.paused&&(i(),e.autoplay.paused=!1)}function u(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((t=>{e.$wrapperEl[0].removeEventListener(t,u)})),e.autoplay.paused=!1,e.autoplay.running?i():a())}function d(){e.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),c()),["transitionend","webkitTransitionEnd"].forEach((t=>{e.$wrapperEl[0].removeEventListener(t,u)}))}function h(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,r("autoplayResume"),i())}e.autoplay={running:!1,paused:!1},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),n("init",(()=>{if(e.params.autoplay.enabled){s();Si().addEventListener("visibilitychange",l),e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",d),e.$el.on("mouseleave",h))}})),n("beforeTransitionStart",((t,n,r)=>{e.autoplay.running&&(r||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(n):a())})),n("sliderFirstMove",(()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?a():c())})),n("touchEnd",(()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&i()})),n("destroy",(()=>{e.$el.off("mouseenter",d),e.$el.off("mouseleave",h),e.autoplay.running&&a();Si().removeEventListener("visibilitychange",l)})),Object.assign(e.autoplay,{pause:c,run:i,start:s,stop:a})}function Ss({swiper:e,extendParams:t,on:n}){t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,o=!1;function i(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const n=t.clickedIndex,r=t.clickedSlide;if(r&&Oi(r).hasClass(e.params.thumbs.slideThumbActiveClass))return;if(null==n)return;let o;if(o=t.params.loop?parseInt(Oi(t.clickedSlide).attr("data-swiper-slide-index"),10):n,e.params.loop){let t=e.activeIndex;e.slides.eq(t).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,t=e.activeIndex);const n=e.slides.eq(t).prevAll(`[data-swiper-slide-index="${o}"]`).eq(0).index(),r=e.slides.eq(t).nextAll(`[data-swiper-slide-index="${o}"]`).eq(0).index();o=void 0===n?r:void 0===r?n:r-t<t-n?r:n}e.slideTo(o)}function s(){const{thumbs:t}=e.params;if(r)return!1;r=!0;const n=e.constructor;if(t.swiper instanceof n)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(Di(t.swiper)){const r=Object.assign({},t.swiper);Object.assign(r,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new n(r),o=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",i),!0}function a(t){const n=e.thumbs.swiper;if(!n||n.destroyed)return;const r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView;let o=1;const i=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(o=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(o=1),o=Math.floor(o),n.slides.removeClass(i),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(let t=0;t<o;t+=1)n.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+t}"]`).addClass(i);else for(let t=0;t<o;t+=1)n.slides.eq(e.realIndex+t).addClass(i);const s=e.params.thumbs.autoScrollOffset,a=s&&!n.params.loop;if(e.realIndex!==n.realIndex||a){let o,i,c=n.activeIndex;if(n.params.loop){n.slides.eq(c).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,c=n.activeIndex);const t=n.slides.eq(c).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),r=n.slides.eq(c).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();o=void 0===t?r:void 0===r?t:r-c==c-t?n.params.slidesPerGroup>1?r:c:r-c<c-t?r:t,i=e.activeIndex>e.previousIndex?"next":"prev"}else o=e.realIndex,i=o>e.previousIndex?"next":"prev";a&&(o+="next"===i?s:-1*s),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(o)<0&&(n.params.centeredSlides?o=o>c?o-Math.floor(r/2)+1:o+Math.floor(r/2)-1:o>c&&n.params.slidesPerGroup,n.slideTo(o,t?0:void 0))}}e.thumbs={swiper:null},n("beforeInit",(()=>{const{thumbs:t}=e.params;t&&t.swiper&&(s(),a(!0))})),n("slideChange update resize observerUpdate",(()=>{a()})),n("setTransition",((t,n)=>{const r=e.thumbs.swiper;r&&!r.destroyed&&r.setTransition(n)})),n("beforeDestroy",(()=>{const t=e.thumbs.swiper;t&&!t.destroyed&&o&&t.destroy()})),Object.assign(e.thumbs,{init:s,update:a})}function _s({swiper:e,extendParams:t,emit:n,once:r}){t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function(){const t=e.getTranslate();e.setTranslate(t),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function(){const{touchEventsData:t,touches:n}=e;0===t.velocities.length&&t.velocities.push({position:n[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:n[e.isHorizontal()?"currentX":"currentY"],time:Li()})},onTouchEnd:function({currentPos:t}){const{params:o,$wrapperEl:i,rtlTranslate:s,snapGrid:a,touchEventsData:c}=e,l=Li()-c.touchStartTime;if(t<-e.minTranslate())e.slideTo(e.activeIndex);else if(t>-e.maxTranslate())e.slides.length<a.length?e.slideTo(a.length-1):e.slideTo(e.slides.length-1);else{if(o.freeMode.momentum){if(c.velocities.length>1){const t=c.velocities.pop(),n=c.velocities.pop(),r=t.position-n.position,i=t.time-n.time;e.velocity=r/i,e.velocity/=2,Math.abs(e.velocity)<o.freeMode.minimumVelocity&&(e.velocity=0),(i>150||Li()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=o.freeMode.momentumVelocityRatio,c.velocities.length=0;let t=1e3*o.freeMode.momentumRatio;const l=e.velocity*t;let u=e.translate+l;s&&(u=-u);let d,h=!1;const p=20*Math.abs(e.velocity)*o.freeMode.momentumBounceRatio;let f;if(u<e.maxTranslate())o.freeMode.momentumBounce?(u+e.maxTranslate()<-p&&(u=e.maxTranslate()-p),d=e.maxTranslate(),h=!0,c.allowMomentumBounce=!0):u=e.maxTranslate(),o.loop&&o.centeredSlides&&(f=!0);else if(u>e.minTranslate())o.freeMode.momentumBounce?(u-e.minTranslate()>p&&(u=e.minTranslate()+p),d=e.minTranslate(),h=!0,c.allowMomentumBounce=!0):u=e.minTranslate(),o.loop&&o.centeredSlides&&(f=!0);else if(o.freeMode.sticky){let t;for(let e=0;e<a.length;e+=1)if(a[e]>-u){t=e;break}u=Math.abs(a[t]-u)<Math.abs(a[t-1]-u)||"next"===e.swipeDirection?a[t]:a[t-1],u=-u}if(f&&r("transitionEnd",(()=>{e.loopFix()})),0!==e.velocity){if(t=s?Math.abs((-u-e.translate)/e.velocity):Math.abs((u-e.translate)/e.velocity),o.freeMode.sticky){const n=Math.abs((s?-u:u)-e.translate),r=e.slidesSizesGrid[e.activeIndex];t=n<r?o.speed:n<2*r?1.5*o.speed:2.5*o.speed}}else if(o.freeMode.sticky)return void e.slideToClosest();o.freeMode.momentumBounce&&h?(e.updateProgress(d),e.setTransition(t),e.setTranslate(u),e.transitionStart(!0,e.swipeDirection),e.animating=!0,i.transitionEnd((()=>{e&&!e.destroyed&&c.allowMomentumBounce&&(n("momentumBounce"),e.setTransition(o.speed),setTimeout((()=>{e.setTranslate(d),i.transitionEnd((()=>{e&&!e.destroyed&&e.transitionEnd()}))}),0))}))):e.velocity?(n("_freeModeNoMomentumRelease"),e.updateProgress(u),e.setTransition(t),e.setTranslate(u),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,i.transitionEnd((()=>{e&&!e.destroyed&&e.transitionEnd()})))):e.updateProgress(u),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(o.freeMode.sticky)return void e.slideToClosest();o.freeMode&&n("_freeModeNoMomentumRelease")}(!o.freeMode.momentum||l>=o.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})}function Is({swiper:e,extendParams:t}){let n,r,o;t({grid:{rows:1,fill:"column"}});e.grid={initSlides:t=>{const{slidesPerView:i}=e.params,{rows:s,fill:a}=e.params.grid;r=n/s,o=Math.floor(t/s),n=Math.floor(t/s)===t/s?t:Math.ceil(t/s)*s,"auto"!==i&&"row"===a&&(n=Math.max(n,i*s))},updateSlide:(t,i,s,a)=>{const{slidesPerGroup:c,spaceBetween:l}=e.params,{rows:u,fill:d}=e.params.grid;let h,p,f;if("row"===d&&c>1){const e=Math.floor(t/(c*u)),r=t-u*c*e,o=0===e?c:Math.min(Math.ceil((s-e*u*c)/u),c);f=Math.floor(r/o),p=r-f*o+e*c,h=p+f*n/u,i.css({"-webkit-order":h,order:h})}else"column"===d?(p=Math.floor(t/u),f=t-p*u,(p>o||p===o&&f===u-1)&&(f+=1,f>=u&&(f=0,p+=1))):(f=Math.floor(t/r),p=t-f*r);i.css(a("margin-top"),0!==f?l&&`${l}px`:"")},updateWrapperSize:(t,r,o)=>{const{spaceBetween:i,centeredSlides:s,roundLengths:a}=e.params,{rows:c}=e.params.grid;if(e.virtualSize=(t+i)*n,e.virtualSize=Math.ceil(e.virtualSize/c)-i,e.$wrapperEl.css({[o("width")]:`${e.virtualSize+i}px`}),s){r.splice(0,r.length);const t=[];for(let n=0;n<r.length;n+=1){let o=r[n];a&&(o=Math.floor(o)),r[n]<e.virtualSize+r[0]&&t.push(o)}r.push(...t)}}}}function ks(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}function As({swiper:e,extendParams:t,on:n}){t({fadeEffect:{crossFade:!1,transformEl:null}});!function(e){const{effect:t,swiper:n,on:r,setTranslate:o,setTransition:i,overwriteParams:s,perspective:a,recreateShadows:c,getEffectParams:l}=e;let u;r("beforeInit",(()=>{if(n.params.effect!==t)return;n.classNames.push(`${n.params.containerModifierClass}${t}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const e=s?s():{};Object.assign(n.params,e),Object.assign(n.originalParams,e)})),r("setTranslate",(()=>{n.params.effect===t&&o()})),r("setTransition",((e,r)=>{n.params.effect===t&&i(r)})),r("transitionEnd",(()=>{if(n.params.effect===t&&c){if(!l||!l().slideShadows)return;n.slides.each((e=>{n.$(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()})),c()}})),r("virtualUpdate",(()=>{n.params.effect===t&&(n.slides.length||(u=!0),requestAnimationFrame((()=>{u&&n.slides&&n.slides.length&&(o(),u=!1)})))}))}({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:t}=e,n=e.params.fadeEffect;for(let r=0;r<t.length;r+=1){const t=e.slides.eq(r);let o=-t[0].swiperSlideOffset;e.params.virtualTranslate||(o-=e.translate);let i=0;e.isHorizontal()||(i=o,o=0);const s=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);ks(n,t).css({opacity:s}).transform(`translate3d(${o}px, ${i}px, 0px)`)}},setTransition:t=>{const{transformEl:n}=e.params.fadeEffect;(n?e.slides.find(n):e.slides).transition(t),function({swiper:e,duration:t,transformEl:n,allSlides:r}){const{slides:o,activeIndex:i,$wrapperEl:s}=e;if(e.params.virtualTranslate&&0!==t){let t,a=!1;t=r?n?o.find(n):o:n?o.eq(i).find(n):o.eq(i),t.transitionEnd((()=>{if(a)return;if(!e||e.destroyed)return;a=!0,e.animating=!1;const t=["webkitTransitionEnd","transitionend"];for(let e=0;e<t.length;e+=1)s.trigger(t[e])}))}}({swiper:e,duration:t,transformEl:n,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}class Rs{constructor(e){this.component=e,this.swiperContainer=e?.querySelector(".swiper-carousel"),this.activeVideo=e?.querySelector(".active-video"),this.component&&(this.initVideoEventListeners(),this.closeOverlay(),this.initCarousel())}initCarousel(){this.swiper=new ys(this.swiperContainer,{slidesPerView:1,spaceBetween:10,breakpoints:{320:{slidesPerView:1.1,spaceBetween:10,speed:800},1200:{slidesPerView:1,spaceBetween:10,allowTouchMove:!1,speed:1e3}}})}closeOverlay(){this.component?.querySelector(".close-overlay").addEventListener("click",(()=>{const e=this.component.querySelector(".video-overlay"),t=this.component.querySelector(".ytvideo");e?.classList?.remove("show-overlay"),t.src=""}))}initVideoEventListeners(){[...this.component.querySelectorAll(".item-video-list"),...this.component.querySelectorAll(".item")]?.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation();const t=this.component.querySelector(".video-overlay"),n=this.component.querySelector(".ytvideo"),r=e.currentTarget,o=r?.getAttribute("data-video-src");if(r?.hasAttribute("data-list-video")){const i=e.target.tagName;"I"!==i&&"IMG"!==i||(t.classList.add("show-overlay"),n.src=o),this.activeVideo?.classList.remove("active-video"),this.activeVideo=r,this.activeVideo?.classList?.add("active-video");const s=parseInt(r?.getAttribute("data-list-video")||0);this.swiper?.slideTo(s)}else t?.classList?.add("show-overlay"),n.src=o}))}))}}function Ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".activities"));e?.length&&e?.forEach((e=>{new Rs(e)}))}));var Ms="(prefers-reduced-motion: reduce)",xs={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};function Ns(e){e.length=0}function Os(e,t,n){return Array.prototype.slice.call(e,t,n)}function qs(e){return e.bind.apply(e,[null].concat(Os(arguments,1)))}var Ls=setTimeout,Hs=function(){};function Ds(e){return requestAnimationFrame(e)}function Us(e,t){return typeof t===e}function Bs(e){return!zs(e)&&Us("object",e)}var Fs=Array.isArray,Ks=qs(Us,"function"),Gs=qs(Us,"string"),js=qs(Us,"undefined");function zs(e){return null===e}function Ws(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(e){return!1}}function Vs(e){return Fs(e)?e:[e]}function Ys(e,t){Vs(e).forEach(t)}function $s(e,t){return e.indexOf(t)>-1}function Qs(e,t){return e.push.apply(e,Vs(t)),e}function Js(e,t,n){e&&Ys(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function Xs(e,t){Js(e,Gs(t)?t.split(" "):t,!0)}function Zs(e,t){Ys(t,e.appendChild.bind(e))}function ea(e,t){Ys(e,(function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)}))}function ta(e,t){return Ws(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function na(e,t){var n=e?Os(e.children):[];return t?n.filter((function(e){return ta(e,t)})):n}function ra(e,t){return t?na(e,t)[0]:e.firstElementChild}var oa=Object.keys;function ia(e,t,n){return e&&(n?oa(e).reverse():oa(e)).forEach((function(n){"__proto__"!==n&&t(e[n],n)})),e}function sa(e){return Os(arguments,1).forEach((function(t){ia(t,(function(n,r){e[r]=t[r]}))})),e}function aa(e){return Os(arguments,1).forEach((function(t){ia(t,(function(t,n){Fs(t)?e[n]=t.slice():Bs(t)?e[n]=aa({},Bs(e[n])?e[n]:{},t):e[n]=t}))})),e}function ca(e,t){Ys(t||oa(e),(function(t){delete e[t]}))}function la(e,t){Ys(e,(function(e){Ys(t,(function(t){e&&e.removeAttribute(t)}))}))}function ua(e,t,n){Bs(t)?ia(t,(function(t,n){ua(e,n,t)})):Ys(e,(function(e){zs(n)||""===n?la(e,t):e.setAttribute(t,String(n))}))}function da(e,t,n){var r=document.createElement(e);return t&&(Gs(t)?Xs(r,t):ua(r,t)),n&&Zs(n,r),r}function ha(e,t,n){if(js(n))return getComputedStyle(e)[t];zs(n)||(e.style[t]=""+n)}function pa(e,t){ha(e,"display",t)}function fa(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function ga(e,t){return e.getAttribute(t)}function ma(e,t){return e&&e.classList.contains(t)}function va(e){return e.getBoundingClientRect()}function ya(e){Ys(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function wa(e){return ra((new DOMParser).parseFromString(e,"text/html").body)}function Ca(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function ba(e,t){return e&&e.querySelector(t)}function Ea(e,t){return t?Os(e.querySelectorAll(t)):[]}function Ta(e,t){Js(e,t,!1)}function Sa(e){return e.timeStamp}function _a(e){return Gs(e)?e:e?e+"px":""}var Ia="splide",ka="data-splide";function Aa(e,t){if(!e)throw new Error("[splide] "+(t||""))}var Ra=Math.min,Pa=Math.max,Ma=Math.floor,xa=Math.ceil,Na=Math.abs;function Oa(e,t,n){return Na(e-t)<n}function qa(e,t,n,r){var o=Ra(t,n),i=Pa(t,n);return r?o<e&&e<i:o<=e&&e<=i}function La(e,t,n){var r=Ra(t,n),o=Pa(t,n);return Ra(Pa(r,e),o)}function Ha(e){return+(e>0)-+(e<0)}function Da(e,t){return Ys(t,(function(t){e=e.replace("%s",""+t)})),e}function Ua(e){return e<10?"0"+e:""+e}var Ba={};function Fa(e){return""+e+Ua(Ba[e]=(Ba[e]||0)+1)}function Ka(){var e=[];function t(e,t,n){Ys(e,(function(e){e&&Ys(t,(function(t){t.split(" ").forEach((function(t){var r=t.split(".");n(e,r[0],r[1])}))}))}))}return{bind:function(n,r,o,i){t(n,r,(function(t,n,r){var s="addEventListener"in t,a=s?t.removeEventListener.bind(t,n,o,i):t.removeListener.bind(t,o);s?t.addEventListener(n,o,i):t.addListener(o),e.push([t,n,r,o,a])}))},unbind:function(n,r,o){t(n,r,(function(t,n,r){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==r||o&&e[3]!==o)||(e[4](),!1)}))}))},dispatch:function(e,t,n){var r;return"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:true,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,n),e.dispatchEvent(r),r},destroy:function(){e.forEach((function(e){e[4]()})),Ns(e)}}}var Ga="mounted",ja="ready",za="move",Wa="moved",Va="click",Ya="active",$a="inactive",Qa="visible",Ja="hidden",Xa="refresh",Za="updated",ec="resize",tc="resized",nc="scroll",rc="scrolled",oc="destroy",ic="arrows:mounted",sc="navigation:mounted",ac="autoplay:play",cc="autoplay:pause",lc="lazyload:loaded",uc="sk",dc="sh",hc="ei";function pc(e){var t=e?e.event.bus:document.createDocumentFragment(),n=Ka();return e&&e.event.on(oc,n.destroy),sa(n,{bus:t,on:function(e,r){n.bind(t,Vs(e).join(" "),(function(e){r.apply(r,Fs(e.detail)?e.detail:[])}))},off:qs(n.unbind,t),emit:function(e){n.dispatch(t,e,Os(arguments,1))}})}function fc(e,t,n,r){var o,i,s=Date.now,a=0,c=!0,l=0;function u(){if(!c){if(a=e?Ra((s()-o)/e,1):1,n&&n(a),a>=1&&(t(),o=s(),r&&++l>=r))return d();i=Ds(u)}}function d(){c=!0}function h(){i&&cancelAnimationFrame(i),a=0,i=0,c=!0}return{start:function(t){t||h(),o=s()-(t?a*e:0),c=!1,i=Ds(u)},rewind:function(){o=s(),a=0,n&&n(a)},pause:d,cancel:h,set:function(t){e=t},isPaused:function(){return c}}}var gc="ArrowLeft",mc="ArrowRight",vc="ArrowUp",yc="ArrowDown",wc="ttb",Cc={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[vc,mc],ArrowRight:[yc,gc]};function bc(e,t,n){return{resolve:function(e,t,r){var o="rtl"!==(r=r||n.direction)||t?r===wc?0:-1:1;return Cc[e]&&Cc[e][o]||e.replace(/width|left|right/i,(function(e,t){var n=Cc[e.toLowerCase()][o]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(e){return e*("rtl"===n.direction?1:-1)}}}var Ec="role",Tc="tabindex",Sc="aria-controls",_c="aria-current",Ic="aria-selected",kc="aria-label",Ac="aria-labelledby",Rc="aria-hidden",Pc="aria-orientation",Mc="aria-roledescription",xc="aria-live",Nc="aria-busy",Oc="aria-atomic",qc=[Ec,Tc,"disabled",Sc,_c,kc,Ac,Rc,Pc,Mc],Lc=Ia,Hc="splide__track",Dc="splide__list",Uc="splide__slide",Bc=Uc+"--clone",Fc="splide__arrows",Kc="splide__arrow",Gc=Kc+"--prev",jc=Kc+"--next",zc="splide__pagination",Wc=zc+"__page",Vc="splide__progress__bar",Yc="splide__toggle",$c="is-active",Qc="is-prev",Jc="is-next",Xc="is-visible",Zc="is-loading",el="is-focus-in",tl="is-overflow",nl=[$c,Xc,Qc,Jc,Zc,el,tl],rl={slide:Uc,clone:Bc,arrows:Fc,arrow:Kc,prev:Gc,next:jc,pagination:zc,page:Wc,spinner:"splide__spinner"};var ol="touchstart mousedown",il="touchmove mousemove",sl="touchend touchcancel mouseup click";var al="slide",cl="loop",ll="fade";function ul(e,t,n,r){var o,i=pc(e),s=i.on,a=i.emit,c=i.bind,l=e.Components,u=e.root,d=e.options,h=d.isNavigation,p=d.updateOnMove,f=d.i18n,g=d.pagination,m=d.slideFocus,v=l.Direction.resolve,y=ga(r,"style"),w=ga(r,kc),C=n>-1,b=ra(r,".splide__slide__container");function E(){var o=e.splides.map((function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""})).join(" ");ua(r,kc,Da(f.slideX,(C?n:t)+1)),ua(r,Sc,o),ua(r,Ec,m?"button":""),m&&la(r,Mc)}function T(){o||S()}function S(){if(!o){var n=e.index;(i=_())!==ma(r,$c)&&(Js(r,$c,i),ua(r,_c,h&&i||""),a(i?Ya:$a,I)),function(){var t=function(){if(e.is(ll))return _();var t=va(l.Elements.track),n=va(r),o=v("left",!0),i=v("right",!0);return Ma(t[o])<=xa(n[o])&&Ma(n[i])<=xa(t[i])}(),n=!t&&(!_()||C);e.state.is([4,5])||ua(r,Rc,n||"");ua(Ea(r,d.focusableNodes||""),Tc,n?-1:""),m&&ua(r,Tc,n?-1:0);t!==ma(r,Xc)&&(Js(r,Xc,t),a(t?Qa:Ja,I));if(!t&&document.activeElement===r){var o=l.Slides.getAt(e.index);o&&fa(o.slide)}}(),Js(r,Qc,t===n-1),Js(r,Jc,t===n+1)}var i}function _(){var r=e.index;return r===t||d.cloneStatus&&r===n}var I={index:t,slideIndex:n,slide:r,container:b,isClone:C,mount:function(){C||(r.id=u.id+"-slide"+Ua(t+1),ua(r,Ec,g?"tabpanel":"group"),ua(r,Mc,f.slide),ua(r,kc,w||Da(f.slideLabel,[t+1,e.length]))),c(r,"click",qs(a,Va,I)),c(r,"keydown",qs(a,uc,I)),s([Wa,dc,rc],S),s(sc,E),p&&s(za,T)},destroy:function(){o=!0,i.destroy(),Ta(r,nl),la(r,qc),ua(r,"style",y),ua(r,kc,w||"")},update:S,style:function(e,t,n){ha(n&&b||r,e,t)},isWithin:function(n,r){var o=Na(n-t);return C||!d.rewind&&!e.is(cl)||(o=Ra(o,e.length-o)),o<=r}};return I}var dl="http://www.w3.org/2000/svg",hl="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z";var pl={passive:!1,capture:!0};var fl={Spacebar:" ",Right:mc,Left:gc,Up:vc,Down:yc};function gl(e){return e=Gs(e)?e:e.key,fl[e]||e}var ml="keydown";var vl="data-splide-lazy",yl="data-splide-lazy-srcset",wl="[data-splide-lazy], [data-splide-lazy-srcset]";var Cl=[" ","Enter"];var bl=Object.freeze({__proto__:null,Media:function(e,t,n){var r=e.state,o=n.breakpoints||{},i=n.reducedMotion||{},s=Ka(),a=[];function c(e){e&&s.destroy()}function l(e,t){var n=matchMedia(t);s.bind(n,"change",u),a.push([e,n])}function u(){var t=r.is(7),o=n.direction,i=a.reduce((function(e,t){return aa(e,t[1].matches?t[0]:{})}),{});ca(n),d(i),n.destroy?e.destroy("completely"===n.destroy):t?(c(!0),e.mount()):o!==n.direction&&e.refresh()}function d(t,o,i){aa(n,t),o&&aa(Object.getPrototypeOf(n),t),!i&&r.is(1)||e.emit(Za,n)}return{setup:function(){var e="min"===n.mediaQuery;oa(o).sort((function(t,n){return e?+t-+n:+n-+t})).forEach((function(t){l(o[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),l(i,Ms),u()},destroy:c,reduce:function(e){matchMedia(Ms).matches&&(e?aa(n,i):ca(n,oa(i)))},set:d}},Direction:bc,Elements:function(e,t,n){var r,o,i,s=pc(e),a=s.on,c=s.bind,l=e.root,u=n.i18n,d={},h=[],p=[],f=[];function g(){r=y("."+Hc),o=ra(r,"."+Dc),Aa(r&&o,"A track/list element is missing."),Qs(h,na(o,".splide__slide:not(."+Bc+")")),ia({arrows:Fc,pagination:zc,prev:Gc,next:jc,bar:Vc,toggle:Yc},(function(e,t){d[t]=y("."+e)})),sa(d,{root:l,track:r,list:o,slides:h}),function(){var e=l.id||Fa(Ia),t=n.role;l.id=e,r.id=r.id||e+"-track",o.id=o.id||e+"-list",!ga(l,Ec)&&"SECTION"!==l.tagName&&t&&ua(l,Ec,t);ua(l,Mc,u.carousel),ua(o,Ec,"presentation")}(),v()}function m(e){var t=qc.concat("style");Ns(h),Ta(l,p),Ta(r,f),la([r,o],t),la(l,e?t:["style",Mc])}function v(){Ta(l,p),Ta(r,f),p=w(Lc),f=w(Hc),Xs(l,p),Xs(r,f),ua(l,kc,n.label),ua(l,Ac,n.labelledby)}function y(e){var t=ba(l,e);return t&&function(e,t){if(Ks(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!ta(n,t);)n=n.parentElement;return n}(t,"."+Lc)===l?t:void 0}function w(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===Lc&&$c]}return sa(d,{setup:g,mount:function(){a(Xa,m),a(Xa,g),a(Za,v),c(document,"touchstart mousedown keydown",(function(e){i="keydown"===e.type}),{capture:!0}),c(l,"focusin",(function(){Js(l,el,!!i)}))},destroy:m})},Slides:function(e,t,n){var r=pc(e),o=r.on,i=r.emit,s=r.bind,a=t.Elements,c=a.slides,l=a.list,u=[];function d(){c.forEach((function(e,t){p(e,t,-1)}))}function h(){g((function(e){e.destroy()})),Ns(u)}function p(t,n,r){var o=ul(e,n,r,t);o.mount(),u.push(o),u.sort((function(e,t){return e.index-t.index}))}function f(e){return e?m((function(e){return!e.isClone})):u}function g(e,t){f(t).forEach(e)}function m(e){return u.filter(Ks(e)?e:function(t){return Gs(e)?ta(t.slide,e):$s(Vs(e),t.index)})}return{mount:function(){d(),o(Xa,h),o(Xa,d)},destroy:h,update:function(){g((function(e){e.update()}))},register:p,get:f,getIn:function(e){var r=t.Controller,o=r.toIndex(e),i=r.hasFocus()?1:n.perPage;return m((function(e){return qa(e.index,o,o+i-1)}))},getAt:function(e){return m(e)[0]},add:function(e,t){Ys(e,(function(e){if(Gs(e)&&(e=wa(e)),Ws(e)){var r=c[t];r?ea(e,r):Zs(l,e),Xs(e,n.classes.slide),o=e,a=qs(i,ec),u=Ea(o,"img"),(d=u.length)?u.forEach((function(e){s(e,"load error",(function(){--d||a()}))})):a()}var o,a,u,d})),i(Xa)},remove:function(e){ya(m(e).map((function(e){return e.slide}))),i(Xa)},forEach:g,filter:m,style:function(e,t,n){g((function(r){r.style(e,t,n)}))},getLength:function(e){return e?c.length:u.length},isEnough:function(){return u.length>n.perPage}}},Layout:function(e,t,n){var r,o,i,s=pc(e),a=s.on,c=s.bind,l=s.emit,u=t.Slides,d=t.Direction.resolve,h=t.Elements,p=h.root,f=h.track,g=h.list,m=u.getAt,v=u.style;function y(){r=n.direction===wc,ha(p,"maxWidth",_a(n.width)),ha(f,d("paddingLeft"),C(!1)),ha(f,d("paddingRight"),C(!0)),w(!0)}function w(e){var t=va(p);(e||o.width!==t.width||o.height!==t.height)&&(ha(f,"height",function(){var e="";r&&(Aa(e=b(),"height or heightRatio is missing."),e="calc("+e+" - "+C(!1)+" - "+C(!0)+")");return e}()),v(d("marginRight"),_a(n.gap)),v("width",n.autoWidth?null:_a(n.fixedWidth)||(r?"":E())),v("height",_a(n.fixedHeight)||(r?n.autoHeight?null:E():b()),!0),o=t,l(tc),i!==(i=A())&&(Js(p,tl,i),l("overflow",i)))}function C(e){var t=n.padding,r=d(e?"right":"left");return t&&_a(t[r]||(Bs(t)?0:t))||"0px"}function b(){return _a(n.height||va(g).width*n.heightRatio)}function E(){var e=_a(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function T(){return va(g)[d("width")]}function S(e,t){var n=m(e||0);return n?va(n.slide)[d("width")]+(t?0:k()):0}function _(e,t){var n=m(e);if(n){var r=va(n.slide)[d("right")],o=va(g)[d("left")];return Na(r-o)+(t?0:k())}return 0}function I(t){return _(e.length-1)-_(0)+S(0,t)}function k(){var e=m(0);return e&&parseFloat(ha(e.slide,d("marginRight")))||0}function A(){return e.is(ll)||I(!0)>T()}return{mount:function(){var e,t,n;y(),c(window,"resize load",(e=qs(l,ec),n=fc(t||0,e,null,1),function(){n.isPaused()&&n.start()})),a([Za,Xa],y),a(ec,w)},resize:w,listSize:T,slideSize:S,sliderSize:I,totalSize:_,getPadding:function(e){return parseFloat(ha(f,d("padding"+(e?"Right":"Left"))))||0},isOverflow:A}},Clones:function(e,t,n){var r,o=pc(e),i=o.on,s=t.Elements,a=t.Slides,c=t.Direction.resolve,l=[];function u(){i(Xa,d),i([Za,ec],p),(r=f())&&(!function(t){var r=a.get().slice(),o=r.length;if(o){for(;r.length<t;)Qs(r,r);Qs(r.slice(-t),r.slice(0,t)).forEach((function(i,c){var u=c<t,d=function(t,r){var o=t.cloneNode(!0);return Xs(o,n.classes.clone),o.id=e.root.id+"-clone"+Ua(r+1),o}(i.slide,c);u?ea(d,r[0].slide):Zs(s.list,d),Qs(l,d),a.register(d,c-t+(u?0:o),i.index)}))}}(r),t.Layout.resize(!0))}function d(){h(),u()}function h(){ya(l),Ns(l),o.destroy()}function p(){var e=f();r!==e&&(r<e||!e)&&o.emit(Xa)}function f(){var r=n.clones;if(e.is(cl)){if(js(r)){var o=n[c("fixedWidth")]&&t.Layout.slideSize(0);r=o&&xa(va(s.track)[c("width")]/o)||n[c("autoWidth")]&&e.length||2*n.perPage}}else r=0;return r}return{mount:u,destroy:h}},Move:function(e,t,n){var r,o=pc(e),i=o.on,s=o.emit,a=e.state.set,c=t.Layout,l=c.slideSize,u=c.getPadding,d=c.totalSize,h=c.listSize,p=c.sliderSize,f=t.Direction,g=f.resolve,m=f.orient,v=t.Elements,y=v.list,w=v.track;function C(){t.Controller.isBusy()||(t.Scroll.cancel(),b(e.index),t.Slides.update())}function b(e){E(I(e,!0))}function E(n,r){if(!e.is(ll)){var o=r?n:function(n){if(e.is(cl)){var r=_(n),o=r>t.Controller.getEnd();(r<0||o)&&(n=T(n,o))}return n}(n);ha(y,"transform","translate"+g("X")+"("+o+"px)"),n!==o&&s(dc)}}function T(e,t){var n=e-A(t),r=p();return e-=m(r*(xa(Na(n)/r)||1))*(t?1:-1)}function S(){E(k(),!0),r.cancel()}function _(e){for(var n=t.Slides.get(),r=0,o=1/0,i=0;i<n.length;i++){var s=n[i].index,a=Na(I(s,!0)-e);if(!(a<=o))break;o=a,r=s}return r}function I(t,r){var o=m(d(t-1)-function(e){var t=n.focus;return"center"===t?(h()-l(e,!0))/2:+t*l(e)||0}(t));return r?function(t){n.trimSpace&&e.is(al)&&(t=La(t,0,m(p(!0)-h())));return t}(o):o}function k(){var e=g("left");return va(y)[e]-va(w)[e]+m(u(!1))}function A(e){return I(e?t.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){r=t.Transition,i([Ga,tc,Za,Xa],C)},move:function(e,t,n,o){var i,c;e!==t&&(i=e>n,c=m(T(k(),i)),i?c>=0:c<=y[g("scrollWidth")]-va(w)[g("width")])&&(S(),E(T(k(),e>n),!0)),a(4),s(za,t,n,e),r.start(t,(function(){a(3),s(Wa,t,n,e),o&&o()}))},jump:b,translate:E,shift:T,cancel:S,toIndex:_,toPosition:I,getPosition:k,getLimit:A,exceededLimit:function(e,t){t=js(t)?k():t;var n=!0!==e&&m(t)<m(A(!1)),r=!1!==e&&m(t)>m(A(!0));return n||r},reposition:C}},Controller:function(e,t,n){var r,o,i,s,a=pc(e),c=a.on,l=a.emit,u=t.Move,d=u.getPosition,h=u.getLimit,p=u.toPosition,f=t.Slides,g=f.isEnough,m=f.getLength,v=n.omitEnd,y=e.is(cl),w=e.is(al),C=qs(I,!1),b=qs(I,!0),E=n.start||0,T=E;function S(){o=m(!0),i=n.perMove,s=n.perPage,r=R();var e=La(E,0,v?r:o-1);e!==E&&(E=e,u.reposition())}function _(){r!==R()&&l(hc)}function I(e,t){var n=i||(N()?1:s),o=k(E+n*(e?-1:1),E,!(i||N()));return-1===o&&w&&!Oa(d(),h(!e),1)?e?0:r:t?o:A(o)}function k(t,a,c){if(g()||N()){var l=function(t){if(w&&"move"===n.trimSpace&&t!==E)for(var r=d();r===p(t,!0)&&qa(t,0,e.length-1,!n.rewind);)t<E?--t:++t;return t}(t);l!==t&&(a=t,t=l,c=!1),t<0||t>r?t=i||!qa(0,t,a,!0)&&!qa(r,a,t,!0)?y?c?t<0?-(o%s||s):o:t:n.rewind?t<0?r:0:-1:P(M(t)):c&&t!==a&&(t=P(M(a)+(t<a?-1:1)))}else t=-1;return t}function A(e){return y?(e+o)%o||0:e}function R(){for(var e=o-(N()||y&&i?1:s);v&&e-- >0;)if(p(o-1,!0)!==p(e,!0)){e++;break}return La(e,0,o-1)}function P(e){return La(N()?e:s*e,0,r)}function M(e){return N()?Ra(e,r):Ma((e>=r?o-1:e)/s)}function x(e){e!==E&&(T=E,E=e)}function N(){return!js(n.focus)||n.isNavigation}function O(){return e.state.is([4,5])&&!!n.waitForTransition}return{mount:function(){S(),c([Za,Xa,hc],S),c(tc,_)},go:function(e,t,n){if(!O()){var o=function(e){var t=E;if(Gs(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],o=n[1],i=n[2];"+"===o||"-"===o?t=k(E+ +(""+o+(+i||1)),E):">"===o?t=i?P(+i):C(!0):"<"===o&&(t=b(!0))}else t=y?e:La(e,0,r);return t}(e),i=A(o);i>-1&&(t||i!==E)&&(x(i),u.move(o,i,T,n))}},scroll:function(e,n,o,i){t.Scroll.scroll(e,n,o,(function(){var e=A(u.toIndex(d()));x(v?Ra(e,r):e),i&&i()}))},getNext:C,getPrev:b,getAdjacent:I,getEnd:R,setIndex:x,getIndex:function(e){return e?T:E},toIndex:P,toPage:M,toDest:function(e){var t=u.toIndex(e);return w?La(t,0,r):t},hasFocus:N,isBusy:O}},Arrows:function(e,t,n){var r,o,i=pc(e),s=i.on,a=i.bind,c=i.emit,l=n.classes,u=n.i18n,d=t.Elements,h=t.Controller,p=d.arrows,f=d.track,g=p,m=d.prev,v=d.next,y={};function w(){!function(){var e=n.arrows;!e||m&&v||(g=p||da("div",l.arrows),m=T(!0),v=T(!1),r=!0,Zs(g,[m,v]),!p&&ea(g,f));m&&v&&(sa(y,{prev:m,next:v}),pa(g,e?"":"none"),Xs(g,o=Fc+"--"+n.direction),e&&(s([Ga,Wa,Xa,rc,hc],S),a(v,"click",qs(E,">")),a(m,"click",qs(E,"<")),S(),ua([m,v],Sc,f.id),c(ic,m,v)))}(),s(Za,C)}function C(){b(),w()}function b(){i.destroy(),Ta(g,o),r?(ya(p?[m,v]:g),m=v=null):la([m,v],qc)}function E(e){h.go(e,!0)}function T(e){return wa('<button class="'+l.arrow+" "+(e?l.prev:l.next)+'" type="button"><svg xmlns="'+dl+'" viewBox="0 0 '+"40 "+'40" width="'+'40" height="'+'40" focusable="false"><path d="'+(n.arrowPath||hl)+'" />')}function S(){if(m&&v){var t=e.index,n=h.getPrev(),r=h.getNext(),o=n>-1&&t<n?u.last:u.prev,i=r>-1&&t>r?u.first:u.next;m.disabled=n<0,v.disabled=r<0,ua(m,kc,o),ua(v,kc,i),c("arrows:updated",m,v,n,r)}}return{arrows:y,mount:w,destroy:b,update:S}},Autoplay:function(e,t,n){var r,o,i=pc(e),s=i.on,a=i.bind,c=i.emit,l=fc(n.interval,e.go.bind(e,">"),(function(e){var t=d.bar;t&&ha(t,"width",100*e+"%"),c("autoplay:playing",e)})),u=l.isPaused,d=t.Elements,h=t.Elements,p=h.root,f=h.toggle,g=n.autoplay,m="pause"===g;function v(){u()&&t.Slides.isEnough()&&(l.start(!n.resetProgress),o=r=m=!1,C(),c(ac))}function y(e){void 0===e&&(e=!0),m=!!e,C(),u()||(l.pause(),c(cc))}function w(){m||(r||o?y(!1):v())}function C(){f&&(Js(f,$c,!m),ua(f,kc,n.i18n[m?"play":"pause"]))}function b(e){var r=t.Slides.getAt(e);l.set(r&&+ga(r.slide,"data-splide-interval")||n.interval)}return{mount:function(){g&&(!function(){n.pauseOnHover&&a(p,"mouseenter mouseleave",(function(e){r="mouseenter"===e.type,w()}));n.pauseOnFocus&&a(p,"focusin focusout",(function(e){o="focusin"===e.type,w()}));f&&a(f,"click",(function(){m?v():y(!0)}));s([za,nc,Xa],l.rewind),s(za,b)}(),f&&ua(f,Sc,d.track.id),m||v(),C())},destroy:l.cancel,play:v,pause:y,isPaused:u}},Cover:function(e,t,n){var r=pc(e).on;function o(e){t.Slides.forEach((function(t){var n=ra(t.container||t.slide,"img");n&&n.src&&i(e,n,t)}))}function i(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),pa(t,e?"none":"")}return{mount:function(){n.cover&&(r(lc,qs(i,!0)),r([Ga,Za,Xa],qs(o,!0)))},destroy:qs(o,!1)}},Scroll:function(e,t,n){var r,o,i=pc(e),s=i.on,a=i.emit,c=e.state.set,l=t.Move,u=l.getPosition,d=l.getLimit,h=l.exceededLimit,p=l.translate,f=e.is(al),g=1;function m(e,n,i,s,d){var p=u();if(w(),i&&(!f||!h())){var m=t.Layout.sliderSize(),C=Ha(e)*m*Ma(Na(e)/m)||0;e=l.toPosition(t.Controller.toDest(e%m))+C}var b=Oa(p,e,1);g=1,n=b?0:n||Pa(Na(e-p)/1.5,800),o=s,r=fc(n,v,qs(y,p,e,d),1),c(5),a(nc),r.start()}function v(){c(3),o&&o(),a(rc)}function y(e,t,r,i){var s,a,c=u(),l=(e+(t-e)*(s=i,(a=n.easingFunc)?a(s):1-Math.pow(1-s,4))-c)*g;p(c+l),f&&!r&&h()&&(g*=.6,Na(l)<10&&m(d(h(!0)),600,!1,o,!0))}function w(){r&&r.cancel()}function C(){r&&!r.isPaused()&&(w(),v())}return{mount:function(){s(za,w),s([Za,Xa],C)},destroy:w,scroll:m,cancel:C}},Drag:function(e,t,n){var r,o,i,s,a,c,l,u,d=pc(e),h=d.on,p=d.emit,f=d.bind,g=d.unbind,m=e.state,v=t.Move,y=t.Scroll,w=t.Controller,C=t.Elements.track,b=t.Media.reduce,E=t.Direction,T=E.resolve,S=E.orient,_=v.getPosition,I=v.exceededLimit,k=!1;function A(){var e=n.drag;U(!e),s="free"===e}function R(e){if(c=!1,!l){var t=D(e);r=e.target,o=n.noDrag,ta(r,".splide__pagination__page, ."+Kc)||o&&ta(r,o)||!t&&e.button||(w.isBusy()?Ca(e,!0):(u=t?C:window,a=m.is([4,5]),i=null,f(u,il,P,pl),f(u,sl,M,pl),v.cancel(),y.cancel(),N(e)))}var r,o}function P(t){if(m.is(6)||(m.set(6),p("drag")),t.cancelable)if(a){v.translate(r+O(t)/(k&&e.is(al)?5:1));var o=q(t)>200,i=k!==(k=I());(o||i)&&N(t),c=!0,p("dragging"),Ca(t)}else(function(e){return Na(O(e))>Na(O(e,!0))})(t)&&(a=function(e){var t=n.dragMinThreshold,r=Bs(t),o=r&&t.mouse||0,i=(r?t.touch:+t)||10;return Na(O(e))>(D(e)?i:o)}(t),Ca(t))}function M(r){m.is(6)&&(m.set(3),p("dragged")),a&&(!function(r){var o=function(t){if(e.is(cl)||!k){var n=q(t);if(n&&n<200)return O(t)/n}return 0}(r),i=function(e){return _()+Ha(e)*Ra(Na(e)*(n.flickPower||600),s?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(o),a=n.rewind&&n.rewindByDrag;b(!1),s?w.scroll(i,0,n.snap):e.is(ll)?w.go(S(Ha(o))<0?a?"<":"-":a?">":"+"):e.is(al)&&k&&a?w.go(I(!0)?">":"<"):w.go(w.toDest(i),!0);b(!0)}(r),Ca(r)),g(u,il,P),g(u,sl,M),a=!1}function x(e){!l&&c&&Ca(e,!0)}function N(e){i=o,o=e,r=_()}function O(e,t){return H(e,t)-H(L(e),t)}function q(e){return Sa(e)-Sa(L(e))}function L(e){return o===e&&i||o}function H(e,t){return(D(e)?e.changedTouches[0]:e)["page"+T(t?"Y":"X")]}function D(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function U(e){l=e}return{mount:function(){f(C,il,Hs,pl),f(C,sl,Hs,pl),f(C,ol,R,pl),f(C,"click",x,{capture:!0}),f(C,"dragstart",Ca),h([Ga,Za],A)},disable:U,isDragging:function(){return a}}},Keyboard:function(e,t,n){var r,o,i=pc(e),s=i.on,a=i.bind,c=i.unbind,l=e.root,u=t.Direction.resolve;function d(){var e=n.keyboard;e&&(r="global"===e?window:l,a(r,ml,f))}function h(){c(r,ml)}function p(){var e=o;o=!0,Ls((function(){o=e}))}function f(t){if(!o){var n=gl(t);n===u(gc)?e.go("<"):n===u(mc)&&e.go(">")}}return{mount:function(){d(),s(Za,h),s(Za,d),s(za,p)},destroy:h,disable:function(e){o=e}}},LazyLoad:function(e,t,n){var r=pc(e),o=r.on,i=r.off,s=r.bind,a=r.emit,c="sequential"===n.lazyLoad,l=[Wa,rc],u=[];function d(){Ns(u),t.Slides.forEach((function(e){Ea(e.slide,wl).forEach((function(t){var r=ga(t,vl),o=ga(t,yl);if(r!==t.src||o!==t.srcset){var i=n.classes.spinner,s=t.parentElement,a=ra(s,"."+i)||da("span",i,s);u.push([t,e,a]),t.src||pa(t,"none")}}))})),c?g():(i(l),o(l,h),h())}function h(){u=u.filter((function(t){var r=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,r)||p(t)})),u.length||i(l)}function p(e){var t=e[0];Xs(e[1].slide,Zc),s(t,"load error",qs(f,e)),ua(t,"src",ga(t,vl)),ua(t,"srcset",ga(t,yl)),la(t,vl),la(t,yl)}function f(e,t){var n=e[0],r=e[1];Ta(r.slide,Zc),"error"!==t.type&&(ya(e[2]),pa(n,""),a(lc,n,r),a(ec)),c&&g()}function g(){u.length&&p(u.shift())}return{mount:function(){n.lazyLoad&&(d(),o(Xa,d))},destroy:qs(Ns,u),check:h}},Pagination:function(e,t,n){var r,o,i=pc(e),s=i.on,a=i.emit,c=i.bind,l=t.Slides,u=t.Elements,d=t.Controller,h=d.hasFocus,p=d.getIndex,f=d.go,g=t.Direction.resolve,m=u.pagination,v=[];function y(){r&&(ya(m?Os(r.children):r),Ta(r,o),Ns(v),r=null),i.destroy()}function w(e){f(">"+e,!0)}function C(e,t){var n=v.length,r=gl(t),o=b(),i=-1;r===g(mc,!1,o)?i=++e%n:r===g(gc,!1,o)?i=(--e+n)%n:"Home"===r?i=0:"End"===r&&(i=n-1);var s=v[i];s&&(fa(s.button),f(">"+i),Ca(t,!0))}function b(){return n.paginationDirection||n.direction}function E(e){return v[d.toPage(e)]}function T(){var e=E(p(!0)),t=E(p());if(e){var n=e.button;Ta(n,$c),la(n,Ic),ua(n,Tc,-1)}if(t){var o=t.button;Xs(o,$c),ua(o,Ic,!0),ua(o,Tc,"")}a("pagination:updated",{list:r,items:v},e,t)}return{items:v,mount:function t(){y(),s([Za,Xa,hc],t);var i=n.pagination;m&&pa(m,i?"":"none"),i&&(s([za,nc,rc],T),function(){var t=e.length,i=n.classes,s=n.i18n,a=n.perPage,p=h()?d.getEnd()+1:xa(t/a);Xs(r=m||da("ul",i.pagination,u.track.parentElement),o=zc+"--"+b()),ua(r,Ec,"tablist"),ua(r,kc,s.select),ua(r,Pc,b()===wc?"vertical":"");for(var f=0;f<p;f++){var g=da("li",null,r),y=da("button",{class:i.page,type:"button"},g),E=l.getIn(f).map((function(e){return e.slide.id})),T=!h()&&a>1?s.pageX:s.slideX;c(y,"click",qs(w,f)),n.paginationKeyboard&&c(y,"keydown",qs(C,f)),ua(g,Ec,"presentation"),ua(y,Ec,"tab"),ua(y,Sc,E.join(" ")),ua(y,kc,Da(T,f+1)),ua(y,Tc,-1),v.push({li:g,button:y,page:f})}}(),T(),a("pagination:mounted",{list:r,items:v},E(e.index)))},destroy:y,getAt:E,update:T}},Sync:function(e,t,n){var r=n.isNavigation,o=n.slideFocus,i=[];function s(){e.splides.forEach((function(t){t.isParent||(c(e,t.splide),c(t.splide,e))})),r&&function(){var t=pc(e),n=t.on;n(Va,u),n(uc,d),n([Ga,Za],l),i.push(t),t.emit(sc,e.splides)}()}function a(){i.forEach((function(e){e.destroy()})),Ns(i)}function c(e,t){var n=pc(e);n.on(za,(function(e,n,r){t.go(t.is(cl)?r:e)})),i.push(n)}function l(){ua(t.Elements.list,Pc,n.direction===wc?"vertical":"")}function u(t){e.go(t.index)}function d(e,t){$s(Cl,gl(t))&&(u(e),Ca(t))}return{setup:qs(t.Media.set,{slideFocus:js(o)?r:o},!0),mount:s,destroy:a,remount:function(){a(),s()}}},Wheel:function(e,t,n){var r=pc(e).bind,o=0;function i(r){if(r.cancelable){var i=r.deltaY,s=i<0,a=Sa(r),c=n.wheelMinThreshold||0,l=n.wheelSleep||0;Na(i)>c&&a-o>l&&(e.go(s?"<":">"),o=a),function(r){return!n.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(r)}(s)&&Ca(r)}}return{mount:function(){n.wheel&&r(t.Elements.track,"wheel",i,pl)}}},Live:function(e,t,n){var r=pc(e).on,o=t.Elements.track,i=n.live&&!n.isNavigation,s=da("span","splide__sr"),a=fc(90,qs(c,!1));function c(e){ua(o,Nc,e),e?(Zs(o,s),a.start()):(ya(s),a.cancel())}function l(e){i&&ua(o,xc,e?"off":"polite")}return{mount:function(){i&&(l(!t.Autoplay.isPaused()),ua(o,Oc,!0),s.textContent="â¦",r(ac,qs(l,!0)),r(cc,qs(l,!1)),r([Wa,rc],qs(c,!0)))},disable:l,destroy:function(){la(o,[xc,Oc,Nc]),ya(s)}}}}),El={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:rl,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Tl(e,t,n){var r=t.Slides;function o(){r.forEach((function(e){e.style("transform","translateX(-"+100*e.index+"%)")}))}return{mount:function(){pc(e).on([Ga,Xa],o)},start:function(e,t){r.style("transition","opacity "+n.speed+"ms "+n.easing),Ls(t)},cancel:Hs}}function Sl(e,t,n){var r,o=t.Move,i=t.Controller,s=t.Scroll,a=t.Elements.list,c=qs(ha,a,"transition");function l(){c(""),s.cancel()}return{mount:function(){pc(e).bind(a,"transitionend",(function(e){e.target===a&&r&&(l(),r())}))},start:function(t,a){var l=o.toPosition(t,!0),u=o.getPosition(),d=function(t){var r=n.rewindSpeed;if(e.is(al)&&r){var o=i.getIndex(!0),s=i.getEnd();if(0===o&&t>=s||o>=s&&0===t)return r}return n.speed}(t);Na(l-u)>=1&&d>=1?n.useScroll?s.scroll(l,d,!1,a):(c("transform "+d+"ms "+n.easing),o.translate(l,!0),r=a):(o.jump(t),a())},cancel:l}}var _l=function(){function e(t,n){var r;this.event=pc(),this.Components={},this.state=(r=1,{set:function(e){r=e},is:function(e){return $s(Vs(e),r)}}),this.splides=[],this._o={},this._E={};var o=Gs(t)?ba(document,t):t;Aa(o,o+" is invalid."),this.root=o,n=aa({label:ga(o,kc)||"",labelledby:ga(o,Ac)||""},El,e.defaults,n||{});try{aa(n,JSON.parse(ga(o,ka)))}catch(e){Aa(!1,"Invalid JSON")}this._o=Object.create(aa({},n))}var t,n,r,o=e.prototype;return o.mount=function(e,t){var n=this,r=this.state,o=this.Components;return Aa(r.is([1,7]),"Already mounted!"),r.set(1),this._C=o,this._T=t||this._T||(this.is(ll)?Tl:Sl),this._E=e||this._E,ia(sa({},bl,this._E,{Transition:this._T}),(function(e,t){var r=e(n,o,n._o);o[t]=r,r.setup&&r.setup()})),ia(o,(function(e){e.mount&&e.mount()})),this.emit(Ga),Xs(this.root,"is-initialized"),r.set(3),this.emit(ja),this},o.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},o.go=function(e){return this._C.Controller.go(e),this},o.on=function(e,t){return this.event.on(e,t),this},o.off=function(e){return this.event.off(e),this},o.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(Os(arguments,1))),this},o.add=function(e,t){return this._C.Slides.add(e,t),this},o.remove=function(e){return this._C.Slides.remove(e),this},o.is=function(e){return this._o.type===e},o.refresh=function(){return this.emit(Xa),this},o.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?pc(this).on(ja,this.destroy.bind(this,e)):(ia(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(oc),t.destroy(),e&&Ns(this.splides),n.set(7)),this},t=e,(n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&Ps(t.prototype,n),r&&Ps(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Il=_l;Il.defaults={},Il.STATES=xs;class kl{constructor(e){this.component=e,this.swiperContainer=e?.querySelector("#main-slider"),this.thumbContainer=e?.querySelector(".swiper-container"),this.thumbnails=e?.getElementsByClassName("thumbnail"),this.component&&this.init()}init(){this.swiper=new ys(this.thumbContainer,{loop:!1,spaceBetween:50,centeredSlides:!1,breakpoints:{320:{slidesPerView:2},768:{slidesPerView:5},1366:{slidesPerView:5},1920:{slidesPerView:5}}});for(var e=new Il(this.swiperContainer,{pagination:!1,isNavigation:!1,arrows:!1,cover:!0,drag:!1,type:ll}),t=0;t<this.thumbnails.length;t++)n(this.thumbnails[t],t);function n(t,n){t.addEventListener("click",(function(){document.querySelectorAll(".thumbnails .thumbnail").forEach((e=>{e.querySelector("p").style.color="#666666",e.querySelector("p").style.fontWeight="normal"})),t.querySelector("p").style.color="#003366",t.querySelector("p").style.fontWeight="700",e.go(n)}))}e.on("mounted move",(function(){var t=thumbnails[e.index];t&&(current&&current.classList.remove("is-active"),t.classList.add("is-active"),current=t)})),e.mount()}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".galleryWrapper"));e?.length&&e?.forEach((e=>{new kl(e)}))}));class Al{constructor(e){this.component=e,this.range=e?.querySelector("#range"),this.mainCont=e?.querySelector("#main"),this.img=e?.querySelector("span"),this.img&&(this.imgPath=this.img.getAttribute("data-src"),this.imgName=this.img.getAttribute("data-img"),this.imgExt=this.img.getAttribute("data-ext")),this.range&&(this.minRange=this.range.getAttribute("data-min"),this.maxRange=this.range.getAttribute("data-max"),this.range.setAttribute("min",this.minRange),this.range.setAttribute("max",this.maxRange)),this.component&&this.init()}init(){this.img&&this.imgPath&&this.imgName&&this.imgExt&&(this.mainCont.innerHTML=`<img src="${this.imgPath}/${this.imgName}.${this.imgExt}">`),this.range&&this.img&&this.range.addEventListener("input",(()=>{this.actualRange=this.range.value,this.img&&this.actualRange&&this.imgPath&&this.imgExt&&(this.mainCont.innerHTML=`<img src="${this.imgPath}/${this.actualRange}.${this.imgExt}">`)}))}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".galleryWrapper .container"));e?.length&&e?.forEach((e=>{new Al(e)}))}));class Rl{constructor(e){this.swiperContainer=e?.querySelector(".cards-carousel"),this.transitionSpeed=e.getAttribute("data-swiper-autoplay"),this.progressBar=e.querySelector(".bullet_style-nav__progress-bar").style,this.pagination=e.querySelector(".bullet_style-nav__pagination"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.initCarousel1()}initCarousel1(){this.swiper=new ys(this.swiperContainer,{modules:[Cs,Es,Ts],loop:!1,autoplay:{delay:this.transitionSpeed,disableOnInteraction:!1,stopOnLastSlide:!1},navigation:{nextEl:this.next,prevEl:this.prev},pagination:{el:this.pagination,type:"fraction"},breakpoints:{320:{slidesPerView:1,spaceBetween:70},768:{slidesPerView:1,spaceBetween:40,speed:70},1024:{slidesPerView:3},1440:{slidesPerView:3}},on:{init:function(){vi()(".block-about-fcc-role .bullet_style-nav__progress").removeClass("animate"),vi()(".block-about-fcc-role .bullet_style-nav__progress").removeClass("active"),vi()(".block-about-fcc-role .bullet_style-nav__progress").eq(0).addClass("animate"),vi()(".block-about-fcc-role .bullet_style-nav__progress").eq(0).addClass("active")},slideChangeTransitionStart:function(){vi()(".block-about-fcc-role .bullet_style-nav__progress").removeClass("animate"),vi()(".block-about-fcc-role .bullet_style-nav__progress").removeClass("active"),vi()(".block-about-fcc-role .bullet_style-nav__progress").eq(0).addClass("active")},slideChangeTransitionEnd:function(){vi()(".block-about-fcc-role .bullet_style-nav__progress").eq(0).addClass("animate")}}});var e=this.swiperContainer.swiper;vi()(" .block-about-fcc-role .swiper-wrapper").hover((function(){e.autoplay.stop(),vi()(".block-about-fcc-role .bullet_style-nav__progress").removeClass("animate")}),(function(){e.autoplay.start(),vi()(".block-about-fcc-role .bullet_style-nav__progress").addClass("animate")})),this.progressBar.setProperty("--transition-duration",this.transitionSpeed/1e3+"s")}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".block-about-fcc-role"));e?.length&&e?.forEach((e=>{new Rl(e)}))}));class Pl{constructor(e){this.component=e,this.pagination=e.querySelector(".swiper-pagination"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.swiperContainer=e?.querySelector(".bullet-slide"),this.contentHt=e.querySelector(".bullet_style").offsetHeight,this.bulletHeight=e.querySelector(".imageWrapper img"),this.bulletHeight.style.height=this.contentHt+"px",this.component&&this.initCarousel()}initCarousel(){this.swiper=new ys(this.swiperContainer,{modules:[Cs,Es],centeredSlides:!1,navigation:{nextEl:this.next,prevEl:this.prev},pagination:{el:this.pagination,type:"fraction"},loop:!1,breakpoints:{320:{slidesPerView:1.23,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},1200:{slidesPerView:4,spaceBetween:20}}})}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".bullet-style-cards"));e?.length&&e?.forEach((e=>{new Pl(e)}))}));class Ml{constructor(e){this.swiperContainer=e?.querySelector(".bullet-slide"),this.swiperWrapper=this.swiperContainer.querySelector(".bullet-slide-carousel"),this.swiperSlide=this.swiperWrapper.querySelectorAll(".item"),this.swiperButton=e?.querySelector(".swiper-button"),this.contentHt=e.querySelector(".bullet_style").offsetHeight,this.bulletHeight=e.querySelector(".imageWrapper img"),this.bulletHeight.style.height=this.contentHt+"px",this.initbulletstyle()}initbulletstyle(){this.swiperContainer.classList.remove("swiper"),this.swiperWrapper.classList.remove("swiper-wrapper"),this.swiperSlide.forEach((e=>{e.classList.remove("swiper-slide")})),this.swiperButton.remove()}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".bullet-style-static-cards"));e?.length&&e?.forEach((e=>{new Ml(e)}))}));class xl{constructor(e){this.button=e.querySelectorAll("button"),this.getGtag=e.getAttribute("data-gtag"),this.getUrl=e.getAttribute("data-url"),this.init(e)}init(e){localStorage.getItem("cookies")?(this.addGTAG(e),this.addTrueHit()):setTimeout((function(){e.classList.add("visible")}),500),this.button.forEach((t=>{t.addEventListener("click",(()=>{localStorage.setItem("cookies","true"),e.classList.remove("visible"),this.addGTAG(e),this.addTrueHit()}))}))}addGTAG(e){vi().getScript("https://www.googletagmanager.com/gtag/js?id=`"+this.getGtag+"`",(function(){function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],this.getGtag=e.getAttribute("data-gtag"),t("js",new Date),t("config",this.getGtag)}))}addTrueHit(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("async",""),e.setAttribute("src",this.getUrl),document.head.appendChild(e)}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".cookie"));e.length&&e.forEach((e=>{new xl(e)}))}));class Nl{constructor(e){if(this.swiperContainer=e.querySelector(".swiper-container"),this.swiperContainer){this.createSlides(e),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next");const t=e.querySelectorAll(".dashboardxp"),n=window.matchMedia("(min-width:798px)");t.length>3||!n.matches?(this.initCarousel(),e.querySelector(".swiper-button-wrapper").classList.add("hide")):(e.querySelector(".swiper-button-wrapper").remove(),t.forEach((e=>{e.classList.add("static-tile")})),e.querySelector(".swiper").classList.add("overflow-inh"),e.querySelector(".swiper-wrapper").classList.add("overflow-inh"))}}createSlides(e){console.log(e);e.querySelectorAll(".dashboardxp")?.forEach((e=>{e.classList.add("swiper-slide")}))}initCarousel(){this.swiper=new ys(this.swiperContainer,{modules:[Ts,Cs],loop:!1,autoplay:!1,spaceBetween:15,allowTouchMove:!0,breakpoints:{320:{slidesPerView:1.2},768:{slidesPerView:1.9},1200:{slidesPerView:3.2}},navigation:{nextEl:this.next,prevEl:this.prev}})}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".dashboard"));e.length&&e.forEach((e=>{new Nl(e)}))}));n(466),n(829);class Ol{constructor(e){this.component=e,this.swiperContainer=e?.querySelector(".cards-carousel"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.pagination=e.querySelector(".extended-cards-nav__pagination"),this.component&&this.initCarousel(e)}initCarousel(e){this.swiper=new ys(this.swiperContainer,{modules:[Cs,Es],pagination:{el:this.pagination,type:"fraction"},navigation:{nextEl:this.next,prevEl:this.prev},breakpoints:{320:{slidesPerView:1.2},768:{slidesPerView:1,spaceBetween:40},1024:{slidesPerView:3},1440:{slidesPerView:3}}});let t=e.querySelectorAll(".content"),n=null;t.forEach((e=>{if(e.textContent.length<300)e.nextElementSibling.style.display="none";else{let t=e.textContent.slice(0,300),n=e.textContent.slice(300);e.innerHTML=`${t}<span class="dots">...</span><span class="more hide">${n}</span>`}}));const r=e.querySelectorAll(".read_on"),o=e.querySelector(".expand"),i=e.querySelector(".collapse");r.forEach((e=>{e.addEventListener("click",(()=>{let t=e.parentElement,r=t.querySelector(".dots"),s=t.querySelector(".more");if(r.classList.toggle("hide"),s.classList.toggle("hide"),r.classList.contains("hide")){if(e.innerHTML=`<i class="icon-ic-up-li"></i>${i.textContent}`,n&&n!==t){let e=n.querySelector(".dots"),t=n.querySelector(".more");e.classList.remove("hide"),t.classList.add("hide"),n.querySelector(".read_on").innerHTML=`<i class="icon-ic-down-li"></i>${o.textContent}`}n=t}else e.innerHTML=`<i class="icon-ic-down-li"></i>${o.textContent}`,n=null}))}))}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".swiper-box"));e?.length&&e?.forEach((e=>{new Ol(e)}))}));class ql{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.toggleAccordion=e.querySelectorAll(".item-header-faq"),this.init()}init(){let e={};e={modules:[Es,Cs,As],autoWidth:!0,loopFillGroupWithBlank:!0,spaceBetween:20,breakpoints:{1200:{slidesPerView:2.6,slidesPerGroup:2},1024:{slidesPerView:1.5,slidesPerGroup:1}}};window.matchMedia("(min-width:798px)").matches&&(this.swiper=new ys(this.swiperContainer,e)),this.toggleAccordion.forEach((e=>e.addEventListener("click",this.toggleFaq)))}toggleFaq(e){const t=e.target.closest(".faqs-footer__swiper--box-faq"),n=t.querySelector(".item-content-faq p"),r=document.querySelector(".satang-stories-faq");if(e.target.closest(".item-header-faq").classList.contains("expanded"))e.target.closest(".item-header-faq").classList.remove("expanded"),t.querySelector(".item-content-faq").classList.remove("expanded"),t.querySelector(".btn-plus i.addIcon").classList.remove("d-none"),t.querySelector(".btn-plus i.closeIcon").classList.add("d-none"),r&&n.querySelector("span").remove(),n.innerText=n.getAttribute("data-content")?n.getAttribute("data-content"):n.innerText,t.querySelector(".item-content-faq div.action button.show-btn").classList.add("hide"),t.querySelector(".item-content-faq div.action button.hide-btn").classList.add("hide");else{e.target.closest(".item-header-faq").classList.add("expanded"),t.querySelector(".item-content-faq").classList.add("expanded"),t.querySelector(".btn-plus i.addIcon").classList.add("d-none"),t.querySelector(".btn-plus i.closeIcon").classList.remove("d-none");const o=n.innerText.length,i=t.querySelector(".faqs-footer div.action button.show-btn"),s=t.querySelector(".faqs-footer div.action button.hide-btn"),a=document.createElement("span");if(a.classList.add("big"),a.innerText=n.getAttribute("data-char"),o>450){t.querySelector(".item-content-faq div.action button.show-btn").classList.remove("hide"),i.getAttribute("data-event")||(i.addEventListener("click",(()=>{i.setAttribute("data-event",!0),n.innerText=n.getAttribute("data-content"),r&&n.prepend(a),t.querySelector(".item-content-faq div.action button.show-btn").classList.add("hide"),t.querySelector(".item-content-faq div.action button.hide-btn").classList.remove("hide")})),s.addEventListener("click",(()=>{s.setAttribute("data-event",!0),r&&n.querySelector("span").remove(),n.setAttribute("data-content",n.innerText);const e=n.innerText.substring(0,450)+"...";n.innerText=e,r&&n.prepend(a),t.querySelector(".item-content-faq div.action button.show-btn").classList.remove("hide"),t.querySelector(".item-content-faq div.action button.hide-btn").classList.add("hide")}))),n.setAttribute("data-content",n.innerText);const e=n.innerText.substring(0,450)+"...";n.innerText=e,r&&n.prepend(a)}else r&&n.prepend(a)}}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".faqs-footer"));e.length&&e.forEach((e=>{new ql(e)}))}));class Ll{constructor(e){this.mainContainer=e,this.popupContainer=e.querySelector(".modal-content .gallery-popup"),this.thumbContainer=e.querySelector(".modal-content .gallery-thumbs"),this.swiperContainer=e.querySelector(".swiper-grid"),this.columnContainer=e.querySelector(".column-container"),this.prev1=this.swiperContainer.querySelector(".swiper-button-prev"),this.next1=this.swiperContainer.querySelector(".swiper-button-next"),this.nextPopup=e.querySelector(".popupNavNext"),this.prevPopup=e.querySelector(".popupNavPrev"),this.videoContainerList=e.querySelector(".swiper-slide"),this.body=document.querySelector("body"),this.slideIndex=1,this.init(e)}init(e){let t={};t=e.classList.contains("galleryone")?{modules:[Ts,Es,Cs,As,_s,Is],autoHeight:!0,autoWidth:!1,spaceBetween:20,slidesPerView:1.08,freeMode:!0,breakpoints:{768:{normalizeSlideIndex:!1,slidesPerView:1.2,freeMode:!1,grid:{rows:2}}}}:{modules:[Ts,Es,Cs,As],autoWidth:!1,autoHeight:!1,slidesPerView:1,loop:!1,breakpoints:{768:{slidesPerView:3}},spaceBetween:20},t.pagination={el:".swiper-pagination",type:"fraction"},t.navigation={nextEl:this.next1,prevEl:this.prev1},this.swiper=new ys(this.swiperContainer,t),Array.from(e.querySelectorAll(".swiper-grid .swiper-slide")).forEach((e=>e.addEventListener("click",(()=>{this.openModal()})))),e.querySelector(".gallery__modal").addEventListener("click",(function(t){t.target===this&&(e.querySelector("#myModal").style.display="none",document.querySelector("body").style.overflow="initial")})),e.querySelector(".gallery__modal .close").addEventListener("click",(()=>{this.closeModal()})),this.thumbSlider=new ys(this.thumbContainer,{modules:[Ts,Cs,Ss],loop:!1,autoplay:!1,spaceBetween:15,autoWidth:!1,breakpoints:{320:{slidesPerView:2,loop:!1},768:{slidesPerView:3,loop:!1}}}),this.popupSlider=new ys(this.popupContainer,{modules:[Ts,Cs,Ss],loop:!1,autoplay:!1,spaceBetween:15,autoWidth:!1,navigation:{nextEl:this.nextPopup,prevEl:this.prevPopup},thumbs:{swiper:this.thumbSlider||null}}),this.swiper.on("click",((e,t)=>{this.openModal();const n=t?.target?.dataset.index-1||0;this.thumbSlider&&(this.thumbSlider?.slideTo(n),this.thumbSlider?.update()),this.popupSlider&&(this.popupSlider?.slideTo(n),this.popupSlider?.update())}))}openModal(){this.mainContainer.querySelector("#myModal").style.display="block",document.querySelector("body").style.overflow="hidden"}closeModal(){this.mainContainer.querySelector("#myModal").style.display="none",document.querySelector("body").style.overflow="initial"}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".gallery__container"));e.length&&e.forEach((e=>{new Ll(e)}))}));class Hl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.swiper=null,this.init(e)}init(e){e.closest(".grpthumbnails2").classList.contains("thumbnail-right")&&e.querySelector(".largeimage__left").remove();let t={modules:[Ts,Es,Cs,As,_s,Is],autoHeight:!0,autoWidth:!0,slidesPerView:1,breakpoints:{320:{slidesPerView:1.3}},pagination:{el:".swiper-pagination",type:"bullets",clickable:"true"}};window.matchMedia("(max-width:768px)").matches&&(this.swiper=new ys(this.swiperContainer,t)),window.addEventListener("resize",(()=>{window.matchMedia("(max-width:768px)").matches?this.swiper=new ys(this.swiperContainer,t):null!=this.swiper&&this.swiper.destroy(!0,!0)}))}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".groupthumbnail"));e.length&&e.forEach((e=>{new Hl(e)}))}));n(356);class Dl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.transitionSpeed=e.getAttribute("data-swiper-autoplay"),this.prev=this.swiperContainer.querySelector(".swiper-button-prev"),this.next=this.swiperContainer.querySelector(".swiper-button-next"),this.pagination=e.querySelector(".swiper-pagination"),this.swiperBar=this.swiperContainer.querySelector(".swiper-progress-bar"),this.progressBar=this.swiperBar.querySelector(".slide_progress-bar").style,this.imgHt=this.swiperContainer.querySelector(".swiper-slide img"),this.carouselContent=this.swiperContainer.querySelector(".carousel-content"),this.carouselCont=vi()(".js--hero-carousel .swiper-container .carousel-content"),this.carouselCont&&(this.heights=this.carouselCont.map((function(){return vi()(this).height()})).get()),this.maxHeight=Math.max.apply(Math,this.heights)||0,this.optionsWrapper=this.swiperContainer.querySelector(".swiper-options-wrapper"),this.innerCarousel=this.swiperContainer.querySelector(".inner-carousel"),this.headeMenu=document.querySelector(".header-menu"),this.initCarousel(e)}initCarousel(e){window.addEventListener("resize",(()=>{this.resizeHeight(e)})),window.addEventListener("load",(()=>{this.resizeHeight(e)}))}resizeHeight(e){this.swiper=new ys(this.swiperContainer,{modules:[Ts,Es,Cs,As],loop:!0,effect:"fade",autoplay:{delay:this.transitionSpeed,disableOnInteraction:!1,pauseOnMouseEnter:!1},pagination:{el:this.pagination,type:"fraction"},navigation:{nextEl:this.next,prevEl:this.prev},on:{init:function(){vi()(".js--hero-carousel .swiper-progress-bar").removeClass("animate"),vi()(".js--hero-carousel .swiper-progress-bar").removeClass("active"),vi()(".js--hero-carousel .swiper-progress-bar").eq(0).addClass("animate"),vi()(".js--hero-carousel .swiper-progress-bar").eq(0).addClass("active"),this.headerHeight=vi()(".header-menu").height(),vi()(".js--hero-carousel .carousel-content").css({top:this.headerHeight+"px"})},slideChangeTransitionStart:function(){vi()(".js--hero-carousel .swiper-progress-bar").removeClass("animate"),vi()(".js--hero-carousel .swiper-progress-bar").removeClass("active"),vi()(".js--hero-carousel .swiper-progress-bar").eq(0).addClass("active")},slideChangeTransitionEnd:function(){vi()(".js--hero-carousel .swiper-progress-bar").eq(0).addClass("animate")}}});var t=this.swiperContainer.swiper;vi()(".js--hero-carousel .swiper-container").hover((function(){t.autoplay.stop(),vi()(".js--hero-carousel .swiper-progress-bar").removeClass("animate")}),(function(){t.autoplay.start(),vi()(".js--hero-carousel .swiper-progress-bar").addClass("animate")})),this.progressBar.setProperty("--transition-duration",this.transitionSpeed/1e3+"s"),this.carouselContent&&this.optionsWrapper&&this.innerCarousel&&this.headeMenu&&(e.style.height=this.headeMenu.offsetHeight+this.maxHeight+this.optionsWrapper.offsetHeight+this.innerCarousel.offsetHeight+60+"px")}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".js--hero-carousel"));e.length&&e.forEach((e=>{new Dl(e)}))}));class Ul{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.swiperSlides=this.swiperContainer.querySelectorAll(".swiper-slide"),this.transitionSpeed=e.getAttribute("data-swiper-autoplay"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.pagination=e.querySelector(".swiper-pagination"),this.swiperBar=e.querySelector(".swiper-progress-bar"),this.progressBar=this.swiperBar.querySelector(".slide_progress-bar").style,this.bannerImg=e.querySelector(".bg-banner .imgWrapper"),this.carouselContainer=e.querySelector(".carousel-container"),this.headerMenu=document.querySelector(".header-menu"),this.initCarousel(e)}initCarousel(e){window.addEventListener("resize",(()=>{this.resizeHeight(e)})),window.addEventListener("load",(()=>{this.resizeHeight(e)}))}resizeHeight(e){if(window.innerWidth>992&&this.swiperSlides.length<=2)this.swiper=new ys(this.swiperContainer,{slidesPerView:2,spaceBetween:20});else{this.swiper=new ys(this.swiperContainer,{modules:[Ts,Es,Cs],slidesPerView:3,spaceBetween:20,loop:!1,pagination:{el:this.pagination,type:"fraction"},autoplay:{delay:this.transitionSpeed,disableOnInteraction:!1,pauseOnMouseEnter:!1},breakpoints:{320:{slidesPerView:1},992:{slidesPerView:2}},navigation:{nextEl:this.next,prevEl:this.prev},on:{init:function(){vi()(".js-highlightHeader1 .swiper-progress-bar").removeClass("animate"),vi()(".js-highlightHeader1 .swiper-progress-bar").removeClass("active"),vi()(".js-highlightHeader1 .swiper-progress-bar").eq(0).addClass("animate"),vi()(".js-highlightHeader1 .swiper-progress-bar").eq(0).addClass("active")},slideChangeTransitionStart:function(){vi()(".js-highlightHeader1 .swiper-progress-bar").removeClass("animate"),vi()(".js-highlightHeader1 .swiper-progress-bar").removeClass("active"),vi()(".js-highlightHeader1 .swiper-progress-bar").eq(0).addClass("active")},slideChangeTransitionEnd:function(){vi()(".js-highlightHeader1 .swiper-progress-bar").eq(0).addClass("animate")}}});var t=this.swiperContainer.swiper;vi()(".js-highlightHeader1 .swiper-container").hover((function(){t.autoplay.stop(),vi()(".js-highlightHeader1 .swiper-progress-bar").removeClass("animate")}),(function(){t.autoplay.start(),vi()(".js-highlightHeader1 .swiper-progress-bar").addClass("animate")})),this.progressBar.setProperty("--transition-duration",this.transitionSpeed/1e3+"s")}this.headerMenu&&this.bannerImg&&(this.carouselContainer.style.top=this.headerMenu.offsetHeight+"px",this.bannerImg.style.height=this.carouselContainer.offsetHeight+this.headerMenu.offsetHeight+"px",e.style.height=this.bannerImg.offsetHeight+"px"),this.headerMenu&&!this.bannerImg&&(this.carouselContainer.style.top=this.headerMenu.offsetHeight+"px",e.style.height=this.headerMenu.offsetHeight+this.carouselContainer.offsetHeight+"px"),!this.headerMenu&&this.bannerImg&&(this.bannerImg.style.height=this.carouselContainer.offsetHeight+"px",e.style.height=this.carouselContainer.offsetHeight+"px")}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".js-highlightHeader1"));e.length&&e.forEach((e=>{new Ul(e)}))}));class Bl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.transitionSpeed=e.getAttribute("data-swiper-autoplay"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.pagination=e.querySelector(".swiper-pagination"),this.swiperBar=this.swiperContainer.querySelector(".swiper-progress-bar"),this.progressBar=this.swiperBar.querySelector(".slide_progress-bar").style,this.imgHt=this.swiperContainer.querySelector(".swiper-slide img").offsetHeight,this.swiperSlide=this.swiperContainer.querySelectorAll(".swiper-slide"),this.swiperOptions=this.swiperContainer.querySelector(".swiper-options-wrapper"),this.initCarousel(e)}initCarousel(e){window.addEventListener("resize",(()=>{this.resizeHeight(e)})),window.addEventListener("load",(()=>{this.resizeHeight(e)}))}resizeHeight(e){if(this.swiperSlide.length>1){this.swiper=new ys(this.swiperContainer,{modules:[Ts,Es,Cs],loop:!1,autoplay:{delay:this.transitionSpeed,disableOnInteraction:!1,pauseOnMouseEnter:!1},pagination:{el:this.pagination,type:"fraction"},navigation:{nextEl:this.next,prevEl:this.prev},on:{init:function(){vi()(".js--highlightHeader2 .swiper-progress-bar").removeClass("animate"),vi()(".js--highlightHeader2 .swiper-progress-bar").removeClass("active"),vi()(".js--highlightHeader2 .swiper-progress-bar").eq(0).addClass("animate"),vi()(".js--highlightHeader2 .swiper-progress-bar").eq(0).addClass("active")},slideChangeTransitionStart:function(){vi()(".js--highlightHeader2 .swiper-progress-bar").removeClass("animate"),vi()(".js--highlightHeader2 .swiper-progress-bar").removeClass("active"),vi()(".js--highlightHeader2 .swiper-progress-bar").eq(0).addClass("active")},slideChangeTransitionEnd:function(){vi()(".js--highlightHeader2 .swiper-progress-bar").eq(0).addClass("animate")}}});var t=this.swiperContainer.swiper;vi()(".js--highlightHeader2 .swiper-container").hover((function(){t.autoplay.stop(),vi()(".js--highlightHeader2 .swiper-progress-bar").removeClass("animate")}),(function(){t.autoplay.start(),vi()(".js--highlightHeader2 .swiper-progress-bar").addClass("animate")})),this.progressBar.setProperty("--transition-duration",this.transitionSpeed/1e3+"s")}else this.swiperOptions.style.display="none";e.style.height=this.imgHt-10+"px"}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".js--highlightHeader2"));e.length&&e.forEach((e=>{new Bl(e)}))}));class Fl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.pagination=e.querySelector(".swiper-pagination"),this.wrapper=e.querySelector(".keyFacts-wrapper"),this.img=e.querySelector(".wrapperImg"),this.initCarousel()}initCarousel(){this.swiper=new ys(this.swiperContainer,{modules:[Ts,Cs,Es],loop:!1,autoplay:!1,spaceBetween:15,loopFillGroupWithBlank:!0,breakpoints:{320:{slidesPerView:1.2,slidesPerGroup:1,loop:!1},768:{slidesPerView:2,slidesPerGroup:2},1e3:{slidesPerView:6,slidesPerGroup:6},1920:{slidesPerView:6,slidesPerGroup:6}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:this.pagination,type:"fraction"}}),this.wrapper.offsetHeight>this.img.offsetHeight&&(this.img.style.height=this.wrapper.offsetHeight+"px")}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".keyFacts"));e.length&&e.forEach((e=>{new Fl(e)}))}));class Kl{constructor(e){this.component=e,this.swiperContainer=e?.querySelector(".lineup-icons-carousel"),this.component&&this.initCarousel()}initCarousel(){const e=this.component.querySelectorAll(".swiper-slide")?.length>6;this.swiper=new ys(this.swiperContainer,{modules:[Cs],navigation:{nextEl:".line-up-icons .swiper-button-next",prevEl:".line-up-icons .swiper-button-prev"},loop:!1,breakpoints:{320:{slidesPerView:2.5,spaceBetween:0,speed:800},768:{slidesPerView:4},1200:{enabled:e,slidesPerView:7,spaceBetween:10,speed:1e3}}})}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".line-up-icons"));e?.length&&e?.forEach((e=>{new Kl(e)}))}));class Gl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.pagination=e.querySelector(".swiper-pagination"),this.el=e,this.initCarousel()}initCarousel(){window.addEventListener("resize",(()=>{this.resizeHeight()})),window.addEventListener("load",(()=>{this.resizeHeight()}))}resizeHeight(){window.innerWidth>992?this.swiper=new ys(this.swiperContainer,{modules:[Ts],loop:!1,breakpoints:{320:{slidesPerView:1.2,spaceBetween:15},768:{slidesPerView:2.2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:20}}}):this.swiper=new ys(this.swiperContainer,{modules:[Ts,Es],loop:!1,pagination:{el:this.pagination,type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.2,spaceBetween:15},768:{slidesPerView:2.2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:20}}}),this.contentHt=this.el.querySelector(".js--multiColImg").offsetHeight,this.el.style.height=this.contentHt+"px"}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".mainWrapper"));e.length&&e.forEach((e=>{new Gl(e)}))}));class jl{constructor(e){this.component=e,this.swiperContainer=e?.querySelector(".related-contents-carousel"),this.component&&this.initCarousel()}initCarousel(){this.swiper=new ys(this.swiperContainer,{modules:[Cs,Es],pagination:{el:".related-contents__pagination",clickable:!0},breakpoints:{320:{slidesPerView:1.25,spaceBetween:15},768:{slidesPerView:3.25,spaceBetween:15},1024:{slidesPerView:3.25,spaceBetween:30},1440:{slidesPerView:4,spaceBetween:30}}})}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".swiper-box"));e?.length&&e?.forEach((e=>{new jl(e)}))}));class zl{constructor(e){this.component=e,this.swiperContainer=e?.querySelector(".related-topics-carousel"),this.component&&this.initCarousel(e)}initCarousel(e){this.swiper=new ys(this.swiperContainer,{modules:[Cs,Es,Ts],autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".related-topics-nav__pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0,breakpoints:{320:{slidesPerView:1,spaceBetween:20,speed:800},1200:{slidesPerView:2,spaceBetween:20,speed:1e3}},on:{init:function(){vi()(e).find(".related-topics-nav__progress").removeClass("animate"),vi()(e).find(".related-topics-nav__progress").removeClass("active"),vi()(e).find(".related-topics-nav__progress").eq(0).addClass("animate"),vi()(e).find(".related-topics-nav__progress").eq(0).addClass("active")},slideChangeTransitionStart:function(){vi()(e).find(".related-topics-nav__progress").removeClass("animate"),vi()(e).find(".related-topics-nav__progress").removeClass("active"),vi()(e).find(".related-topics-nav__progress").eq(0).addClass("active")},slideChangeTransitionEnd:function(){vi()(e).find(".related-topics-nav__progress").eq(0).addClass("animate")}}})}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".related-topics"));e?.length&&e?.forEach((e=>{new zl(e)}))}));class Wl{constructor(e){this.component=e,this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.pagination=e.querySelector(".swiper-pagination"),this.swiperContainer=e?.querySelector(".related-slide"),this.swiperCards=e?.querySelectorAll(".items"),this.initCarousel()}initCarousel(){this.swiperCards&&this.swiperCards.forEach(((e,t)=>{(t+1)%2==0?e.classList.add("even"):e.classList.add("odd")})),this.swiper=new ys(this.swiperContainer,{modules:[Cs,Es],centeredSlides:!1,navigation:{nextEl:this.next,prevEl:this.prev},pagination:{el:this.pagination,type:"fraction"},loop:!1,breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},1200:{slidesPerView:4,spaceBetween:20}}})}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".related-media"));e?.length&&e?.forEach((e=>{new Wl(e)}))}));class Vl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.transitionSpeed=e.getAttribute("data-swiper-autoplay"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.pagination=e.querySelector(".swiper-pagination"),this.swiperBar=e.querySelector(".swiper-progress-bar"),this.progressBar=this.swiperBar.querySelector(".slide_progress-bar").style,this.initCarousel()}initCarousel(){this.swiper=new ys(this.swiperContainer,{modules:[Ts,Es,Cs],slidesPerView:3,spaceBetween:20,loop:!1,autoplay:{delay:this.transitionSpeed,disableOnInteraction:!1,pauseOnMouseEnter:!1},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:1}},pagination:{el:this.pagination,type:"fraction"},navigation:{nextEl:this.next,prevEl:this.prev},on:{init:function(){vi()(".satangStoriesWrapper .swiper-progress-bar").removeClass("animate"),vi()(".satangStoriesWrapper .swiper-progress-bar").removeClass("active"),vi()(".satangStoriesWrapper .swiper-progress-bar").eq(0).addClass("animate"),vi()(".satangStoriesWrapper .swiper-progress-bar").eq(0).addClass("active")},slideChangeTransitionStart:function(){vi()(".satangStoriesWrapper .swiper-progress-bar").removeClass("animate"),vi()(".satangStoriesWrapper .swiper-progress-bar").removeClass("active"),vi()(".satangStoriesWrapper .swiper-progress-bar").eq(0).addClass("active")},slideChangeTransitionEnd:function(){vi()(".satangStoriesWrapper .swiper-progress-bar").eq(0).addClass("animate")}}});var e=this.swiperContainer.swiper;vi()(".satangStoriesWrapper .swiper-container").hover((function(){e.autoplay.stop(),vi()(".satangStoriesWrapper .swiper-progress-bar").removeClass("animate")}),(function(){e.autoplay.start(),vi()(".satangStoriesWrapper .swiper-progress-bar").addClass("animate")})),this.progressBar.setProperty("--transition-duration",this.transitionSpeed/1e3+"s")}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".satangStoriesWrapper.default"));e.length&&e.forEach((e=>{new Vl(e)}))}));class Yl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.transitionSpeed=e.getAttribute("data-swiper-autoplay"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.pagination=e.querySelector(".swiper-pagination"),this.swiperBar=e.querySelector(".swiper-progress-bar1"),this.progressBar=this.swiperBar.querySelector(".slide_progress-bar").style,this.initCarousel1()}initCarousel1(){this.swiper=new ys(this.swiperContainer,{modules:[Ts,Es,Cs],slidesPerView:3,spaceBetween:20,loop:!1,autoplay:{delay:this.transitionSpeed,disableOnInteraction:!1,pauseOnMouseEnter:!1},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:1}},pagination:{el:this.pagination,type:"fraction"},navigation:{nextEl:this.next,prevEl:this.prev},on:{init:function(){vi()(".flip .swiper-progress-bar1").removeClass("animate"),vi()(".flip .swiper-progress-bar1").removeClass("active"),vi()(".flip .swiper-progress-bar1").eq(0).addClass("animate"),vi()(".flip .swiper-progress-bar1").eq(0).addClass("active")},slideChangeTransitionStart:function(){vi()(".flip .swiper-progress-bar1").removeClass("animate"),vi()(".flip .swiper-progress-bar1").removeClass("active"),vi()(".flip .swiper-progress-bar1").eq(0).addClass("active")},slideChangeTransitionEnd:function(){vi()(".flip .swiper-progress-bar1").eq(0).addClass("animate")}}});var e=this.swiperContainer.swiper;vi()(".flip .swiper-container").hover((function(){e.autoplay.stop(),vi()(".flip .swiper-progress-bar1").removeClass("animate")}),(function(){e.autoplay.start(),vi()(".flip .swiper-progress-bar1").addClass("animate")})),this.progressBar.setProperty("--transition-duration",this.transitionSpeed/1e3+"s")}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".satangStoriesWrapper.flip"));e.length&&e.forEach((e=>{new Yl(e)}))}));n(498);class $l{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.slides=this.swiperContainer.querySelectorAll(".swiper-slide"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.radio=e.querySelectorAll("[data-score]"),this.yes=e.querySelector("#yes"),this.no=e.querySelector("#no"),this.resultsPage=e.querySelector(".swipeCard-results"),this.wrapper=e.querySelector(".swipeCard-wrapper"),this.json=e.getAttribute("data-json"),this.reset=e.querySelector(".btn-check-crisis-result"),this.img=e.querySelector(".imgWrapper"),this.initCarousel(e)}initCarousel(e){function t(){return parseInt(sessionStorage.getItem("yes")||0,10)}function n(){document.getElementById("yes").innerText=t()}function r(){return parseInt(sessionStorage.getItem("no")||0,10)}function o(){document.getElementById("no").innerText=r()}this.swiper=new ys(this.swiperContainer,{modules:[Cs,As],loop:!1,speed:1e3,slidesPerView:1,effect:"fade",navigation:{nextEl:this.next,prevEl:this.prev}}),this.radio.forEach((i=>{i.addEventListener("click",(()=>{let s;this.next.click(),"radio"===i.type&&i.checked&&(s=i.value,"yes"===s&&(sessionStorage.setItem("yes",t()+parseInt(i.dataset.score,10)),n()),"no"===s&&(sessionStorage.setItem("no",r()+parseInt(i.dataset.score,10)),o()));const a=parseInt(this.yes.innerText),c=parseInt(this.no.innerText);this.slides.length===a+c&&(this.resultsPage.style.display="flex",this.wrapper.style.display="none",fetch(this.json).then((function(e){return e.json()})).then((function(t){const n=e.querySelector(".totalScore"),r=e.querySelector(".dynText");t.resultContentList.forEach((e=>{const t=e.pointRange.split("-").map((e=>+e)),o=a;((e,t,n)=>e>=t&&e<=n)(o,t[0],t[1])&&(n.innerText=o+" points",r.innerHTML=e.content)}))})))}))})),window.onload=()=>{sessionStorage.clear()},this.reset.addEventListener("click",(()=>{sessionStorage.clear(),location.reload()})),n(),o()}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".swipeCard"));e.length&&e.forEach((e=>{new $l(e)}))}));n(202);class Ql{constructor(e){this._el=e,this.timeLineItems=this._el.querySelectorAll(".item-evolution-history"),this.yearIndicators=this._el.querySelectorAll(".evolution-history-year"),this.currentIndicator,this.currentTimeLine,this.media=window.matchMedia("(min-width: 768px)"),this.images=this._el.querySelectorAll(".evolution-history-image"),this.init()}addPopup(e,t,n,r,o,i){function s(e){let t=e.currentTarget.popVal;t.classList.contains("active")&&(t.style.display="none",t.classList.remove("active"),t.style.left="unset",t.style.right="unset",t.style.bottom="unset",t.style.top="unset",t.querySelector("p").innerHTML="",t.querySelector("div").style.left="unset",t.querySelector("div").style.right="unset")}i.addEventListener("mouseover",(function(e){let t=e.currentTarget.popVal,n=e.currentTarget.areaVal,r=e.currentTarget.widthVal,o=e.currentTarget.heightVal,i=e.currentTarget.xVal,s=e.currentTarget.yVal;t.classList.contains("active")||(t.classList.add("active"),t.style.display="flex",t.querySelector("p").innerHTML=n.alt,parseInt(i-t.offsetWidth/2)<0?(t.style.left="20px",t.querySelector("div").style.left=i-25+"px"):parseInt(i+t.offsetWidth/2)>r?(t.style.right="20px",t.querySelector("div").style.right=r-i-30+"px"):t.style.left=parseInt(i-t.offsetWidth/2)+"px",t.style.bottom=parseInt(o-s+30)+"px")})),i.addEventListener("mouseout",s),window.addEventListener("resize",s),window.addEventListener("scroll",s),i.popVal=e,i.areaVal=i,i.widthVal=t,i.heightVal=n,i.xVal=r,i.yVal=o,window.popVal=e}updateCoords(e){let t=e.querySelector("img"),n=e.querySelectorAll("area"),r=e.querySelector(".tooltip-content");if(n&&n.length)for(let e=0;e<n.length;e++){let o=t.width,i=t.height;if(o&&i){let t=n[e].dataset.relcoords;if(t){let s=t.split(","),a=new Array(s.length);for(let e=0;e<a.length;e++)a[e]=e%2==0?parseInt(s[e]*o):parseInt(s[e]*i);n[e].coords=a;let c=a[0],l=a[1];this.addPopup(r,o,i,c,l,n[e])}}}}adoptMedia(){if(this.yearIndicators){window.matchMedia("(min-width: 768px)").matches?window.addEventListener("scroll",(()=>{let e=[];for(let t=0;t<this.yearIndicators.length;t++)this.yearIndicators[t].getBoundingClientRect().top>0&&this.yearIndicators[t].getBoundingClientRect().top<window.innerHeight&&e.push(this.yearIndicators[t]);if(e.length>0){let t=e[e.length-1];t&&!t.querySelector(".make-circle").classList.contains("active")&&(t.querySelector(".make-circle").classList.add("active"),this.currentIndicator.querySelector(".make-circle").classList.remove("active"),this.currentIndicator=t,this.currentIndicator.parentNode.classList.contains("active")||(this.currentIndicator.parentNode.classList.add("active"),this.currentTimeLine.classList.remove("active"),this.currentTimeLine=this.currentIndicator.parentNode,this.updateCoords(this.currentTimeLine.querySelector(".evolution-history-image"))))}})):this.yearIndicators.forEach((e=>{e.parentNode.classList.contains("item_evolution_history")&&e.addEventListener("click",(()=>{e.querySelector(".make-circle").classList.contains("active")||(e.querySelector(".make-circle").classList.add("active"),this.currentIndicator.querySelector(".make-circle").classList.remove("active"),this.currentIndicator=e,e.parentNode.classList.contains("active")||(e.parentNode.classList.add("active"),this.currentTimeLine.classList.remove("active"),this.currentTimeLine=e.parentNode,this.updateCoords(this.currentTimeLine.querySelector(".evolution-history-image"))),window.scrollTo({top:window.scrollY+e.getBoundingClientRect().top,behavior:"smooth"}))}))}))}}init(){if(this.timeLineItems&&this.timeLineItems.length>1)for(let e=1;e<this.timeLineItems.length;e++)if(this.timeLineItems[e].classList.contains("item_evolution_history")||this.timeLineItems[e].classList.add("item_evolution_history"),1==e&&!this.timeLineItems[e].classList.contains("active")){this.timeLineItems[e].classList.add("active");let t=this.timeLineItems[e].querySelector(".evolution-history-year");t&&!t.querySelector(".make-circle").classList.contains("active")&&(t.querySelector(".make-circle").classList.add("active"),this.currentIndicator=t,this.currentTimeLine=this.timeLineItems[e])}this.images&&this.images.forEach((e=>{this.updateCoords(e)})),this.adoptMedia(),window.addEventListener("resize",(()=>{this.adoptMedia(),this.images&&this.images.forEach((e=>{this.updateCoords(e)}))}))}}window.addEventListener("DOMContentLoaded",(()=>{const e=[...document.querySelectorAll(".timeline")];e.length>0&&e.forEach((e=>{new Ql(e)}))}));class Jl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.title=e.querySelector(".home-news-inner"),this.navContainer=e.querySelector(".swiper-button-wrapper"),this.prev=e.querySelector(".swiper-button-prev"),this.next=e.querySelector(".swiper-button-next"),this.initCarousel()}setContainerMargin(){if(this.swiperContainer){let e=0,t=this.navContainer?this.navContainer.currentStyle||window.getComputedStyle(this.navContainer):null;e+=this.title?this.title.offsetHeight:0,e+=t?this.navContainer.offsetHeight+parseInt(t.marginTop):0,this.swiperContainer.style.marginTop=-e+"px"}}initCarousel(){window.addEventListener("resize",(()=>{this.resizeHeight()})),window.addEventListener("load",(()=>{this.resizeHeight()}))}resizeHeight(){if(window.innerWidth>767){this.setContainerMargin();const e=document.createElement("div");e.classList="swiper-slide",this.swiperContainer&&this.swiperContainer.querySelector(".swiper-wrapper").appendChild(e)}else this.swiperContainer&&(this.swiperContainer.style.marginTop=null);this.swiper=new ys(this.swiperContainer,{modules:[Ts,Cs],loop:!1,autoplay:!1,spaceBetween:15,breakpoints:{320:{slidesPerView:1.2,loop:!1},768:{slidesPerView:2.2},1366:{slidesPerView:3.2},1920:{slidesPerView:3.7}},navigation:{nextEl:this.next,prevEl:this.prev}})}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".js-whatsNew"));e.length&&e.forEach((e=>{new Jl(e)}))}));class Xl{constructor(e){this.swiperContainer=e.querySelector(".swiper-container"),this.init()}init(){let e={};e={modules:[Ts,Es,Cs,As],breakpoints:{375:{autoWidth:!0,slidesPerView:1.25,loop:!0,destroy:!0}}},window.innerWidth<768&&(this.swiper=new ys(this.swiperContainer,e))}}window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".relatedSites"));e.length&&e.forEach((e=>{new Xl(e)}))}))}()}();